(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{270:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(36),r(51),r(50),r(141),{name:"countries",layout:"Background",data:function(){return{key:""}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,e.next=3,r(n.slug).fetch().catch((function(t){error({statusCode:404,message:"Page not found"})}));case 3:return o=e.sent,e.next=6,r("tours").where({category:"/".concat(n.slug)}).limit(3).fetch().catch((function(t){error({statusCode:404,message:"Page not found"})}));case 6:return c=e.sent,e.abrupt("return",{country:o,tours:c});case 8:case"end":return e.stop()}}),e)})))()},head:function(){return{title:this.country.title,meta:[{hid:"description",name:"description",content:this.country.description}]}},mounted:function(){this.getImage(),this.moveCardImg(),this.getImg()},methods:{getImage:function(){this.key=document.querySelector(".card-bgi").src,this.$parent.$emit("arr",this.key)},getImg:function(){var img=document.querySelector(".img"),t=document.querySelector(".card-wrapper");JSON.parse(sessionStorage.getItem(this.key))!==this.key?img.onload=function(){t.classList.remove("card-wrapper-active")}:t.classList.remove("card-wrapper-active"),sessionStorage.setItem(this.key,JSON.stringify(this.key))},moveCardImg:function(){var t,e,r,n,o,c,img,d=!1,l=0,m=0,h=0,f=0;function y(){d&&(c.style.setProperty("transition","0.2s linear"),img.style.setProperty("transition","0.2s linear"),c.style.transform="rotateX("+m+"deg) rotateY("+l+"deg)",img.style.transform="scale(1.1,1.1) translate("+h+"%,"+f+"%)"),requestAnimationFrame(y)}window.addEventListener("mouseover",(function(l){var m=l.target.closest(".card-item");m&&(c=m.childNodes[0],img=m.childNodes[0].childNodes[0],t=m.getBoundingClientRect(),e=t.width/2,r=t.height/2,n=e/100,o=r/100,d=!0,y())})),window.addEventListener("mousemove",(function(c){c.target.closest(".card-item")&&(l=-Math.round((c.clientX-t.left-e)/n*.1),m=Math.round((c.clientY-t.top-r)/o*.1),h=Math.round((c.clientX-t.left-e)/n*.045*10)/10,f=Math.round((c.clientY-t.top-r)/o*.045*10)/10)})),window.addEventListener("mouseout",(function(t){d=!1,t.target.closest(".card-item")&&(c.style.setProperty("transition","0.4s linear"),img.style.setProperty("transition","0.4s linear"),c.style.transform="rotateX(0deg) rotateY(0deg)",img.style.transform="scale(1.1,1.1) translate(0%,0%)")}))}}}),c=r(42),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-wrap"},[r("h1",{staticClass:"card-h1"},[t._v(t._s(t.country.h1))]),t._v(" "),r("div",{staticClass:"card-wrapper card-wrapper-active"},t._l(t.tours,(function(e){return r("div",{ref:"cardItem",refInFor:!0,staticClass:"card-item card-item-active"},[r("div",{staticClass:"card-img"},[r("img",{staticClass:"img",attrs:{src:e.image,alt:e.alt}})]),t._v(" "),r("h3",{staticClass:"card-h3"},[r("NuxtLink",{attrs:{to:e.path}},[t._v(t._s(e.h1)),r("br"),t._v(t._s(e.br))])],1)])})),0),t._v(" "),r("img",{staticClass:"card-bgi",staticStyle:{display:"none"},attrs:{src:t.country.image}})])}),[],!1,null,"0a9e9811",null);e.default=component.exports}}]);