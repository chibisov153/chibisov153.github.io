document.addEventListener('DOMContentLoaded', function() {

  let header = document.querySelector('.header');
  let firstImage = document.querySelector('.first-image');
  let secondImage = document.querySelector('.second-image');
  let thirdImage = document.querySelector('.third-image');
  let fourthImage = document.querySelector('.fourth-image');
  let fifthImage = document.querySelector('.fifth-image');

  let benefits = document.querySelector('.benefits');
  let benefitsBackground = document.querySelector('.benefits-background');
  let benefitsItem1 = document.querySelector('.benefits_item-1');
  let benefitsItem2 = document.querySelector('.benefits_item-2');
  let benefitsImgB = document.querySelector('.benefits_img-b');
  let benefitsImgD = document.querySelector('.benefits_img-d');
  let benefitsImgFolded = document.querySelector('.benefits_img-folded');
  let benefitsImgDrone = document.querySelector('.benefits_img-drone');
  let benefitsItem3 = document.querySelector('.benefits_item-3');

  let camera = document.querySelector('.camera');
  let cameraImg = document.querySelector('.camera-img');

  let gallery = document.querySelector('.gallery');
  let galleryLayer1 = document.querySelector('.gallery-layer-1');
  let galleryLayer2 = document.querySelector('.gallery-layer-2');
  let galleryButton = document.querySelector('.gallery_button');

  let controller = document.querySelector('.controller');
  let controllerImg = document.querySelector('.controller_img');

  let layerTwo = document.querySelector('.layer-two');
  let schemaDescription1 = document.querySelector('.schema_description-1');
  let layerFour = document.querySelector('.layer-four');
  let schemaDescription2 = document.querySelector('.schema_description-2');
  let layerFive = document.querySelector('.layer-five');
  let schemaDescription3 = document.querySelector('.schema_description-3');
  let layerSeven = document.querySelector('.layer-seven');
  let schemaDescription4 = document.querySelector('.schema_description-4');
  let schemaDescription5 = document.querySelector('.schema_description-5');
  let layerEight = document.querySelector('.layer-eight');

  let buy_boxCase = document.querySelector('.buy_box-case');
  let buyButton = document.querySelector('.buy-button');

  let buy_boxInner = document.querySelector('.buy_box-inner');

  let windowHeight, windowWidth;

  function getSize() {
    windowHeight = document.body.clientHeight;
    windowWidth = document.documentElement.clientWidth;
  }

  getSize();

  window.onresize = function(){
    getSize();
  };

  window.onscroll = function() {

    let headerin = header.getBoundingClientRect();
    let headerSum1 = -headerin.top/70;
    let headerSum2 = -headerin.top/18.5;
    let headerSum3 = -headerin.top/4.6;
    let headerSum4 = -headerin.top/3.2;
    let headerSum5 = -headerin.top/17.5;

    function headerFun(){
      firstImage.style.transform = 'translate3d(0,'+ headerSum1 + '%,0)';
      secondImage.style.transform = 'translate3d(0,'+ headerSum2 + '%,0)';
      thirdImage.style.transform = 'translate3d(0,'+ headerSum3 + '%,0)';
      fourthImage.style.transform = 'translate3d(0,'+ headerSum4 + '%,0)';
      fifthImage.style.transform = 'translate3d(0,'+ headerSum5 + '%,0)';
    }
    if ( headerin.bottom >= 0){
      headerFun();
    }

    let benefitsin = benefits.getBoundingClientRect();
    let benefitsSum = benefitsin.top - windowHeight;
    let benefitsSum1 = benefitsSum/60;
    let benefitsSum2 = benefitsSum/20;
    let benefitsSum3 = -benefitsSum/38;
    let benefitsSum4 = benefitsSum/30;
    let benefitsSum5 = -benefitsSum/36;

    function benefitsFun(){
      benefitsBackground.style.transform = 'translate3d(0,'+ benefitsSum5 + '%,0)';
      benefitsImgB.style.transform = 'translate3d(0,'+ benefitsSum2 + '%,0)';
      benefitsItem1.style.transform = 'translate3d(0,'+ benefitsSum1 + '%,0)';
      benefitsImgD.style.transform = 'translate3d(0,'+ benefitsSum3 + '%,0)';
      benefitsImgDrone.style.transform = 'translate3d(0,'+ benefitsSum2 + '%,0)';
      benefitsItem2.style.transform = 'translate3d(0,'+ benefitsSum1 + '%,0)';
      benefitsImgFolded.style.transform = 'translate3d(0,'+ benefitsSum2 + '%,0)';
      benefitsItem3.style.transform = 'translate3d(0,'+ benefitsSum4 + '%,0)';
    }
    if ( benefitsSum <= 0 && benefitsin.bottom >= 0 ) {
      benefitsFun();
    }

    let cameraIn = camera.getBoundingClientRect();
    let cameraSum = cameraIn.top - windowHeight;

    if ( cameraSum <= 0 && cameraIn.top >= 0 ) {
      cameraImg.style.transform = 'translate3d(0,'+ cameraSum/35 + '%,0)';
    }

    let galleryin = gallery.getBoundingClientRect();
    let gallerySum = galleryin.top - windowHeight;
    let gallerySum1 = gallerySum/60;
    let gallerySum2 = gallerySum/5;

    function galleryFun(){
      galleryLayer1.style.transform = 'translate3d('+ gallerySum1 + '%, 0, 0)';
      galleryLayer2.style.transform = 'translate3d('+ -gallerySum1 + '%, 0, 0)';
      galleryButton.style.transform = 'translate3d(-50%, '+ gallerySum2 + '%, 0)';
    }

    if ( windowWidth <= 768 ) {
      gallerySum1 = gallerySum/50;
    }

    if ( gallerySum <= 0 && galleryin.bottom >= 0 ) {
      galleryFun();
    }

    let controllerin = controller.getBoundingClientRect();
    let controllerSum = controllerin.top - windowHeight;
    let controllerSum1 = controllerSum/30;

    if ( windowWidth <= 768 ) {
      controllerSum1 = controllerSum/20;
    }

    if ( controllerSum <= 0 && controllerin.bottom >= 0 ) {
      controllerImg.style.transform = 'translate3d(0,'+ controllerSum1 + '%, 0)';
    }

    let layerEightTop = layerEight.offsetTop;
    let layerEightBottom = layerEight.getBoundingClientRect().bottom;
    let layerEightSize = layerEightBottom - windowHeight;
    let layerTwoTop = layerTwo.offsetTop;
    let layerFourTop = layerFour.offsetTop;
    let layerFiveTop = layerFive.offsetTop;
    let layerSevenTop = layerSeven.offsetTop;

    if (layerEightTop > layerTwoTop) {
      schemaDescription1.classList.add('schema_active');
    } else {
      schemaDescription1.classList.remove('schema_active');
    }

    if (layerEightTop > layerFourTop) {
      schemaDescription2.classList.add('schema_active');
    } else {
      schemaDescription2.classList.remove('schema_active');
    }

    if (layerEightTop > layerFiveTop) {
      schemaDescription3.classList.add('schema_active');
    } else {
      schemaDescription3.classList.remove('schema_active');
    }

    if (layerEightTop > layerSevenTop) {
      schemaDescription4.classList.add('schema_active');
    } else {
      schemaDescription4.classList.remove('schema_active');
    }

    if (layerEightSize < 0) {
      schemaDescription5.classList.add('schema_active');
    } else {
      schemaDescription5.classList.remove('schema_active');
    }

    let buy_boxCaseTop = buy_boxCase.getBoundingClientRect().top;
    let buy_boxCaseSize = windowHeight - buy_boxCaseTop;
    let buy_boxCaseSum = -buy_boxCaseSize/40;

    if ( windowWidth <= 992 ) {
      buy_boxCaseSum = -buy_boxCaseSize/50;
    }

    if ( windowWidth <= 768 ) {
      buy_boxCaseSum = -buy_boxCaseSize/60;
    }

    if ( buy_boxCaseSize >= 0 && buy_boxCaseTop >= 0) {
      buy_boxCase.style.transform = 'translate3d(0,' + buy_boxCaseSum + '%,0)';
      buyButton.style.transform = 'translate3d(0,' + -buy_boxCaseSize + '%,0)';
    }

    if (buy_boxCaseTop < 0) {
      buy_boxInner.classList.add('buy_box-inner-active');
    } else {
      buy_boxInner.classList.remove('buy_box-inner-active');
    }

  };

  window.addEventListener('load', function() {

    let loader = document.querySelector('.loader');

    setTimeout(function(){
      loader.style.opacity = '0';
    },2500);

    setTimeout(function(){
      loader.style.display = 'none';
    },5000);

  })



});
