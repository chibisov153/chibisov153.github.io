(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const b of l.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&u(b)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();function ri(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function Ws(z,n){z.prototype=Object.create(n.prototype),z.prototype.constructor=z,z.__proto__=n}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ee={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ji={duration:.5,overwrite:!1,delay:0},Br,pe,Wt,Fe=1e8,Ht=1/Fe,xr=Math.PI*2,Mu=xr/4,zu=0,Gs=Math.sqrt,Eu=Math.cos,Lu=Math.sin,_e=function(n){return typeof n=="string"},Kt=function(n){return typeof n=="function"},ai=function(n){return typeof n=="number"},Fr=function(n){return typeof n>"u"},ti=function(n){return typeof n=="object"},Ce=function(n){return n!==!1},Nr=function(){return typeof window<"u"},Ln=function(n){return Kt(n)||_e(n)},Zs=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ye=Array.isArray,Sr=/(?:-?\.?\d|\.)+/gi,Xs=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Wi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,dr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Ys=/[+-]=-?[.\d]+/,js=/[^,'"\[\]\s]+/gi,Ru=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zt,Ke,Cr,qr,Le={},Fn={},Ks,Js=function(n){return(Fn=Ki(n,Le))&&ke},Vr=function(n,a){return console.warn("Invalid property",n,"set to",a,"Missing plugin? gsap.registerPlugin()")},_n=function(n,a){return!a&&console.warn(n)},Qs=function(n,a){return n&&(Le[n]=a)&&Fn&&(Fn[n]=a)||Le},dn=function(){return 0},Du={suppressEvents:!0,isStart:!0,kill:!1},Rn={suppressEvents:!0,kill:!1},Bu={suppressEvents:!0},Ur={},pi=[],Tr={},$s,Ae={},gr={},Ps=30,Dn=[],Hr="",Wr=function(n){var a=n[0],u,o;if(ti(a)||Kt(a)||(n=[n]),!(u=(a._gsap||{}).harness)){for(o=Dn.length;o--&&!Dn[o].targetTest(a););u=Dn[o]}for(o=n.length;o--;)n[o]&&(n[o]._gsap||(n[o]._gsap=new Sa(n[o],u)))||n.splice(o,1);return n},zi=function(n){return n._gsap||Wr(Ne(n))[0]._gsap},ta=function(n,a,u){return(u=n[a])&&Kt(u)?n[a]():Fr(u)&&n.getAttribute&&n.getAttribute(a)||u},Te=function(n,a){return(n=n.split(",")).forEach(a)||n},ee=function(n){return Math.round(n*1e5)/1e5||0},re=function(n){return Math.round(n*1e7)/1e7||0},Zi=function(n,a){var u=a.charAt(0),o=parseFloat(a.substr(2));return n=parseFloat(n),u==="+"?n+o:u==="-"?n-o:u==="*"?n*o:n/o},Fu=function(n,a){for(var u=a.length,o=0;n.indexOf(a[o])<0&&++o<u;);return o<u},Nn=function(){var n=pi.length,a=pi.slice(0),u,o;for(Tr={},pi.length=0,u=0;u<n;u++)o=a[u],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},ea=function(n,a,u,o){pi.length&&!pe&&Nn(),n.render(a,u,o||pe&&a<0&&(n._initted||n._startAt)),pi.length&&!pe&&Nn()},ia=function(n){var a=parseFloat(n);return(a||a===0)&&(n+"").match(js).length<2?a:_e(n)?n.trim():n},na=function(n){return n},Re=function(n,a){for(var u in a)u in n||(n[u]=a[u]);return n},Nu=function(n){return function(a,u){for(var o in u)o in a||o==="duration"&&n||o==="ease"||(a[o]=u[o])}},Ki=function(n,a){for(var u in a)n[u]=a[u];return n},Os=function z(n,a){for(var u in a)u!=="__proto__"&&u!=="constructor"&&u!=="prototype"&&(n[u]=ti(a[u])?z(n[u]||(n[u]={}),a[u]):a[u]);return n},qn=function(n,a){var u={},o;for(o in n)o in a||(u[o]=n[o]);return u},ln=function(n){var a=n.parent||Zt,u=n.keyframes?Nu(ye(n.keyframes)):Re;if(Ce(n.inherit))for(;a;)u(n,a.vars.defaults),a=a.parent||a._dp;return n},qu=function(n,a){for(var u=n.length,o=u===a.length;o&&u--&&n[u]===a[u];);return u<0},ra=function(n,a,u,o,l){u===void 0&&(u="_first"),o===void 0&&(o="_last");var b=n[o],T;if(l)for(T=a[l];b&&b[l]>T;)b=b._prev;return b?(a._next=b._next,b._next=a):(a._next=n[u],n[u]=a),a._next?a._next._prev=a:n[o]=a,a._prev=b,a.parent=a._dp=n,a},Gn=function(n,a,u,o){u===void 0&&(u="_first"),o===void 0&&(o="_last");var l=a._prev,b=a._next;l?l._next=b:n[u]===a&&(n[u]=b),b?b._prev=l:n[o]===a&&(n[o]=l),a._next=a._prev=a.parent=null},mi=function(n,a){n.parent&&(!a||n.parent.autoRemoveChildren)&&n.parent.remove&&n.parent.remove(n),n._act=0},Ei=function(n,a){if(n&&(!a||a._end>n._dur||a._start<0))for(var u=n;u;)u._dirty=1,u=u.parent;return n},Vu=function(n){for(var a=n.parent;a&&a.parent;)a._dirty=1,a.totalDuration(),a=a.parent;return n},Pr=function(n,a,u,o){return n._startAt&&(pe?n._startAt.revert(Rn):n.vars.immediateRender&&!n.vars.autoRevert||n._startAt.render(a,!0,o))},Uu=function z(n){return!n||n._ts&&z(n.parent)},ks=function(n){return n._repeat?Ji(n._tTime,n=n.duration()+n._rDelay)*n:0},Ji=function(n,a){var u=Math.floor(n=re(n/a));return n&&u===n?u-1:u},Vn=function(n,a){return(n-a._start)*a._ts+(a._ts>=0?0:a._dirty?a.totalDuration():a._tDur)},Zn=function(n){return n._end=re(n._start+(n._tDur/Math.abs(n._ts||n._rts||Ht)||0))},Xn=function(n,a){var u=n._dp;return u&&u.smoothChildTiming&&n._ts&&(n._start=re(u._time-(n._ts>0?a/n._ts:((n._dirty?n.totalDuration():n._tDur)-a)/-n._ts)),Zn(n),u._dirty||Ei(u,n)),n},sa=function(n,a){var u;if((a._time||!a._dur&&a._initted||a._start<n._time&&(a._dur||!a.add))&&(u=Vn(n.rawTime(),a),(!a._dur||yn(0,a.totalDuration(),u)-a._tTime>Ht)&&a.render(u,!0)),Ei(n,a)._dp&&n._initted&&n._time>=n._dur&&n._ts){if(n._dur<n.duration())for(u=n;u._dp;)u.rawTime()>=0&&u.totalTime(u._tTime),u=u._dp;n._zTime=-Ht}},Je=function(n,a,u,o){return a.parent&&mi(a),a._start=re((ai(u)?u:u||n!==Zt?Be(n,u,a):n._time)+a._delay),a._end=re(a._start+(a.totalDuration()/Math.abs(a.timeScale())||0)),ra(n,a,"_first","_last",n._sort?"_start":0),Or(a)||(n._recent=a),o||sa(n,a),n._ts<0&&Xn(n,n._tTime),n},aa=function(n,a){return(Le.ScrollTrigger||Vr("scrollTrigger",a))&&Le.ScrollTrigger.create(a,n)},ua=function(n,a,u,o,l){if(Zr(n,a,l),!n._initted)return 1;if(!u&&n._pt&&!pe&&(n._dur&&n.vars.lazy!==!1||!n._dur&&n.vars.lazy)&&$s!==Me.frame)return pi.push(n),n._lazy=[l,o],1},Hu=function z(n){var a=n.parent;return a&&a._ts&&a._initted&&!a._lock&&(a.rawTime()<0||z(a))},Or=function(n){var a=n.data;return a==="isFromStart"||a==="isStart"},Wu=function(n,a,u,o){var l=n.ratio,b=a<0||!a&&(!n._start&&Hu(n)&&!(!n._initted&&Or(n))||(n._ts<0||n._dp._ts<0)&&!Or(n))?0:1,T=n._rDelay,E=0,R,B,G;if(T&&n._repeat&&(E=yn(0,n._tDur,a),B=Ji(E,T),n._yoyo&&B&1&&(b=1-b),B!==Ji(n._tTime,T)&&(l=1-b,n.vars.repeatRefresh&&n._initted&&n.invalidate())),b!==l||pe||o||n._zTime===Ht||!a&&n._zTime){if(!n._initted&&ua(n,a,o,u,E))return;for(G=n._zTime,n._zTime=a||(u?Ht:0),u||(u=a&&!G),n.ratio=b,n._from&&(b=1-b),n._time=0,n._tTime=E,R=n._pt;R;)R.r(b,R.d),R=R._next;a<0&&Pr(n,a,u,!0),n._onUpdate&&!u&&ze(n,"onUpdate"),E&&n._repeat&&!u&&n.parent&&ze(n,"onRepeat"),(a>=n._tDur||a<0)&&n.ratio===b&&(b&&mi(n,1),!u&&!pe&&(ze(n,b?"onComplete":"onReverseComplete",!0),n._prom&&n._prom()))}else n._zTime||(n._zTime=a)},Gu=function(n,a,u){var o;if(u>a)for(o=n._first;o&&o._start<=u;){if(o.data==="isPause"&&o._start>a)return o;o=o._next}else for(o=n._last;o&&o._start>=u;){if(o.data==="isPause"&&o._start<a)return o;o=o._prev}},Qi=function(n,a,u,o){var l=n._repeat,b=re(a)||0,T=n._tTime/n._tDur;return T&&!o&&(n._time*=b/n._dur),n._dur=b,n._tDur=l?l<0?1e10:re(b*(l+1)+n._rDelay*l):b,T>0&&!o&&Xn(n,n._tTime=n._tDur*T),n.parent&&Zn(n),u||Ei(n.parent,n),n},Is=function(n){return n instanceof be?Ei(n):Qi(n,n._dur)},Zu={_start:0,endTime:dn,totalDuration:dn},Be=function z(n,a,u){var o=n.labels,l=n._recent||Zu,b=n.duration()>=Fe?l.endTime(!1):n._dur,T,E,R;return _e(a)&&(isNaN(a)||a in o)?(E=a.charAt(0),R=a.substr(-1)==="%",T=a.indexOf("="),E==="<"||E===">"?(T>=0&&(a=a.replace(/=/,"")),(E==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(a.substr(1))||0)*(R?(T<0?l:u).totalDuration()/100:1)):T<0?(a in o||(o[a]=b),o[a]):(E=parseFloat(a.charAt(T-1)+a.substr(T+1)),R&&u&&(E=E/100*(ye(u)?u[0]:u).totalDuration()),T>1?z(n,a.substr(0,T-1),u)+E:b+E)):a==null?b:+a},fn=function(n,a,u){var o=ai(a[1]),l=(o?2:1)+(n<2?0:1),b=a[l],T,E;if(o&&(b.duration=a[1]),b.parent=u,n){for(T=b,E=u;E&&!("immediateRender"in T);)T=E.vars.defaults||{},E=Ce(E.vars.inherit)&&E.parent;b.immediateRender=Ce(T.immediateRender),n<2?b.runBackwards=1:b.startAt=a[l-1]}return new ne(a[0],b,a[l+1])},yi=function(n,a){return n||n===0?a(n):a},yn=function(n,a,u){return u<n?n:u>a?a:u},we=function(n,a){return!_e(n)||!(a=Ru.exec(n))?"":a[1]},Xu=function(n,a,u){return yi(u,function(o){return yn(n,a,o)})},kr=[].slice,oa=function(n,a){return n&&ti(n)&&"length"in n&&(!a&&!n.length||n.length-1 in n&&ti(n[0]))&&!n.nodeType&&n!==Ke},Yu=function(n,a,u){return u===void 0&&(u=[]),n.forEach(function(o){var l;return _e(o)&&!a||oa(o,1)?(l=u).push.apply(l,Ne(o)):u.push(o)})||u},Ne=function(n,a,u){return Wt&&!a&&Wt.selector?Wt.selector(n):_e(n)&&!u&&(Cr||!$i())?kr.call((a||qr).querySelectorAll(n),0):ye(n)?Yu(n,u):oa(n)?kr.call(n,0):n?[n]:[]},Ir=function(n){return n=Ne(n)[0]||_n("Invalid scope")||{},function(a){var u=n.current||n.nativeElement||n;return Ne(a,u.querySelectorAll?u:u===n?_n("Invalid scope")||qr.createElement("div"):n)}},ha=function(n){return n.sort(function(){return .5-Math.random()})},la=function(n){if(Kt(n))return n;var a=ti(n)?n:{each:n},u=Li(a.ease),o=a.from||0,l=parseFloat(a.base)||0,b={},T=o>0&&o<1,E=isNaN(o)||T,R=a.axis,B=o,G=o;return _e(o)?B=G={center:.5,edges:.5,end:1}[o]||0:!T&&E&&(B=o[0],G=o[1]),function(X,M,J){var N=(J||a).length,tt=b[N],Q,lt,st,ht,ut,rt,gt,pt,ft;if(!tt){if(ft=a.grid==="auto"?0:(a.grid||[1,Fe])[1],!ft){for(gt=-Fe;gt<(gt=J[ft++].getBoundingClientRect().left)&&ft<N;);ft<N&&ft--}for(tt=b[N]=[],Q=E?Math.min(ft,N)*B-.5:o%ft,lt=ft===Fe?0:E?N*G/ft-.5:o/ft|0,gt=0,pt=Fe,rt=0;rt<N;rt++)st=rt%ft-Q,ht=lt-(rt/ft|0),tt[rt]=ut=R?Math.abs(R==="y"?ht:st):Gs(st*st+ht*ht),ut>gt&&(gt=ut),ut<pt&&(pt=ut);o==="random"&&ha(tt),tt.max=gt-pt,tt.min=pt,tt.v=N=(parseFloat(a.amount)||parseFloat(a.each)*(ft>N?N-1:R?R==="y"?N/ft:ft:Math.max(ft,N/ft))||0)*(o==="edges"?-1:1),tt.b=N<0?l-N:l,tt.u=we(a.amount||a.each)||0,u=u&&N<0?ya(u):u}return N=(tt[X]-tt.min)/tt.max||0,re(tt.b+(u?u(N):N)*tt.v)+tt.u}},Ar=function(n){var a=Math.pow(10,((n+"").split(".")[1]||"").length);return function(u){var o=re(Math.round(parseFloat(u)/n)*n*a);return(o-o%1)/a+(ai(u)?0:we(u))}},fa=function(n,a){var u=ye(n),o,l;return!u&&ti(n)&&(o=u=n.radius||Fe,n.values?(n=Ne(n.values),(l=!ai(n[0]))&&(o*=o)):n=Ar(n.increment)),yi(a,u?Kt(n)?function(b){return l=n(b),Math.abs(l-b)<=o?l:b}:function(b){for(var T=parseFloat(l?b.x:b),E=parseFloat(l?b.y:0),R=Fe,B=0,G=n.length,X,M;G--;)l?(X=n[G].x-T,M=n[G].y-E,X=X*X+M*M):X=Math.abs(n[G]-T),X<R&&(R=X,B=G);return B=!o||R<=o?n[B]:b,l||B===b||ai(b)?B:B+we(b)}:Ar(n))},ca=function(n,a,u,o){return yi(ye(n)?!a:u===!0?!!(u=0):!o,function(){return ye(n)?n[~~(Math.random()*n.length)]:(u=u||1e-5)&&(o=u<1?Math.pow(10,(u+"").length-2):1)&&Math.floor(Math.round((n-u/2+Math.random()*(a-n+u*.99))/u)*u*o)/o})},ju=function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return function(o){return a.reduce(function(l,b){return b(l)},o)}},Ku=function(n,a){return function(u){return n(parseFloat(u))+(a||we(u))}},Ju=function(n,a,u){return da(n,a,0,1,u)},_a=function(n,a,u){return yi(u,function(o){return n[~~a(o)]})},Qu=function z(n,a,u){var o=a-n;return ye(n)?_a(n,z(0,n.length),a):yi(u,function(l){return(o+(l-n)%o)%o+n})},$u=function z(n,a,u){var o=a-n,l=o*2;return ye(n)?_a(n,z(0,n.length-1),a):yi(u,function(b){return b=(l+(b-n)%l)%l||0,n+(b>o?l-b:b)})},gn=function(n){for(var a=0,u="",o,l,b,T;~(o=n.indexOf("random(",a));)b=n.indexOf(")",o),T=n.charAt(o+7)==="[",l=n.substr(o+7,b-o-7).match(T?js:Sr),u+=n.substr(a,o-a)+ca(T?l:+l[0],T?0:+l[1],+l[2]||1e-5),a=b+1;return u+n.substr(a,n.length-a)},da=function(n,a,u,o,l){var b=a-n,T=o-u;return yi(l,function(E){return u+((E-n)/b*T||0)})},to=function z(n,a,u,o){var l=isNaN(n+a)?0:function(M){return(1-M)*n+M*a};if(!l){var b=_e(n),T={},E,R,B,G,X;if(u===!0&&(o=1)&&(u=null),b)n={p:n},a={p:a};else if(ye(n)&&!ye(a)){for(B=[],G=n.length,X=G-2,R=1;R<G;R++)B.push(z(n[R-1],n[R]));G--,l=function(J){J*=G;var N=Math.min(X,~~J);return B[N](J-N)},u=a}else o||(n=Ki(ye(n)?[]:{},n));if(!B){for(E in a)Gr.call(T,n,E,"get",a[E]);l=function(J){return jr(J,T)||(b?n.p:n)}}}return yi(u,l)},As=function(n,a,u){var o=n.labels,l=Fe,b,T,E;for(b in o)T=o[b]-a,T<0==!!u&&T&&l>(T=Math.abs(T))&&(E=b,l=T);return E},ze=function(n,a,u){var o=n.vars,l=o[a],b=Wt,T=n._ctx,E,R,B;if(l)return E=o[a+"Params"],R=o.callbackScope||n,u&&pi.length&&Nn(),T&&(Wt=T),B=E?l.apply(R,E):l.call(R),Wt=b,B},on=function(n){return mi(n),n.scrollTrigger&&n.scrollTrigger.kill(!!pe),n.progress()<1&&ze(n,"onInterrupt"),n},Gi,ga=[],pa=function(n){if(n)if(n=!n.name&&n.default||n,Nr()||n.headless){var a=n.name,u=Kt(n),o=a&&!u&&n.init?function(){this._props=[]}:n,l={init:dn,render:jr,add:Gr,kill:vo,modifier:po,rawVars:0},b={targetTest:0,get:0,getSetter:Yr,aliases:{},register:0};if($i(),n!==o){if(Ae[a])return;Re(o,Re(qn(n,l),b)),Ki(o.prototype,Ki(l,qn(n,b))),Ae[o.prop=a]=o,n.targetTest&&(Dn.push(o),Ur[a]=1),a=(a==="css"?"CSS":a.charAt(0).toUpperCase()+a.substr(1))+"Plugin"}Qs(a,o),n.register&&n.register(ke,o,Pe)}else ga.push(n)},Ut=255,hn={aqua:[0,Ut,Ut],lime:[0,Ut,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ut],navy:[0,0,128],white:[Ut,Ut,Ut],olive:[128,128,0],yellow:[Ut,Ut,0],orange:[Ut,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ut,0,0],pink:[Ut,192,203],cyan:[0,Ut,Ut],transparent:[Ut,Ut,Ut,0]},pr=function(n,a,u){return n+=n<0?1:n>1?-1:0,(n*6<1?a+(u-a)*n*6:n<.5?u:n*3<2?a+(u-a)*(2/3-n)*6:a)*Ut+.5|0},va=function(n,a,u){var o=n?ai(n)?[n>>16,n>>8&Ut,n&Ut]:0:hn.black,l,b,T,E,R,B,G,X,M,J;if(!o){if(n.substr(-1)===","&&(n=n.substr(0,n.length-1)),hn[n])o=hn[n];else if(n.charAt(0)==="#"){if(n.length<6&&(l=n.charAt(1),b=n.charAt(2),T=n.charAt(3),n="#"+l+l+b+b+T+T+(n.length===5?n.charAt(4)+n.charAt(4):"")),n.length===9)return o=parseInt(n.substr(1,6),16),[o>>16,o>>8&Ut,o&Ut,parseInt(n.substr(7),16)/255];n=parseInt(n.substr(1),16),o=[n>>16,n>>8&Ut,n&Ut]}else if(n.substr(0,3)==="hsl"){if(o=J=n.match(Sr),!a)E=+o[0]%360/360,R=+o[1]/100,B=+o[2]/100,b=B<=.5?B*(R+1):B+R-B*R,l=B*2-b,o.length>3&&(o[3]*=1),o[0]=pr(E+1/3,l,b),o[1]=pr(E,l,b),o[2]=pr(E-1/3,l,b);else if(~n.indexOf("="))return o=n.match(Xs),u&&o.length<4&&(o[3]=1),o}else o=n.match(Sr)||hn.transparent;o=o.map(Number)}return a&&!J&&(l=o[0]/Ut,b=o[1]/Ut,T=o[2]/Ut,G=Math.max(l,b,T),X=Math.min(l,b,T),B=(G+X)/2,G===X?E=R=0:(M=G-X,R=B>.5?M/(2-G-X):M/(G+X),E=G===l?(b-T)/M+(b<T?6:0):G===b?(T-l)/M+2:(l-b)/M+4,E*=60),o[0]=~~(E+.5),o[1]=~~(R*100+.5),o[2]=~~(B*100+.5)),u&&o.length<4&&(o[3]=1),o},ma=function(n){var a=[],u=[],o=-1;return n.split(vi).forEach(function(l){var b=l.match(Wi)||[];a.push.apply(a,b),u.push(o+=b.length+1)}),a.c=u,a},Ms=function(n,a,u){var o="",l=(n+o).match(vi),b=a?"hsla(":"rgba(",T=0,E,R,B,G;if(!l)return n;if(l=l.map(function(X){return(X=va(X,a,1))&&b+(a?X[0]+","+X[1]+"%,"+X[2]+"%,"+X[3]:X.join(","))+")"}),u&&(B=ma(n),E=u.c,E.join(o)!==B.c.join(o)))for(R=n.replace(vi,"1").split(Wi),G=R.length-1;T<G;T++)o+=R[T]+(~E.indexOf(T)?l.shift()||b+"0,0,0,0)":(B.length?B:l.length?l:u).shift());if(!R)for(R=n.split(vi),G=R.length-1;T<G;T++)o+=R[T]+l[T];return o+R[G]},vi=function(){var z="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",n;for(n in hn)z+="|"+n+"\\b";return new RegExp(z+")","gi")}(),eo=/hsl[a]?\(/,wa=function(n){var a=n.join(" "),u;if(vi.lastIndex=0,vi.test(a))return u=eo.test(a),n[1]=Ms(n[1],u),n[0]=Ms(n[0],u,ma(n[1])),!0},pn,Me=function(){var z=Date.now,n=500,a=33,u=z(),o=u,l=1e3/240,b=l,T=[],E,R,B,G,X,M,J=function N(tt){var Q=z()-o,lt=tt===!0,st,ht,ut,rt;if((Q>n||Q<0)&&(u+=Q-a),o+=Q,ut=o-u,st=ut-b,(st>0||lt)&&(rt=++G.frame,X=ut-G.time*1e3,G.time=ut=ut/1e3,b+=st+(st>=l?4:l-st),ht=1),lt||(E=R(N)),ht)for(M=0;M<T.length;M++)T[M](ut,X,rt,tt)};return G={time:0,frame:0,tick:function(){J(!0)},deltaRatio:function(tt){return X/(1e3/(tt||60))},wake:function(){Ks&&(!Cr&&Nr()&&(Ke=Cr=window,qr=Ke.document||{},Le.gsap=ke,(Ke.gsapVersions||(Ke.gsapVersions=[])).push(ke.version),Js(Fn||Ke.GreenSockGlobals||!Ke.gsap&&Ke||{}),ga.forEach(pa)),B=typeof requestAnimationFrame<"u"&&requestAnimationFrame,E&&G.sleep(),R=B||function(tt){return setTimeout(tt,b-G.time*1e3+1|0)},pn=1,J(2))},sleep:function(){(B?cancelAnimationFrame:clearTimeout)(E),pn=0,R=dn},lagSmoothing:function(tt,Q){n=tt||1/0,a=Math.min(Q||33,n)},fps:function(tt){l=1e3/(tt||240),b=G.time*1e3+l},add:function(tt,Q,lt){var st=Q?function(ht,ut,rt,gt){tt(ht,ut,rt,gt),G.remove(st)}:tt;return G.remove(tt),T[lt?"unshift":"push"](st),$i(),st},remove:function(tt,Q){~(Q=T.indexOf(tt))&&T.splice(Q,1)&&M>=Q&&M--},_listeners:T},G}(),$i=function(){return!pn&&Me.wake()},Rt={},io=/^[\d.\-M][\d.\-,\s]/,no=/["']/g,ro=function(n){for(var a={},u=n.substr(1,n.length-3).split(":"),o=u[0],l=1,b=u.length,T,E,R;l<b;l++)E=u[l],T=l!==b-1?E.lastIndexOf(","):E.length,R=E.substr(0,T),a[o]=isNaN(R)?R.replace(no,"").trim():+R,o=E.substr(T+1).trim();return a},so=function(n){var a=n.indexOf("(")+1,u=n.indexOf(")"),o=n.indexOf("(",a);return n.substring(a,~o&&o<u?n.indexOf(")",u+1):u)},ao=function(n){var a=(n+"").split("("),u=Rt[a[0]];return u&&a.length>1&&u.config?u.config.apply(null,~n.indexOf("{")?[ro(a[1])]:so(n).split(",").map(ia)):Rt._CE&&io.test(n)?Rt._CE("",n):u},ya=function(n){return function(a){return 1-n(1-a)}},ba=function z(n,a){for(var u=n._first,o;u;)u instanceof be?z(u,a):u.vars.yoyoEase&&(!u._yoyo||!u._repeat)&&u._yoyo!==a&&(u.timeline?z(u.timeline,a):(o=u._ease,u._ease=u._yEase,u._yEase=o,u._yoyo=a)),u=u._next},Li=function(n,a){return n&&(Kt(n)?n:Rt[n]||ao(n))||a},Bi=function(n,a,u,o){u===void 0&&(u=function(E){return 1-a(1-E)}),o===void 0&&(o=function(E){return E<.5?a(E*2)/2:1-a((1-E)*2)/2});var l={easeIn:a,easeOut:u,easeInOut:o},b;return Te(n,function(T){Rt[T]=Le[T]=l,Rt[b=T.toLowerCase()]=u;for(var E in l)Rt[b+(E==="easeIn"?".in":E==="easeOut"?".out":".inOut")]=Rt[T+"."+E]=l[E]}),l},xa=function(n){return function(a){return a<.5?(1-n(1-a*2))/2:.5+n((a-.5)*2)/2}},vr=function z(n,a,u){var o=a>=1?a:1,l=(u||(n?.3:.45))/(a<1?a:1),b=l/xr*(Math.asin(1/o)||0),T=function(B){return B===1?1:o*Math.pow(2,-10*B)*Lu((B-b)*l)+1},E=n==="out"?T:n==="in"?function(R){return 1-T(1-R)}:xa(T);return l=xr/l,E.config=function(R,B){return z(n,R,B)},E},mr=function z(n,a){a===void 0&&(a=1.70158);var u=function(b){return b?--b*b*((a+1)*b+a)+1:0},o=n==="out"?u:n==="in"?function(l){return 1-u(1-l)}:xa(u);return o.config=function(l){return z(n,l)},o};Te("Linear,Quad,Cubic,Quart,Quint,Strong",function(z,n){var a=n<5?n+1:n;Bi(z+",Power"+(a-1),n?function(u){return Math.pow(u,a)}:function(u){return u},function(u){return 1-Math.pow(1-u,a)},function(u){return u<.5?Math.pow(u*2,a)/2:1-Math.pow((1-u)*2,a)/2})});Rt.Linear.easeNone=Rt.none=Rt.Linear.easeIn;Bi("Elastic",vr("in"),vr("out"),vr());(function(z,n){var a=1/n,u=2*a,o=2.5*a,l=function(T){return T<a?z*T*T:T<u?z*Math.pow(T-1.5/n,2)+.75:T<o?z*(T-=2.25/n)*T+.9375:z*Math.pow(T-2.625/n,2)+.984375};Bi("Bounce",function(b){return 1-l(1-b)},l)})(7.5625,2.75);Bi("Expo",function(z){return Math.pow(2,10*(z-1))*z+z*z*z*z*z*z*(1-z)});Bi("Circ",function(z){return-(Gs(1-z*z)-1)});Bi("Sine",function(z){return z===1?1:-Eu(z*Mu)+1});Bi("Back",mr("in"),mr("out"),mr());Rt.SteppedEase=Rt.steps=Le.SteppedEase={config:function(n,a){n===void 0&&(n=1);var u=1/n,o=n+(a?0:1),l=a?1:0,b=1-Ht;return function(T){return((o*yn(0,b,T)|0)+l)*u}}};ji.ease=Rt["quad.out"];Te("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(z){return Hr+=z+","+z+"Params,"});var Sa=function(n,a){this.id=zu++,n._gsap=this,this.target=n,this.harness=a,this.get=a?a.get:ta,this.set=a?a.getSetter:Yr},vn=function(){function z(a){this.vars=a,this._delay=+a.delay||0,(this._repeat=a.repeat===1/0?-2:a.repeat||0)&&(this._rDelay=a.repeatDelay||0,this._yoyo=!!a.yoyo||!!a.yoyoEase),this._ts=1,Qi(this,+a.duration,1,1),this.data=a.data,Wt&&(this._ctx=Wt,Wt.data.push(this)),pn||Me.wake()}var n=z.prototype;return n.delay=function(u){return u||u===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+u-this._delay),this._delay=u,this):this._delay},n.duration=function(u){return arguments.length?this.totalDuration(this._repeat>0?u+(u+this._rDelay)*this._repeat:u):this.totalDuration()&&this._dur},n.totalDuration=function(u){return arguments.length?(this._dirty=0,Qi(this,this._repeat<0?u:(u-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},n.totalTime=function(u,o){if($i(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Xn(this,u),!l._dp||l.parent||sa(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&u<this._tDur||this._ts<0&&u>0||!this._tDur&&!u)&&Je(this._dp,this,this._start-this._delay)}return(this._tTime!==u||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Ht||!u&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=u),ea(this,u,o)),this},n.time=function(u,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),u+ks(this))%(this._dur+this._rDelay)||(u?this._dur:0),o):this._time},n.totalProgress=function(u,o){return arguments.length?this.totalTime(this.totalDuration()*u,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},n.progress=function(u,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-u:u)+ks(this),o):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},n.iteration=function(u,o){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(u-1)*l,o):this._repeat?Ji(this._tTime,l)+1:1},n.timeScale=function(u,o){if(!arguments.length)return this._rts===-Ht?0:this._rts;if(this._rts===u)return this;var l=this.parent&&this._ts?Vn(this.parent._time,this):this._tTime;return this._rts=+u||0,this._ts=this._ps||u===-Ht?0:this._rts,this.totalTime(yn(-Math.abs(this._delay),this._tDur,l),o!==!1),Zn(this),Vu(this)},n.paused=function(u){return arguments.length?(this._ps!==u&&(this._ps=u,u?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($i(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ht&&(this._tTime-=Ht)))),this):this._ps},n.startTime=function(u){if(arguments.length){this._start=u;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Je(o,this,u-this._delay),this}return this._start},n.endTime=function(u){return this._start+(Ce(u)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},n.rawTime=function(u){var o=this.parent||this._dp;return o?u&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Vn(o.rawTime(u),this):this._tTime:this._tTime},n.revert=function(u){u===void 0&&(u=Bu);var o=pe;return pe=u,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(u),this.totalTime(-.01,u.suppressEvents)),this.data!=="nested"&&u.kill!==!1&&this.kill(),pe=o,this},n.globalTime=function(u){for(var o=this,l=arguments.length?u:o.rawTime();o;)l=o._start+l/(Math.abs(o._ts)||1),o=o._dp;return!this.parent&&this._sat?this._sat.globalTime(u):l},n.repeat=function(u){return arguments.length?(this._repeat=u===1/0?-2:u,Is(this)):this._repeat===-2?1/0:this._repeat},n.repeatDelay=function(u){if(arguments.length){var o=this._time;return this._rDelay=u,Is(this),o?this.time(o):this}return this._rDelay},n.yoyo=function(u){return arguments.length?(this._yoyo=u,this):this._yoyo},n.seek=function(u,o){return this.totalTime(Be(this,u),Ce(o))},n.restart=function(u,o){return this.play().totalTime(u?-this._delay:0,Ce(o)),this._dur||(this._zTime=-Ht),this},n.play=function(u,o){return u!=null&&this.seek(u,o),this.reversed(!1).paused(!1)},n.reverse=function(u,o){return u!=null&&this.seek(u||this.totalDuration(),o),this.reversed(!0).paused(!1)},n.pause=function(u,o){return u!=null&&this.seek(u,o),this.paused(!0)},n.resume=function(){return this.paused(!1)},n.reversed=function(u){return arguments.length?(!!u!==this.reversed()&&this.timeScale(-this._rts||(u?-Ht:0)),this):this._rts<0},n.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ht,this},n.isActive=function(){var u=this.parent||this._dp,o=this._start,l;return!!(!u||this._ts&&this._initted&&u.isActive()&&(l=u.rawTime(!0))>=o&&l<this.endTime(!0)-Ht)},n.eventCallback=function(u,o,l){var b=this.vars;return arguments.length>1?(o?(b[u]=o,l&&(b[u+"Params"]=l),u==="onUpdate"&&(this._onUpdate=o)):delete b[u],this):b[u]},n.then=function(u){var o=this;return new Promise(function(l){var b=Kt(u)?u:na,T=function(){var R=o.then;o.then=null,Kt(b)&&(b=b(o))&&(b.then||b===o)&&(o.then=R),l(b),o.then=R};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?T():o._prom=T})},n.kill=function(){on(this)},z}();Re(vn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ht,_prom:0,_ps:!1,_rts:1});var be=function(z){Ws(n,z);function n(u,o){var l;return u===void 0&&(u={}),l=z.call(this,u)||this,l.labels={},l.smoothChildTiming=!!u.smoothChildTiming,l.autoRemoveChildren=!!u.autoRemoveChildren,l._sort=Ce(u.sortChildren),Zt&&Je(u.parent||Zt,ri(l),o),u.reversed&&l.reverse(),u.paused&&l.paused(!0),u.scrollTrigger&&aa(ri(l),u.scrollTrigger),l}var a=n.prototype;return a.to=function(o,l,b){return fn(0,arguments,this),this},a.from=function(o,l,b){return fn(1,arguments,this),this},a.fromTo=function(o,l,b,T){return fn(2,arguments,this),this},a.set=function(o,l,b){return l.duration=0,l.parent=this,ln(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new ne(o,l,Be(this,b),1),this},a.call=function(o,l,b){return Je(this,ne.delayedCall(0,o,l),b)},a.staggerTo=function(o,l,b,T,E,R,B){return b.duration=l,b.stagger=b.stagger||T,b.onComplete=R,b.onCompleteParams=B,b.parent=this,new ne(o,b,Be(this,E)),this},a.staggerFrom=function(o,l,b,T,E,R,B){return b.runBackwards=1,ln(b).immediateRender=Ce(b.immediateRender),this.staggerTo(o,l,b,T,E,R,B)},a.staggerFromTo=function(o,l,b,T,E,R,B,G){return T.startAt=b,ln(T).immediateRender=Ce(T.immediateRender),this.staggerTo(o,l,T,E,R,B,G)},a.render=function(o,l,b){var T=this._time,E=this._dirty?this.totalDuration():this._tDur,R=this._dur,B=o<=0?0:re(o),G=this._zTime<0!=o<0&&(this._initted||!R),X,M,J,N,tt,Q,lt,st,ht,ut,rt,gt;if(this!==Zt&&B>E&&o>=0&&(B=E),B!==this._tTime||b||G){if(T!==this._time&&R&&(B+=this._time-T,o+=this._time-T),X=B,ht=this._start,st=this._ts,Q=!st,G&&(R||(T=this._zTime),(o||!l)&&(this._zTime=o)),this._repeat){if(rt=this._yoyo,tt=R+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(tt*100+o,l,b);if(X=re(B%tt),B===E?(N=this._repeat,X=R):(ut=re(B/tt),N=~~ut,N&&N===ut&&(X=R,N--),X>R&&(X=R)),ut=Ji(this._tTime,tt),!T&&this._tTime&&ut!==N&&this._tTime-ut*tt-this._dur<=0&&(ut=N),rt&&N&1&&(X=R-X,gt=1),N!==ut&&!this._lock){var pt=rt&&ut&1,ft=pt===(rt&&N&1);if(N<ut&&(pt=!pt),T=pt?0:B%R?R:B,this._lock=1,this.render(T||(gt?0:re(N*tt)),l,!R)._lock=0,this._tTime=B,!l&&this.parent&&ze(this,"onRepeat"),this.vars.repeatRefresh&&!gt&&(this.invalidate()._lock=1),T&&T!==this._time||Q!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(R=this._dur,E=this._tDur,ft&&(this._lock=2,T=pt?R:-1e-4,this.render(T,!0),this.vars.repeatRefresh&&!gt&&this.invalidate()),this._lock=0,!this._ts&&!Q)return this;ba(this,gt)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(lt=Gu(this,re(T),re(X)),lt&&(B-=X-(X=lt._start))),this._tTime=B,this._time=X,this._act=!st,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,T=0),!T&&X&&!l&&!N&&(ze(this,"onStart"),this._tTime!==B))return this;if(X>=T&&o>=0)for(M=this._first;M;){if(J=M._next,(M._act||X>=M._start)&&M._ts&&lt!==M){if(M.parent!==this)return this.render(o,l,b);if(M.render(M._ts>0?(X-M._start)*M._ts:(M._dirty?M.totalDuration():M._tDur)+(X-M._start)*M._ts,l,b),X!==this._time||!this._ts&&!Q){lt=0,J&&(B+=this._zTime=-Ht);break}}M=J}else{M=this._last;for(var Mt=o<0?o:X;M;){if(J=M._prev,(M._act||Mt<=M._end)&&M._ts&&lt!==M){if(M.parent!==this)return this.render(o,l,b);if(M.render(M._ts>0?(Mt-M._start)*M._ts:(M._dirty?M.totalDuration():M._tDur)+(Mt-M._start)*M._ts,l,b||pe&&(M._initted||M._startAt)),X!==this._time||!this._ts&&!Q){lt=0,J&&(B+=this._zTime=Mt?-Ht:Ht);break}}M=J}}if(lt&&!l&&(this.pause(),lt.render(X>=T?0:-Ht)._zTime=X>=T?1:-1,this._ts))return this._start=ht,Zn(this),this.render(o,l,b);this._onUpdate&&!l&&ze(this,"onUpdate",!0),(B===E&&this._tTime>=this.totalDuration()||!B&&T)&&(ht===this._start||Math.abs(st)!==Math.abs(this._ts))&&(this._lock||((o||!R)&&(B===E&&this._ts>0||!B&&this._ts<0)&&mi(this,1),!l&&!(o<0&&!T)&&(B||T||!E)&&(ze(this,B===E&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(B<E&&this.timeScale()>0)&&this._prom())))}return this},a.add=function(o,l){var b=this;if(ai(l)||(l=Be(this,l,o)),!(o instanceof vn)){if(ye(o))return o.forEach(function(T){return b.add(T,l)}),this;if(_e(o))return this.addLabel(o,l);if(Kt(o))o=ne.delayedCall(0,o);else return this}return this!==o?Je(this,o,l):this},a.getChildren=function(o,l,b,T){o===void 0&&(o=!0),l===void 0&&(l=!0),b===void 0&&(b=!0),T===void 0&&(T=-Fe);for(var E=[],R=this._first;R;)R._start>=T&&(R instanceof ne?l&&E.push(R):(b&&E.push(R),o&&E.push.apply(E,R.getChildren(!0,l,b)))),R=R._next;return E},a.getById=function(o){for(var l=this.getChildren(1,1,1),b=l.length;b--;)if(l[b].vars.id===o)return l[b]},a.remove=function(o){return _e(o)?this.removeLabel(o):Kt(o)?this.killTweensOf(o):(o.parent===this&&Gn(this,o),o===this._recent&&(this._recent=this._last),Ei(this))},a.totalTime=function(o,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=re(Me.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),z.prototype.totalTime.call(this,o,l),this._forcing=0,this):this._tTime},a.addLabel=function(o,l){return this.labels[o]=Be(this,l),this},a.removeLabel=function(o){return delete this.labels[o],this},a.addPause=function(o,l,b){var T=ne.delayedCall(0,l||dn,b);return T.data="isPause",this._hasPause=1,Je(this,T,Be(this,o))},a.removePause=function(o){var l=this._first;for(o=Be(this,o);l;)l._start===o&&l.data==="isPause"&&mi(l),l=l._next},a.killTweensOf=function(o,l,b){for(var T=this.getTweensOf(o,b),E=T.length;E--;)_i!==T[E]&&T[E].kill(o,l);return this},a.getTweensOf=function(o,l){for(var b=[],T=Ne(o),E=this._first,R=ai(l),B;E;)E instanceof ne?Fu(E._targets,T)&&(R?(!_i||E._initted&&E._ts)&&E.globalTime(0)<=l&&E.globalTime(E.totalDuration())>l:!l||E.isActive())&&b.push(E):(B=E.getTweensOf(T,l)).length&&b.push.apply(b,B),E=E._next;return b},a.tweenTo=function(o,l){l=l||{};var b=this,T=Be(b,o),E=l,R=E.startAt,B=E.onStart,G=E.onStartParams,X=E.immediateRender,M,J=ne.to(b,Re({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:T,overwrite:"auto",duration:l.duration||Math.abs((T-(R&&"time"in R?R.time:b._time))/b.timeScale())||Ht,onStart:function(){if(b.pause(),!M){var tt=l.duration||Math.abs((T-(R&&"time"in R?R.time:b._time))/b.timeScale());J._dur!==tt&&Qi(J,tt,0,1).render(J._time,!0,!0),M=1}B&&B.apply(J,G||[])}},l));return X?J.render(0):J},a.tweenFromTo=function(o,l,b){return this.tweenTo(l,Re({startAt:{time:Be(this,o)}},b))},a.recent=function(){return this._recent},a.nextLabel=function(o){return o===void 0&&(o=this._time),As(this,Be(this,o))},a.previousLabel=function(o){return o===void 0&&(o=this._time),As(this,Be(this,o),1)},a.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Ht)},a.shiftChildren=function(o,l,b){b===void 0&&(b=0);for(var T=this._first,E=this.labels,R;T;)T._start>=b&&(T._start+=o,T._end+=o),T=T._next;if(l)for(R in E)E[R]>=b&&(E[R]+=o);return Ei(this)},a.invalidate=function(o){var l=this._first;for(this._lock=0;l;)l.invalidate(o),l=l._next;return z.prototype.invalidate.call(this,o)},a.clear=function(o){o===void 0&&(o=!0);for(var l=this._first,b;l;)b=l._next,this.remove(l),l=b;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Ei(this)},a.totalDuration=function(o){var l=0,b=this,T=b._last,E=Fe,R,B,G;if(arguments.length)return b.timeScale((b._repeat<0?b.duration():b.totalDuration())/(b.reversed()?-o:o));if(b._dirty){for(G=b.parent;T;)R=T._prev,T._dirty&&T.totalDuration(),B=T._start,B>E&&b._sort&&T._ts&&!b._lock?(b._lock=1,Je(b,T,B-T._delay,1)._lock=0):E=B,B<0&&T._ts&&(l-=B,(!G&&!b._dp||G&&G.smoothChildTiming)&&(b._start+=B/b._ts,b._time-=B,b._tTime-=B),b.shiftChildren(-B,!1,-1/0),E=0),T._end>l&&T._ts&&(l=T._end),T=R;Qi(b,b===Zt&&b._time>l?b._time:l,1,1),b._dirty=0}return b._tDur},n.updateRoot=function(o){if(Zt._ts&&(ea(Zt,Vn(o,Zt)),$s=Me.frame),Me.frame>=Ps){Ps+=Ee.autoSleep||120;var l=Zt._first;if((!l||!l._ts)&&Ee.autoSleep&&Me._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||Me.sleep()}}},n}(vn);Re(be.prototype,{_lock:0,_hasPause:0,_forcing:0});var uo=function(n,a,u,o,l,b,T){var E=new Pe(this._pt,n,a,0,1,Ia,null,l),R=0,B=0,G,X,M,J,N,tt,Q,lt;for(E.b=u,E.e=o,u+="",o+="",(Q=~o.indexOf("random("))&&(o=gn(o)),b&&(lt=[u,o],b(lt,n,a),u=lt[0],o=lt[1]),X=u.match(dr)||[];G=dr.exec(o);)J=G[0],N=o.substring(R,G.index),M?M=(M+1)%5:N.substr(-5)==="rgba("&&(M=1),J!==X[B++]&&(tt=parseFloat(X[B-1])||0,E._pt={_next:E._pt,p:N||B===1?N:",",s:tt,c:J.charAt(1)==="="?Zi(tt,J)-tt:parseFloat(J)-tt,m:M&&M<4?Math.round:0},R=dr.lastIndex);return E.c=R<o.length?o.substring(R,o.length):"",E.fp=T,(Ys.test(o)||Q)&&(E.e=0),this._pt=E,E},Gr=function(n,a,u,o,l,b,T,E,R,B){Kt(o)&&(o=o(l||0,n,b));var G=n[a],X=u!=="get"?u:Kt(G)?R?n[a.indexOf("set")||!Kt(n["get"+a.substr(3)])?a:"get"+a.substr(3)](R):n[a]():G,M=Kt(G)?R?co:Oa:Xr,J;if(_e(o)&&(~o.indexOf("random(")&&(o=gn(o)),o.charAt(1)==="="&&(J=Zi(X,o)+(we(X)||0),(J||J===0)&&(o=J))),!B||X!==o||Mr)return!isNaN(X*o)&&o!==""?(J=new Pe(this._pt,n,a,+X||0,o-(X||0),typeof G=="boolean"?go:ka,0,M),R&&(J.fp=R),T&&J.modifier(T,this,n),this._pt=J):(!G&&!(a in n)&&Vr(a,o),uo.call(this,n,a,X,o,M,E||Ee.stringFilter,R))},oo=function(n,a,u,o,l){if(Kt(n)&&(n=cn(n,l,a,u,o)),!ti(n)||n.style&&n.nodeType||ye(n)||Zs(n))return _e(n)?cn(n,l,a,u,o):n;var b={},T;for(T in n)b[T]=cn(n[T],l,a,u,o);return b},Ca=function(n,a,u,o,l,b){var T,E,R,B;if(Ae[n]&&(T=new Ae[n]).init(l,T.rawVars?a[n]:oo(a[n],o,l,b,u),u,o,b)!==!1&&(u._pt=E=new Pe(u._pt,l,n,0,1,T.render,T,0,T.priority),u!==Gi))for(R=u._ptLookup[u._targets.indexOf(l)],B=T._props.length;B--;)R[T._props[B]]=E;return T},_i,Mr,Zr=function z(n,a,u){var o=n.vars,l=o.ease,b=o.startAt,T=o.immediateRender,E=o.lazy,R=o.onUpdate,B=o.runBackwards,G=o.yoyoEase,X=o.keyframes,M=o.autoRevert,J=n._dur,N=n._startAt,tt=n._targets,Q=n.parent,lt=Q&&Q.data==="nested"?Q.vars.targets:tt,st=n._overwrite==="auto"&&!Br,ht=n.timeline,ut,rt,gt,pt,ft,Mt,qt,Lt,Et,yt,Yt,ot,Ft;if(ht&&(!X||!l)&&(l="none"),n._ease=Li(l,ji.ease),n._yEase=G?ya(Li(G===!0?l:G,ji.ease)):0,G&&n._yoyo&&!n._repeat&&(G=n._yEase,n._yEase=n._ease,n._ease=G),n._from=!ht&&!!o.runBackwards,!ht||X&&!o.stagger){if(Lt=tt[0]?zi(tt[0]).harness:0,ot=Lt&&o[Lt.prop],ut=qn(o,Ur),N&&(N._zTime<0&&N.progress(1),a<0&&B&&T&&!M?N.render(-1,!0):N.revert(B&&J?Rn:Du),N._lazy=0),b){if(mi(n._startAt=ne.set(tt,Re({data:"isStart",overwrite:!1,parent:Q,immediateRender:!0,lazy:!N&&Ce(E),startAt:null,delay:0,onUpdate:R&&function(){return ze(n,"onUpdate")},stagger:0},b))),n._startAt._dp=0,n._startAt._sat=n,a<0&&(pe||!T&&!M)&&n._startAt.revert(Rn),T&&J&&a<=0&&u<=0){a&&(n._zTime=a);return}}else if(B&&J&&!N){if(a&&(T=!1),gt=Re({overwrite:!1,data:"isFromStart",lazy:T&&!N&&Ce(E),immediateRender:T,stagger:0,parent:Q},ut),ot&&(gt[Lt.prop]=ot),mi(n._startAt=ne.set(tt,gt)),n._startAt._dp=0,n._startAt._sat=n,a<0&&(pe?n._startAt.revert(Rn):n._startAt.render(-1,!0)),n._zTime=a,!T)z(n._startAt,Ht,Ht);else if(!a)return}for(n._pt=n._ptCache=0,E=J&&Ce(E)||E&&!J,rt=0;rt<tt.length;rt++){if(ft=tt[rt],qt=ft._gsap||Wr(tt)[rt]._gsap,n._ptLookup[rt]=yt={},Tr[qt.id]&&pi.length&&Nn(),Yt=lt===tt?rt:lt.indexOf(ft),Lt&&(Et=new Lt).init(ft,ot||ut,n,Yt,lt)!==!1&&(n._pt=pt=new Pe(n._pt,ft,Et.name,0,1,Et.render,Et,0,Et.priority),Et._props.forEach(function(le){yt[le]=pt}),Et.priority&&(Mt=1)),!Lt||ot)for(gt in ut)Ae[gt]&&(Et=Ca(gt,ut,n,Yt,ft,lt))?Et.priority&&(Mt=1):yt[gt]=pt=Gr.call(n,ft,gt,"get",ut[gt],Yt,lt,0,o.stringFilter);n._op&&n._op[rt]&&n.kill(ft,n._op[rt]),st&&n._pt&&(_i=n,Zt.killTweensOf(ft,yt,n.globalTime(a)),Ft=!n.parent,_i=0),n._pt&&E&&(Tr[qt.id]=1)}Mt&&Aa(n),n._onInit&&n._onInit(n)}n._onUpdate=R,n._initted=(!n._op||n._pt)&&!Ft,X&&a<=0&&ht.render(Fe,!0,!0)},ho=function(n,a,u,o,l,b,T,E){var R=(n._pt&&n._ptCache||(n._ptCache={}))[a],B,G,X,M;if(!R)for(R=n._ptCache[a]=[],X=n._ptLookup,M=n._targets.length;M--;){if(B=X[M][a],B&&B.d&&B.d._pt)for(B=B.d._pt;B&&B.p!==a&&B.fp!==a;)B=B._next;if(!B)return Mr=1,n.vars[a]="+=0",Zr(n,T),Mr=0,E?_n(a+" not eligible for reset"):1;R.push(B)}for(M=R.length;M--;)G=R[M],B=G._pt||G,B.s=(o||o===0)&&!l?o:B.s+(o||0)+b*B.c,B.c=u-B.s,G.e&&(G.e=ee(u)+we(G.e)),G.b&&(G.b=B.s+we(G.b))},lo=function(n,a){var u=n[0]?zi(n[0]).harness:0,o=u&&u.aliases,l,b,T,E;if(!o)return a;l=Ki({},a);for(b in o)if(b in l)for(E=o[b].split(","),T=E.length;T--;)l[E[T]]=l[b];return l},fo=function(n,a,u,o){var l=a.ease||o||"power1.inOut",b,T;if(ye(a))T=u[n]||(u[n]=[]),a.forEach(function(E,R){return T.push({t:R/(a.length-1)*100,v:E,e:l})});else for(b in a)T=u[b]||(u[b]=[]),b==="ease"||T.push({t:parseFloat(n),v:a[b],e:l})},cn=function(n,a,u,o,l){return Kt(n)?n.call(a,u,o,l):_e(n)&&~n.indexOf("random(")?gn(n):n},Ta=Hr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Pa={};Te(Ta+",id,stagger,delay,duration,paused,scrollTrigger",function(z){return Pa[z]=1});var ne=function(z){Ws(n,z);function n(u,o,l,b){var T;typeof o=="number"&&(l.duration=o,o=l,l=null),T=z.call(this,b?o:ln(o))||this;var E=T.vars,R=E.duration,B=E.delay,G=E.immediateRender,X=E.stagger,M=E.overwrite,J=E.keyframes,N=E.defaults,tt=E.scrollTrigger,Q=E.yoyoEase,lt=o.parent||Zt,st=(ye(u)||Zs(u)?ai(u[0]):"length"in o)?[u]:Ne(u),ht,ut,rt,gt,pt,ft,Mt,qt;if(T._targets=st.length?Wr(st):_n("GSAP target "+u+" not found. https://gsap.com",!Ee.nullTargetWarn)||[],T._ptLookup=[],T._overwrite=M,J||X||Ln(R)||Ln(B)){if(o=T.vars,ht=T.timeline=new be({data:"nested",defaults:N||{},targets:lt&&lt.data==="nested"?lt.vars.targets:st}),ht.kill(),ht.parent=ht._dp=ri(T),ht._start=0,X||Ln(R)||Ln(B)){if(gt=st.length,Mt=X&&la(X),ti(X))for(pt in X)~Ta.indexOf(pt)&&(qt||(qt={}),qt[pt]=X[pt]);for(ut=0;ut<gt;ut++)rt=qn(o,Pa),rt.stagger=0,Q&&(rt.yoyoEase=Q),qt&&Ki(rt,qt),ft=st[ut],rt.duration=+cn(R,ri(T),ut,ft,st),rt.delay=(+cn(B,ri(T),ut,ft,st)||0)-T._delay,!X&&gt===1&&rt.delay&&(T._delay=B=rt.delay,T._start+=B,rt.delay=0),ht.to(ft,rt,Mt?Mt(ut,ft,st):0),ht._ease=Rt.none;ht.duration()?R=B=0:T.timeline=0}else if(J){ln(Re(ht.vars.defaults,{ease:"none"})),ht._ease=Li(J.ease||o.ease||"none");var Lt=0,Et,yt,Yt;if(ye(J))J.forEach(function(ot){return ht.to(st,ot,">")}),ht.duration();else{rt={};for(pt in J)pt==="ease"||pt==="easeEach"||fo(pt,J[pt],rt,J.easeEach);for(pt in rt)for(Et=rt[pt].sort(function(ot,Ft){return ot.t-Ft.t}),Lt=0,ut=0;ut<Et.length;ut++)yt=Et[ut],Yt={ease:yt.e,duration:(yt.t-(ut?Et[ut-1].t:0))/100*R},Yt[pt]=yt.v,ht.to(st,Yt,Lt),Lt+=Yt.duration;ht.duration()<R&&ht.to({},{duration:R-ht.duration()})}}R||T.duration(R=ht.duration())}else T.timeline=0;return M===!0&&!Br&&(_i=ri(T),Zt.killTweensOf(st),_i=0),Je(lt,ri(T),l),o.reversed&&T.reverse(),o.paused&&T.paused(!0),(G||!R&&!J&&T._start===re(lt._time)&&Ce(G)&&Uu(ri(T))&&lt.data!=="nested")&&(T._tTime=-Ht,T.render(Math.max(0,-B)||0)),tt&&aa(ri(T),tt),T}var a=n.prototype;return a.render=function(o,l,b){var T=this._time,E=this._tDur,R=this._dur,B=o<0,G=o>E-Ht&&!B?E:o<Ht?0:o,X,M,J,N,tt,Q,lt,st,ht;if(!R)Wu(this,o,l,b);else if(G!==this._tTime||!o||b||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==B||this._lazy){if(X=G,st=this.timeline,this._repeat){if(N=R+this._rDelay,this._repeat<-1&&B)return this.totalTime(N*100+o,l,b);if(X=re(G%N),G===E?(J=this._repeat,X=R):(tt=re(G/N),J=~~tt,J&&J===tt?(X=R,J--):X>R&&(X=R)),Q=this._yoyo&&J&1,Q&&(ht=this._yEase,X=R-X),tt=Ji(this._tTime,N),X===T&&!b&&this._initted&&J===tt)return this._tTime=G,this;J!==tt&&(st&&this._yEase&&ba(st,Q),this.vars.repeatRefresh&&!Q&&!this._lock&&X!==N&&this._initted&&(this._lock=b=1,this.render(re(N*J),!0).invalidate()._lock=0))}if(!this._initted){if(ua(this,B?o:X,b,l,G))return this._tTime=0,this;if(T!==this._time&&!(b&&this.vars.repeatRefresh&&J!==tt))return this;if(R!==this._dur)return this.render(o,l,b)}if(this._tTime=G,this._time=X,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=lt=(ht||this._ease)(X/R),this._from&&(this.ratio=lt=1-lt),X&&!T&&!l&&!J&&(ze(this,"onStart"),this._tTime!==G))return this;for(M=this._pt;M;)M.r(lt,M.d),M=M._next;st&&st.render(o<0?o:st._dur*st._ease(X/this._dur),l,b)||this._startAt&&(this._zTime=o),this._onUpdate&&!l&&(B&&Pr(this,o,l,b),ze(this,"onUpdate")),this._repeat&&J!==tt&&this.vars.onRepeat&&!l&&this.parent&&ze(this,"onRepeat"),(G===this._tDur||!G)&&this._tTime===G&&(B&&!this._onUpdate&&Pr(this,o,!0,!0),(o||!R)&&(G===this._tDur&&this._ts>0||!G&&this._ts<0)&&mi(this,1),!l&&!(B&&!T)&&(G||T||Q)&&(ze(this,G===E?"onComplete":"onReverseComplete",!0),this._prom&&!(G<E&&this.timeScale()>0)&&this._prom()))}return this},a.targets=function(){return this._targets},a.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),z.prototype.invalidate.call(this,o)},a.resetTo=function(o,l,b,T,E){pn||Me.wake(),this._ts||this.play();var R=Math.min(this._dur,(this._dp._time-this._start)*this._ts),B;return this._initted||Zr(this,R),B=this._ease(R/this._dur),ho(this,o,l,b,T,B,R,E)?this.resetTo(o,l,b,T,1):(Xn(this,0),this.parent||ra(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},a.kill=function(o,l){if(l===void 0&&(l="all"),!o&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?on(this):this.scrollTrigger&&this.scrollTrigger.kill(!!pe),this;if(this.timeline){var b=this.timeline.totalDuration();return this.timeline.killTweensOf(o,l,_i&&_i.vars.overwrite!==!0)._first||on(this),this.parent&&b!==this.timeline.totalDuration()&&Qi(this,this._dur*this.timeline._tDur/b,0,1),this}var T=this._targets,E=o?Ne(o):T,R=this._ptLookup,B=this._pt,G,X,M,J,N,tt,Q;if((!l||l==="all")&&qu(T,E))return l==="all"&&(this._pt=0),on(this);for(G=this._op=this._op||[],l!=="all"&&(_e(l)&&(N={},Te(l,function(lt){return N[lt]=1}),l=N),l=lo(T,l)),Q=T.length;Q--;)if(~E.indexOf(T[Q])){X=R[Q],l==="all"?(G[Q]=l,J=X,M={}):(M=G[Q]=G[Q]||{},J=l);for(N in J)tt=X&&X[N],tt&&((!("kill"in tt.d)||tt.d.kill(N)===!0)&&Gn(this,tt,"_pt"),delete X[N]),M!=="all"&&(M[N]=1)}return this._initted&&!this._pt&&B&&on(this),this},n.to=function(o,l){return new n(o,l,arguments[2])},n.from=function(o,l){return fn(1,arguments)},n.delayedCall=function(o,l,b,T){return new n(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:l,onReverseComplete:l,onCompleteParams:b,onReverseCompleteParams:b,callbackScope:T})},n.fromTo=function(o,l,b){return fn(2,arguments)},n.set=function(o,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new n(o,l)},n.killTweensOf=function(o,l,b){return Zt.killTweensOf(o,l,b)},n}(vn);Re(ne.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Te("staggerTo,staggerFrom,staggerFromTo",function(z){ne[z]=function(){var n=new be,a=kr.call(arguments,0);return a.splice(z==="staggerFromTo"?5:4,0,0),n[z].apply(n,a)}});var Xr=function(n,a,u){return n[a]=u},Oa=function(n,a,u){return n[a](u)},co=function(n,a,u,o){return n[a](o.fp,u)},_o=function(n,a,u){return n.setAttribute(a,u)},Yr=function(n,a){return Kt(n[a])?Oa:Fr(n[a])&&n.setAttribute?_o:Xr},ka=function(n,a){return a.set(a.t,a.p,Math.round((a.s+a.c*n)*1e6)/1e6,a)},go=function(n,a){return a.set(a.t,a.p,!!(a.s+a.c*n),a)},Ia=function(n,a){var u=a._pt,o="";if(!n&&a.b)o=a.b;else if(n===1&&a.e)o=a.e;else{for(;u;)o=u.p+(u.m?u.m(u.s+u.c*n):Math.round((u.s+u.c*n)*1e4)/1e4)+o,u=u._next;o+=a.c}a.set(a.t,a.p,o,a)},jr=function(n,a){for(var u=a._pt;u;)u.r(n,u.d),u=u._next},po=function(n,a,u,o){for(var l=this._pt,b;l;)b=l._next,l.p===o&&l.modifier(n,a,u),l=b},vo=function(n){for(var a=this._pt,u,o;a;)o=a._next,a.p===n&&!a.op||a.op===n?Gn(this,a,"_pt"):a.dep||(u=1),a=o;return!u},mo=function(n,a,u,o){o.mSet(n,a,o.m.call(o.tween,u,o.mt),o)},Aa=function(n){for(var a=n._pt,u,o,l,b;a;){for(u=a._next,o=l;o&&o.pr>a.pr;)o=o._next;(a._prev=o?o._prev:b)?a._prev._next=a:l=a,(a._next=o)?o._prev=a:b=a,a=u}n._pt=l},Pe=function(){function z(a,u,o,l,b,T,E,R,B){this.t=u,this.s=l,this.c=b,this.p=o,this.r=T||ka,this.d=E||this,this.set=R||Xr,this.pr=B||0,this._next=a,a&&(a._prev=this)}var n=z.prototype;return n.modifier=function(u,o,l){this.mSet=this.mSet||this.set,this.set=mo,this.m=u,this.mt=l,this.tween=o},z}();Te(Hr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(z){return Ur[z]=1});Le.TweenMax=Le.TweenLite=ne;Le.TimelineLite=Le.TimelineMax=be;Zt=new be({sortChildren:!1,defaults:ji,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ee.stringFilter=wa;var Ri=[],Bn={},wo=[],zs=0,yo=0,wr=function(n){return(Bn[n]||wo).map(function(a){return a()})},zr=function(){var n=Date.now(),a=[];n-zs>2&&(wr("matchMediaInit"),Ri.forEach(function(u){var o=u.queries,l=u.conditions,b,T,E,R;for(T in o)b=Ke.matchMedia(o[T]).matches,b&&(E=1),b!==l[T]&&(l[T]=b,R=1);R&&(u.revert(),E&&a.push(u))}),wr("matchMediaRevert"),a.forEach(function(u){return u.onMatch(u,function(o){return u.add(null,o)})}),zs=n,wr("matchMedia"))},Ma=function(){function z(a,u){this.selector=u&&Ir(u),this.data=[],this._r=[],this.isReverted=!1,this.id=yo++,a&&this.add(a)}var n=z.prototype;return n.add=function(u,o,l){Kt(u)&&(l=o,o=u,u=Kt);var b=this,T=function(){var R=Wt,B=b.selector,G;return R&&R!==b&&R.data.push(b),l&&(b.selector=Ir(l)),Wt=b,G=o.apply(b,arguments),Kt(G)&&b._r.push(G),Wt=R,b.selector=B,b.isReverted=!1,G};return b.last=T,u===Kt?T(b,function(E){return b.add(null,E)}):u?b[u]=T:T},n.ignore=function(u){var o=Wt;Wt=null,u(this),Wt=o},n.getTweens=function(){var u=[];return this.data.forEach(function(o){return o instanceof z?u.push.apply(u,o.getTweens()):o instanceof ne&&!(o.parent&&o.parent.data==="nested")&&u.push(o)}),u},n.clear=function(){this._r.length=this.data.length=0},n.kill=function(u,o){var l=this;if(u?function(){for(var T=l.getTweens(),E=l.data.length,R;E--;)R=l.data[E],R.data==="isFlip"&&(R.revert(),R.getChildren(!0,!0,!1).forEach(function(B){return T.splice(T.indexOf(B),1)}));for(T.map(function(B){return{g:B._dur||B._delay||B._sat&&!B._sat.vars.immediateRender?B.globalTime(0):-1/0,t:B}}).sort(function(B,G){return G.g-B.g||-1/0}).forEach(function(B){return B.t.revert(u)}),E=l.data.length;E--;)R=l.data[E],R instanceof be?R.data!=="nested"&&(R.scrollTrigger&&R.scrollTrigger.revert(),R.kill()):!(R instanceof ne)&&R.revert&&R.revert(u);l._r.forEach(function(B){return B(u,l)}),l.isReverted=!0}():this.data.forEach(function(T){return T.kill&&T.kill()}),this.clear(),o)for(var b=Ri.length;b--;)Ri[b].id===this.id&&Ri.splice(b,1)},n.revert=function(u){this.kill(u||{})},z}(),bo=function(){function z(a){this.contexts=[],this.scope=a,Wt&&Wt.data.push(this)}var n=z.prototype;return n.add=function(u,o,l){ti(u)||(u={matches:u});var b=new Ma(0,l||this.scope),T=b.conditions={},E,R,B;Wt&&!b.selector&&(b.selector=Wt.selector),this.contexts.push(b),o=b.add("onMatch",o),b.queries=u;for(R in u)R==="all"?B=1:(E=Ke.matchMedia(u[R]),E&&(Ri.indexOf(b)<0&&Ri.push(b),(T[R]=E.matches)&&(B=1),E.addListener?E.addListener(zr):E.addEventListener("change",zr)));return B&&o(b,function(G){return b.add(null,G)}),this},n.revert=function(u){this.kill(u||{})},n.kill=function(u){this.contexts.forEach(function(o){return o.kill(u,!0)})},z}(),Un={registerPlugin:function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];a.forEach(function(o){return pa(o)})},timeline:function(n){return new be(n)},getTweensOf:function(n,a){return Zt.getTweensOf(n,a)},getProperty:function(n,a,u,o){_e(n)&&(n=Ne(n)[0]);var l=zi(n||{}).get,b=u?na:ia;return u==="native"&&(u=""),n&&(a?b((Ae[a]&&Ae[a].get||l)(n,a,u,o)):function(T,E,R){return b((Ae[T]&&Ae[T].get||l)(n,T,E,R))})},quickSetter:function(n,a,u){if(n=Ne(n),n.length>1){var o=n.map(function(B){return ke.quickSetter(B,a,u)}),l=o.length;return function(B){for(var G=l;G--;)o[G](B)}}n=n[0]||{};var b=Ae[a],T=zi(n),E=T.harness&&(T.harness.aliases||{})[a]||a,R=b?function(B){var G=new b;Gi._pt=0,G.init(n,u?B+u:B,Gi,0,[n]),G.render(1,G),Gi._pt&&jr(1,Gi)}:T.set(n,E);return b?R:function(B){return R(n,E,u?B+u:B,T,1)}},quickTo:function(n,a,u){var o,l=ke.to(n,Re((o={},o[a]="+=0.1",o.paused=!0,o.stagger=0,o),u||{})),b=function(E,R,B){return l.resetTo(a,E,R,B)};return b.tween=l,b},isTweening:function(n){return Zt.getTweensOf(n,!0).length>0},defaults:function(n){return n&&n.ease&&(n.ease=Li(n.ease,ji.ease)),Os(ji,n||{})},config:function(n){return Os(Ee,n||{})},registerEffect:function(n){var a=n.name,u=n.effect,o=n.plugins,l=n.defaults,b=n.extendTimeline;(o||"").split(",").forEach(function(T){return T&&!Ae[T]&&!Le[T]&&_n(a+" effect requires "+T+" plugin.")}),gr[a]=function(T,E,R){return u(Ne(T),Re(E||{},l),R)},b&&(be.prototype[a]=function(T,E,R){return this.add(gr[a](T,ti(E)?E:(R=E)&&{},this),R)})},registerEase:function(n,a){Rt[n]=Li(a)},parseEase:function(n,a){return arguments.length?Li(n,a):Rt},getById:function(n){return Zt.getById(n)},exportRoot:function(n,a){n===void 0&&(n={});var u=new be(n),o,l;for(u.smoothChildTiming=Ce(n.smoothChildTiming),Zt.remove(u),u._dp=0,u._time=u._tTime=Zt._time,o=Zt._first;o;)l=o._next,(a||!(!o._dur&&o instanceof ne&&o.vars.onComplete===o._targets[0]))&&Je(u,o,o._start-o._delay),o=l;return Je(Zt,u,0),u},context:function(n,a){return n?new Ma(n,a):Wt},matchMedia:function(n){return new bo(n)},matchMediaRefresh:function(){return Ri.forEach(function(n){var a=n.conditions,u,o;for(o in a)a[o]&&(a[o]=!1,u=1);u&&n.revert()})||zr()},addEventListener:function(n,a){var u=Bn[n]||(Bn[n]=[]);~u.indexOf(a)||u.push(a)},removeEventListener:function(n,a){var u=Bn[n],o=u&&u.indexOf(a);o>=0&&u.splice(o,1)},utils:{wrap:Qu,wrapYoyo:$u,distribute:la,random:ca,snap:fa,normalize:Ju,getUnit:we,clamp:Xu,splitColor:va,toArray:Ne,selector:Ir,mapRange:da,pipe:ju,unitize:Ku,interpolate:to,shuffle:ha},install:Js,effects:gr,ticker:Me,updateRoot:be.updateRoot,plugins:Ae,globalTimeline:Zt,core:{PropTween:Pe,globals:Qs,Tween:ne,Timeline:be,Animation:vn,getCache:zi,_removeLinkedListItem:Gn,reverting:function(){return pe},context:function(n){return n&&Wt&&(Wt.data.push(n),n._ctx=Wt),Wt},suppressOverwrites:function(n){return Br=n}}};Te("to,from,fromTo,delayedCall,set,killTweensOf",function(z){return Un[z]=ne[z]});Me.add(be.updateRoot);Gi=Un.to({},{duration:0});var xo=function(n,a){for(var u=n._pt;u&&u.p!==a&&u.op!==a&&u.fp!==a;)u=u._next;return u},So=function(n,a){var u=n._targets,o,l,b;for(o in a)for(l=u.length;l--;)b=n._ptLookup[l][o],b&&(b=b.d)&&(b._pt&&(b=xo(b,o)),b&&b.modifier&&b.modifier(a[o],n,u[l],o))},yr=function(n,a){return{name:n,rawVars:1,init:function(o,l,b){b._onInit=function(T){var E,R;if(_e(l)&&(E={},Te(l,function(B){return E[B]=1}),l=E),a){E={};for(R in l)E[R]=a(l[R]);l=E}So(T,l)}}}},ke=Un.registerPlugin({name:"attr",init:function(n,a,u,o,l){var b,T,E;this.tween=u;for(b in a)E=n.getAttribute(b)||"",T=this.add(n,"setAttribute",(E||0)+"",a[b],o,l,0,0,b),T.op=b,T.b=E,this._props.push(b)},render:function(n,a){for(var u=a._pt;u;)pe?u.set(u.t,u.p,u.b,u):u.r(n,u.d),u=u._next}},{name:"endArray",init:function(n,a){for(var u=a.length;u--;)this.add(n,u,n[u]||0,a[u],0,0,0,0,0,1)}},yr("roundProps",Ar),yr("modifiers"),yr("snap",fa))||Un;ne.version=be.version=ke.version="3.12.7";Ks=1;Nr()&&$i();Rt.Power0;Rt.Power1;Rt.Power2;Rt.Power3;Rt.Power4;Rt.Linear;Rt.Quad;Rt.Cubic;Rt.Quart;Rt.Quint;Rt.Strong;Rt.Elastic;Rt.Back;Rt.SteppedEase;Rt.Bounce;Rt.Sine;Rt.Expo;Rt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Es,di,Xi,Kr,Mi,Ls,Jr,Co=function(){return typeof window<"u"},ui={},Ai=180/Math.PI,Yi=Math.PI/180,Hi=Math.atan2,Rs=1e8,Qr=/([A-Z])/g,To=/(left|right|width|margin|padding|x)/i,Po=/[\s,\(]\S/,Qe={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Er=function(n,a){return a.set(a.t,a.p,Math.round((a.s+a.c*n)*1e4)/1e4+a.u,a)},Oo=function(n,a){return a.set(a.t,a.p,n===1?a.e:Math.round((a.s+a.c*n)*1e4)/1e4+a.u,a)},ko=function(n,a){return a.set(a.t,a.p,n?Math.round((a.s+a.c*n)*1e4)/1e4+a.u:a.b,a)},Io=function(n,a){var u=a.s+a.c*n;a.set(a.t,a.p,~~(u+(u<0?-.5:.5))+a.u,a)},za=function(n,a){return a.set(a.t,a.p,n?a.e:a.b,a)},Ea=function(n,a){return a.set(a.t,a.p,n!==1?a.b:a.e,a)},Ao=function(n,a,u){return n.style[a]=u},Mo=function(n,a,u){return n.style.setProperty(a,u)},zo=function(n,a,u){return n._gsap[a]=u},Eo=function(n,a,u){return n._gsap.scaleX=n._gsap.scaleY=u},Lo=function(n,a,u,o,l){var b=n._gsap;b.scaleX=b.scaleY=u,b.renderTransform(l,b)},Ro=function(n,a,u,o,l){var b=n._gsap;b[a]=u,b.renderTransform(l,b)},Xt="transform",Oe=Xt+"Origin",Do=function z(n,a){var u=this,o=this.target,l=o.style,b=o._gsap;if(n in ui&&l){if(this.tfm=this.tfm||{},n!=="transform")n=Qe[n]||n,~n.indexOf(",")?n.split(",").forEach(function(T){return u.tfm[T]=si(o,T)}):this.tfm[n]=b.x?b[n]:si(o,n),n===Oe&&(this.tfm.zOrigin=b.zOrigin);else return Qe.transform.split(",").forEach(function(T){return z.call(u,T,a)});if(this.props.indexOf(Xt)>=0)return;b.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(Oe,a,"")),n=Xt}(l||a)&&this.props.push(n,a,l[n])},La=function(n){n.translate&&(n.removeProperty("translate"),n.removeProperty("scale"),n.removeProperty("rotate"))},Bo=function(){var n=this.props,a=this.target,u=a.style,o=a._gsap,l,b;for(l=0;l<n.length;l+=3)n[l+1]?n[l+1]===2?a[n[l]](n[l+2]):a[n[l]]=n[l+2]:n[l+2]?u[n[l]]=n[l+2]:u.removeProperty(n[l].substr(0,2)==="--"?n[l]:n[l].replace(Qr,"-$1").toLowerCase());if(this.tfm){for(b in this.tfm)o[b]=this.tfm[b];o.svg&&(o.renderTransform(),a.setAttribute("data-svg-origin",this.svgo||"")),l=Jr(),(!l||!l.isStart)&&!u[Xt]&&(La(u),o.zOrigin&&u[Oe]&&(u[Oe]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},Ra=function(n,a){var u={target:n,props:[],revert:Bo,save:Do};return n._gsap||ke.core.getCache(n),a&&n.style&&n.nodeType&&a.split(",").forEach(function(o){return u.save(o)}),u},Da,Lr=function(n,a){var u=di.createElementNS?di.createElementNS((a||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),n):di.createElement(n);return u&&u.style?u:di.createElement(n)},$e=function z(n,a,u){var o=getComputedStyle(n);return o[a]||o.getPropertyValue(a.replace(Qr,"-$1").toLowerCase())||o.getPropertyValue(a)||!u&&z(n,tn(a)||a,1)||""},Ds="O,Moz,ms,Ms,Webkit".split(","),tn=function(n,a,u){var o=a||Mi,l=o.style,b=5;if(n in l&&!u)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1);b--&&!(Ds[b]+n in l););return b<0?null:(b===3?"ms":b>=0?Ds[b]:"")+n},Rr=function(){Co()&&window.document&&(Es=window,di=Es.document,Xi=di.documentElement,Mi=Lr("div")||{style:{}},Lr("div"),Xt=tn(Xt),Oe=Xt+"Origin",Mi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Da=!!tn("perspective"),Jr=ke.core.reverting,Kr=1)},Bs=function(n){var a=n.ownerSVGElement,u=Lr("svg",a&&a.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=n.cloneNode(!0),l;o.style.display="block",u.appendChild(o),Xi.appendChild(u);try{l=o.getBBox()}catch{}return u.removeChild(o),Xi.removeChild(u),l},Fs=function(n,a){for(var u=a.length;u--;)if(n.hasAttribute(a[u]))return n.getAttribute(a[u])},Ba=function(n){var a,u;try{a=n.getBBox()}catch{a=Bs(n),u=1}return a&&(a.width||a.height)||u||(a=Bs(n)),a&&!a.width&&!a.x&&!a.y?{x:+Fs(n,["x","cx","x1"])||0,y:+Fs(n,["y","cy","y1"])||0,width:0,height:0}:a},Fa=function(n){return!!(n.getCTM&&(!n.parentNode||n.ownerSVGElement)&&Ba(n))},Di=function(n,a){if(a){var u=n.style,o;a in ui&&a!==Oe&&(a=Xt),u.removeProperty?(o=a.substr(0,2),(o==="ms"||a.substr(0,6)==="webkit")&&(a="-"+a),u.removeProperty(o==="--"?a:a.replace(Qr,"-$1").toLowerCase())):u.removeAttribute(a)}},gi=function(n,a,u,o,l,b){var T=new Pe(n._pt,a,u,0,1,b?Ea:za);return n._pt=T,T.b=o,T.e=l,n._props.push(u),T},Ns={deg:1,rad:1,turn:1},Fo={grid:1,flex:1},wi=function z(n,a,u,o){var l=parseFloat(u)||0,b=(u+"").trim().substr((l+"").length)||"px",T=Mi.style,E=To.test(a),R=n.tagName.toLowerCase()==="svg",B=(R?"client":"offset")+(E?"Width":"Height"),G=100,X=o==="px",M=o==="%",J,N,tt,Q;if(o===b||!l||Ns[o]||Ns[b])return l;if(b!=="px"&&!X&&(l=z(n,a,u,"px")),Q=n.getCTM&&Fa(n),(M||b==="%")&&(ui[a]||~a.indexOf("adius")))return J=Q?n.getBBox()[E?"width":"height"]:n[B],ee(M?l/J*G:l/100*J);if(T[E?"width":"height"]=G+(X?b:o),N=o!=="rem"&&~a.indexOf("adius")||o==="em"&&n.appendChild&&!R?n:n.parentNode,Q&&(N=(n.ownerSVGElement||{}).parentNode),(!N||N===di||!N.appendChild)&&(N=di.body),tt=N._gsap,tt&&M&&tt.width&&E&&tt.time===Me.time&&!tt.uncache)return ee(l/tt.width*G);if(M&&(a==="height"||a==="width")){var lt=n.style[a];n.style[a]=G+o,J=n[B],lt?n.style[a]=lt:Di(n,a)}else(M||b==="%")&&!Fo[$e(N,"display")]&&(T.position=$e(n,"position")),N===n&&(T.position="static"),N.appendChild(Mi),J=Mi[B],N.removeChild(Mi),T.position="absolute";return E&&M&&(tt=zi(N),tt.time=Me.time,tt.width=N[B]),ee(X?J*l/G:J&&l?G/J*l:0)},si=function(n,a,u,o){var l;return Kr||Rr(),a in Qe&&a!=="transform"&&(a=Qe[a],~a.indexOf(",")&&(a=a.split(",")[0])),ui[a]&&a!=="transform"?(l=wn(n,o),l=a!=="transformOrigin"?l[a]:l.svg?l.origin:Wn($e(n,Oe))+" "+l.zOrigin+"px"):(l=n.style[a],(!l||l==="auto"||o||~(l+"").indexOf("calc("))&&(l=Hn[a]&&Hn[a](n,a,u)||$e(n,a)||ta(n,a)||(a==="opacity"?1:0))),u&&!~(l+"").trim().indexOf(" ")?wi(n,a,l,u)+u:l},No=function(n,a,u,o){if(!u||u==="none"){var l=tn(a,n,1),b=l&&$e(n,l,1);b&&b!==u?(a=l,u=b):a==="borderColor"&&(u=$e(n,"borderTopColor"))}var T=new Pe(this._pt,n.style,a,0,1,Ia),E=0,R=0,B,G,X,M,J,N,tt,Q,lt,st,ht,ut;if(T.b=u,T.e=o,u+="",o+="",o==="auto"&&(N=n.style[a],n.style[a]=o,o=$e(n,a)||o,N?n.style[a]=N:Di(n,a)),B=[u,o],wa(B),u=B[0],o=B[1],X=u.match(Wi)||[],ut=o.match(Wi)||[],ut.length){for(;G=Wi.exec(o);)tt=G[0],lt=o.substring(E,G.index),J?J=(J+1)%5:(lt.substr(-5)==="rgba("||lt.substr(-5)==="hsla(")&&(J=1),tt!==(N=X[R++]||"")&&(M=parseFloat(N)||0,ht=N.substr((M+"").length),tt.charAt(1)==="="&&(tt=Zi(M,tt)+ht),Q=parseFloat(tt),st=tt.substr((Q+"").length),E=Wi.lastIndex-st.length,st||(st=st||Ee.units[a]||ht,E===o.length&&(o+=st,T.e+=st)),ht!==st&&(M=wi(n,a,N,st)||0),T._pt={_next:T._pt,p:lt||R===1?lt:",",s:M,c:Q-M,m:J&&J<4||a==="zIndex"?Math.round:0});T.c=E<o.length?o.substring(E,o.length):""}else T.r=a==="display"&&o==="none"?Ea:za;return Ys.test(o)&&(T.e=0),this._pt=T,T},qs={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qo=function(n){var a=n.split(" "),u=a[0],o=a[1]||"50%";return(u==="top"||u==="bottom"||o==="left"||o==="right")&&(n=u,u=o,o=n),a[0]=qs[u]||u,a[1]=qs[o]||o,a.join(" ")},Vo=function(n,a){if(a.tween&&a.tween._time===a.tween._dur){var u=a.t,o=u.style,l=a.u,b=u._gsap,T,E,R;if(l==="all"||l===!0)o.cssText="",E=1;else for(l=l.split(","),R=l.length;--R>-1;)T=l[R],ui[T]&&(E=1,T=T==="transformOrigin"?Oe:Xt),Di(u,T);E&&(Di(u,Xt),b&&(b.svg&&u.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",wn(u,1),b.uncache=1,La(o)))}},Hn={clearProps:function(n,a,u,o,l){if(l.data!=="isFromStart"){var b=n._pt=new Pe(n._pt,a,u,0,0,Vo);return b.u=o,b.pr=-10,b.tween=l,n._props.push(u),1}}},mn=[1,0,0,1,0,0],Na={},qa=function(n){return n==="matrix(1, 0, 0, 1, 0, 0)"||n==="none"||!n},Vs=function(n){var a=$e(n,Xt);return qa(a)?mn:a.substr(7).match(Xs).map(ee)},$r=function(n,a){var u=n._gsap||zi(n),o=n.style,l=Vs(n),b,T,E,R;return u.svg&&n.getAttribute("transform")?(E=n.transform.baseVal.consolidate().matrix,l=[E.a,E.b,E.c,E.d,E.e,E.f],l.join(",")==="1,0,0,1,0,0"?mn:l):(l===mn&&!n.offsetParent&&n!==Xi&&!u.svg&&(E=o.display,o.display="block",b=n.parentNode,(!b||!n.offsetParent&&!n.getBoundingClientRect().width)&&(R=1,T=n.nextElementSibling,Xi.appendChild(n)),l=Vs(n),E?o.display=E:Di(n,"display"),R&&(T?b.insertBefore(n,T):b?b.appendChild(n):Xi.removeChild(n))),a&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Dr=function(n,a,u,o,l,b){var T=n._gsap,E=l||$r(n,!0),R=T.xOrigin||0,B=T.yOrigin||0,G=T.xOffset||0,X=T.yOffset||0,M=E[0],J=E[1],N=E[2],tt=E[3],Q=E[4],lt=E[5],st=a.split(" "),ht=parseFloat(st[0])||0,ut=parseFloat(st[1])||0,rt,gt,pt,ft;u?E!==mn&&(gt=M*tt-J*N)&&(pt=ht*(tt/gt)+ut*(-N/gt)+(N*lt-tt*Q)/gt,ft=ht*(-J/gt)+ut*(M/gt)-(M*lt-J*Q)/gt,ht=pt,ut=ft):(rt=Ba(n),ht=rt.x+(~st[0].indexOf("%")?ht/100*rt.width:ht),ut=rt.y+(~(st[1]||st[0]).indexOf("%")?ut/100*rt.height:ut)),o||o!==!1&&T.smooth?(Q=ht-R,lt=ut-B,T.xOffset=G+(Q*M+lt*N)-Q,T.yOffset=X+(Q*J+lt*tt)-lt):T.xOffset=T.yOffset=0,T.xOrigin=ht,T.yOrigin=ut,T.smooth=!!o,T.origin=a,T.originIsAbsolute=!!u,n.style[Oe]="0px 0px",b&&(gi(b,T,"xOrigin",R,ht),gi(b,T,"yOrigin",B,ut),gi(b,T,"xOffset",G,T.xOffset),gi(b,T,"yOffset",X,T.yOffset)),n.setAttribute("data-svg-origin",ht+" "+ut)},wn=function(n,a){var u=n._gsap||new Sa(n);if("x"in u&&!a&&!u.uncache)return u;var o=n.style,l=u.scaleX<0,b="px",T="deg",E=getComputedStyle(n),R=$e(n,Oe)||"0",B,G,X,M,J,N,tt,Q,lt,st,ht,ut,rt,gt,pt,ft,Mt,qt,Lt,Et,yt,Yt,ot,Ft,le,zt,ve,oi,ei,bi,qe,Vt;return B=G=X=N=tt=Q=lt=st=ht=0,M=J=1,u.svg=!!(n.getCTM&&Fa(n)),E.translate&&((E.translate!=="none"||E.scale!=="none"||E.rotate!=="none")&&(o[Xt]=(E.translate!=="none"?"translate3d("+(E.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(E.rotate!=="none"?"rotate("+E.rotate+") ":"")+(E.scale!=="none"?"scale("+E.scale.split(" ").join(",")+") ":"")+(E[Xt]!=="none"?E[Xt]:"")),o.scale=o.rotate=o.translate="none"),gt=$r(n,u.svg),u.svg&&(u.uncache?(le=n.getBBox(),R=u.xOrigin-le.x+"px "+(u.yOrigin-le.y)+"px",Ft=""):Ft=!a&&n.getAttribute("data-svg-origin"),Dr(n,Ft||R,!!Ft||u.originIsAbsolute,u.smooth!==!1,gt)),ut=u.xOrigin||0,rt=u.yOrigin||0,gt!==mn&&(qt=gt[0],Lt=gt[1],Et=gt[2],yt=gt[3],B=Yt=gt[4],G=ot=gt[5],gt.length===6?(M=Math.sqrt(qt*qt+Lt*Lt),J=Math.sqrt(yt*yt+Et*Et),N=qt||Lt?Hi(Lt,qt)*Ai:0,lt=Et||yt?Hi(Et,yt)*Ai+N:0,lt&&(J*=Math.abs(Math.cos(lt*Yi))),u.svg&&(B-=ut-(ut*qt+rt*Et),G-=rt-(ut*Lt+rt*yt))):(Vt=gt[6],bi=gt[7],ve=gt[8],oi=gt[9],ei=gt[10],qe=gt[11],B=gt[12],G=gt[13],X=gt[14],pt=Hi(Vt,ei),tt=pt*Ai,pt&&(ft=Math.cos(-pt),Mt=Math.sin(-pt),Ft=Yt*ft+ve*Mt,le=ot*ft+oi*Mt,zt=Vt*ft+ei*Mt,ve=Yt*-Mt+ve*ft,oi=ot*-Mt+oi*ft,ei=Vt*-Mt+ei*ft,qe=bi*-Mt+qe*ft,Yt=Ft,ot=le,Vt=zt),pt=Hi(-Et,ei),Q=pt*Ai,pt&&(ft=Math.cos(-pt),Mt=Math.sin(-pt),Ft=qt*ft-ve*Mt,le=Lt*ft-oi*Mt,zt=Et*ft-ei*Mt,qe=yt*Mt+qe*ft,qt=Ft,Lt=le,Et=zt),pt=Hi(Lt,qt),N=pt*Ai,pt&&(ft=Math.cos(pt),Mt=Math.sin(pt),Ft=qt*ft+Lt*Mt,le=Yt*ft+ot*Mt,Lt=Lt*ft-qt*Mt,ot=ot*ft-Yt*Mt,qt=Ft,Yt=le),tt&&Math.abs(tt)+Math.abs(N)>359.9&&(tt=N=0,Q=180-Q),M=ee(Math.sqrt(qt*qt+Lt*Lt+Et*Et)),J=ee(Math.sqrt(ot*ot+Vt*Vt)),pt=Hi(Yt,ot),lt=Math.abs(pt)>2e-4?pt*Ai:0,ht=qe?1/(qe<0?-qe:qe):0),u.svg&&(Ft=n.getAttribute("transform"),u.forceCSS=n.setAttribute("transform","")||!qa($e(n,Xt)),Ft&&n.setAttribute("transform",Ft))),Math.abs(lt)>90&&Math.abs(lt)<270&&(l?(M*=-1,lt+=N<=0?180:-180,N+=N<=0?180:-180):(J*=-1,lt+=lt<=0?180:-180)),a=a||u.uncache,u.x=B-((u.xPercent=B&&(!a&&u.xPercent||(Math.round(n.offsetWidth/2)===Math.round(-B)?-50:0)))?n.offsetWidth*u.xPercent/100:0)+b,u.y=G-((u.yPercent=G&&(!a&&u.yPercent||(Math.round(n.offsetHeight/2)===Math.round(-G)?-50:0)))?n.offsetHeight*u.yPercent/100:0)+b,u.z=X+b,u.scaleX=ee(M),u.scaleY=ee(J),u.rotation=ee(N)+T,u.rotationX=ee(tt)+T,u.rotationY=ee(Q)+T,u.skewX=lt+T,u.skewY=st+T,u.transformPerspective=ht+b,(u.zOrigin=parseFloat(R.split(" ")[2])||!a&&u.zOrigin||0)&&(o[Oe]=Wn(R)),u.xOffset=u.yOffset=0,u.force3D=Ee.force3D,u.renderTransform=u.svg?Ho:Da?Va:Uo,u.uncache=0,u},Wn=function(n){return(n=n.split(" "))[0]+" "+n[1]},br=function(n,a,u){var o=we(a);return ee(parseFloat(a)+parseFloat(wi(n,"x",u+"px",o)))+o},Uo=function(n,a){a.z="0px",a.rotationY=a.rotationX="0deg",a.force3D=0,Va(n,a)},ki="0deg",un="0px",Ii=") ",Va=function(n,a){var u=a||this,o=u.xPercent,l=u.yPercent,b=u.x,T=u.y,E=u.z,R=u.rotation,B=u.rotationY,G=u.rotationX,X=u.skewX,M=u.skewY,J=u.scaleX,N=u.scaleY,tt=u.transformPerspective,Q=u.force3D,lt=u.target,st=u.zOrigin,ht="",ut=Q==="auto"&&n&&n!==1||Q===!0;if(st&&(G!==ki||B!==ki)){var rt=parseFloat(B)*Yi,gt=Math.sin(rt),pt=Math.cos(rt),ft;rt=parseFloat(G)*Yi,ft=Math.cos(rt),b=br(lt,b,gt*ft*-st),T=br(lt,T,-Math.sin(rt)*-st),E=br(lt,E,pt*ft*-st+st)}tt!==un&&(ht+="perspective("+tt+Ii),(o||l)&&(ht+="translate("+o+"%, "+l+"%) "),(ut||b!==un||T!==un||E!==un)&&(ht+=E!==un||ut?"translate3d("+b+", "+T+", "+E+") ":"translate("+b+", "+T+Ii),R!==ki&&(ht+="rotate("+R+Ii),B!==ki&&(ht+="rotateY("+B+Ii),G!==ki&&(ht+="rotateX("+G+Ii),(X!==ki||M!==ki)&&(ht+="skew("+X+", "+M+Ii),(J!==1||N!==1)&&(ht+="scale("+J+", "+N+Ii),lt.style[Xt]=ht||"translate(0, 0)"},Ho=function(n,a){var u=a||this,o=u.xPercent,l=u.yPercent,b=u.x,T=u.y,E=u.rotation,R=u.skewX,B=u.skewY,G=u.scaleX,X=u.scaleY,M=u.target,J=u.xOrigin,N=u.yOrigin,tt=u.xOffset,Q=u.yOffset,lt=u.forceCSS,st=parseFloat(b),ht=parseFloat(T),ut,rt,gt,pt,ft;E=parseFloat(E),R=parseFloat(R),B=parseFloat(B),B&&(B=parseFloat(B),R+=B,E+=B),E||R?(E*=Yi,R*=Yi,ut=Math.cos(E)*G,rt=Math.sin(E)*G,gt=Math.sin(E-R)*-X,pt=Math.cos(E-R)*X,R&&(B*=Yi,ft=Math.tan(R-B),ft=Math.sqrt(1+ft*ft),gt*=ft,pt*=ft,B&&(ft=Math.tan(B),ft=Math.sqrt(1+ft*ft),ut*=ft,rt*=ft)),ut=ee(ut),rt=ee(rt),gt=ee(gt),pt=ee(pt)):(ut=G,pt=X,rt=gt=0),(st&&!~(b+"").indexOf("px")||ht&&!~(T+"").indexOf("px"))&&(st=wi(M,"x",b,"px"),ht=wi(M,"y",T,"px")),(J||N||tt||Q)&&(st=ee(st+J-(J*ut+N*gt)+tt),ht=ee(ht+N-(J*rt+N*pt)+Q)),(o||l)&&(ft=M.getBBox(),st=ee(st+o/100*ft.width),ht=ee(ht+l/100*ft.height)),ft="matrix("+ut+","+rt+","+gt+","+pt+","+st+","+ht+")",M.setAttribute("transform",ft),lt&&(M.style[Xt]=ft)},Wo=function(n,a,u,o,l){var b=360,T=_e(l),E=parseFloat(l)*(T&&~l.indexOf("rad")?Ai:1),R=E-o,B=o+R+"deg",G,X;return T&&(G=l.split("_")[1],G==="short"&&(R%=b,R!==R%(b/2)&&(R+=R<0?b:-b)),G==="cw"&&R<0?R=(R+b*Rs)%b-~~(R/b)*b:G==="ccw"&&R>0&&(R=(R-b*Rs)%b-~~(R/b)*b)),n._pt=X=new Pe(n._pt,a,u,o,R,Oo),X.e=B,X.u="deg",n._props.push(u),X},Us=function(n,a){for(var u in a)n[u]=a[u];return n},Go=function(n,a,u){var o=Us({},u._gsap),l="perspective,force3D,transformOrigin,svgOrigin",b=u.style,T,E,R,B,G,X,M,J;o.svg?(R=u.getAttribute("transform"),u.setAttribute("transform",""),b[Xt]=a,T=wn(u,1),Di(u,Xt),u.setAttribute("transform",R)):(R=getComputedStyle(u)[Xt],b[Xt]=a,T=wn(u,1),b[Xt]=R);for(E in ui)R=o[E],B=T[E],R!==B&&l.indexOf(E)<0&&(M=we(R),J=we(B),G=M!==J?wi(u,E,R,J):parseFloat(R),X=parseFloat(B),n._pt=new Pe(n._pt,T,E,G,X-G,Er),n._pt.u=J||0,n._props.push(E));Us(T,o)};Te("padding,margin,Width,Radius",function(z,n){var a="Top",u="Right",o="Bottom",l="Left",b=(n<3?[a,u,o,l]:[a+l,a+u,o+u,o+l]).map(function(T){return n<2?z+T:"border"+T+z});Hn[n>1?"border"+z:z]=function(T,E,R,B,G){var X,M;if(arguments.length<4)return X=b.map(function(J){return si(T,J,R)}),M=X.join(" "),M.split(X[0]).length===5?X[0]:M;X=(B+"").split(" "),M={},b.forEach(function(J,N){return M[J]=X[N]=X[N]||X[(N-1)/2|0]}),T.init(E,M,G)}});var Ua={name:"css",register:Rr,targetTest:function(n){return n.style&&n.nodeType},init:function(n,a,u,o,l){var b=this._props,T=n.style,E=u.vars.startAt,R,B,G,X,M,J,N,tt,Q,lt,st,ht,ut,rt,gt,pt;Kr||Rr(),this.styles=this.styles||Ra(n),pt=this.styles.props,this.tween=u;for(N in a)if(N!=="autoRound"&&(B=a[N],!(Ae[N]&&Ca(N,a,u,o,n,l)))){if(M=typeof B,J=Hn[N],M==="function"&&(B=B.call(u,o,n,l),M=typeof B),M==="string"&&~B.indexOf("random(")&&(B=gn(B)),J)J(this,n,N,B,u)&&(gt=1);else if(N.substr(0,2)==="--")R=(getComputedStyle(n).getPropertyValue(N)+"").trim(),B+="",vi.lastIndex=0,vi.test(R)||(tt=we(R),Q=we(B)),Q?tt!==Q&&(R=wi(n,N,R,Q)+Q):tt&&(B+=tt),this.add(T,"setProperty",R,B,o,l,0,0,N),b.push(N),pt.push(N,0,T[N]);else if(M!=="undefined"){if(E&&N in E?(R=typeof E[N]=="function"?E[N].call(u,o,n,l):E[N],_e(R)&&~R.indexOf("random(")&&(R=gn(R)),we(R+"")||R==="auto"||(R+=Ee.units[N]||we(si(n,N))||""),(R+"").charAt(1)==="="&&(R=si(n,N))):R=si(n,N),X=parseFloat(R),lt=M==="string"&&B.charAt(1)==="="&&B.substr(0,2),lt&&(B=B.substr(2)),G=parseFloat(B),N in Qe&&(N==="autoAlpha"&&(X===1&&si(n,"visibility")==="hidden"&&G&&(X=0),pt.push("visibility",0,T.visibility),gi(this,T,"visibility",X?"inherit":"hidden",G?"inherit":"hidden",!G)),N!=="scale"&&N!=="transform"&&(N=Qe[N],~N.indexOf(",")&&(N=N.split(",")[0]))),st=N in ui,st){if(this.styles.save(N),ht||(ut=n._gsap,ut.renderTransform&&!a.parseTransform||wn(n,a.parseTransform),rt=a.smoothOrigin!==!1&&ut.smooth,ht=this._pt=new Pe(this._pt,T,Xt,0,1,ut.renderTransform,ut,0,-1),ht.dep=1),N==="scale")this._pt=new Pe(this._pt,ut,"scaleY",ut.scaleY,(lt?Zi(ut.scaleY,lt+G):G)-ut.scaleY||0,Er),this._pt.u=0,b.push("scaleY",N),N+="X";else if(N==="transformOrigin"){pt.push(Oe,0,T[Oe]),B=qo(B),ut.svg?Dr(n,B,0,rt,0,this):(Q=parseFloat(B.split(" ")[2])||0,Q!==ut.zOrigin&&gi(this,ut,"zOrigin",ut.zOrigin,Q),gi(this,T,N,Wn(R),Wn(B)));continue}else if(N==="svgOrigin"){Dr(n,B,1,rt,0,this);continue}else if(N in Na){Wo(this,ut,N,X,lt?Zi(X,lt+B):B);continue}else if(N==="smoothOrigin"){gi(this,ut,"smooth",ut.smooth,B);continue}else if(N==="force3D"){ut[N]=B;continue}else if(N==="transform"){Go(this,B,n);continue}}else N in T||(N=tn(N)||N);if(st||(G||G===0)&&(X||X===0)&&!Po.test(B)&&N in T)tt=(R+"").substr((X+"").length),G||(G=0),Q=we(B)||(N in Ee.units?Ee.units[N]:tt),tt!==Q&&(X=wi(n,N,R,Q)),this._pt=new Pe(this._pt,st?ut:T,N,X,(lt?Zi(X,lt+G):G)-X,!st&&(Q==="px"||N==="zIndex")&&a.autoRound!==!1?Io:Er),this._pt.u=Q||0,tt!==Q&&Q!=="%"&&(this._pt.b=R,this._pt.r=ko);else if(N in T)No.call(this,n,N,R,lt?lt+B:B);else if(N in n)this.add(n,N,R||n[N],lt?lt+B:B,o,l);else if(N!=="parseTransform"){Vr(N,B);continue}st||(N in T?pt.push(N,0,T[N]):typeof n[N]=="function"?pt.push(N,2,n[N]()):pt.push(N,1,R||n[N])),b.push(N)}}gt&&Aa(this)},render:function(n,a){if(a.tween._time||!Jr())for(var u=a._pt;u;)u.r(n,u.d),u=u._next;else a.styles.revert()},get:si,aliases:Qe,getSetter:function(n,a,u){var o=Qe[a];return o&&o.indexOf(",")<0&&(a=o),a in ui&&a!==Oe&&(n._gsap.x||si(n,"x"))?u&&Ls===u?a==="scale"?Eo:zo:(Ls=u||{})&&(a==="scale"?Lo:Ro):n.style&&!Fr(n.style[a])?Ao:~a.indexOf("-")?Mo:Yr(n,a)},core:{_removeProperty:Di,_getMatrix:$r}};ke.utils.checkPrefix=tn;ke.core.getStyleSaver=Ra;(function(z,n,a,u){var o=Te(z+","+n+","+a,function(l){ui[l]=1});Te(n,function(l){Ee.units[l]="deg",Na[l]=1}),Qe[o[13]]=z+","+n,Te(u,function(l){var b=l.split(":");Qe[b[1]]=o[b[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Te("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(z){Ee.units[z]="px"});ke.registerPlugin(Ua);var Xe=ke.registerPlugin(Ua)||ke;Xe.core.Tween;var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xo(z){return z&&z.__esModule&&Object.prototype.hasOwnProperty.call(z,"default")?z.default:z}function Yo(z){if(z.__esModule)return z;var n=z.default;if(typeof n=="function"){var a=function u(){return this instanceof u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(z).forEach(function(u){var o=Object.getOwnPropertyDescriptor(z,u);Object.defineProperty(a,u,o.get?o:{enumerable:!0,get:function(){return z[u]}})}),a}function jo(z){throw new Error('Could not dynamically require "'+z+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ha={exports:{}};const Ko={},Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})),Hs=Yo(Jo);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(z){(function(n,a){n=n||Hs;var u=n.window,o=n.document,l=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],i=e.slice,r=Object.create,s=Object.getOwnPropertyDescriptor,h=Object.defineProperty,c=e.forEach||function(v,p){for(var O=0,x=this.length;O<x;O++)v.call(p,this[O],O,this)},f=function(v,p){for(var O in this)this.hasOwnProperty(O)&&v.call(p,this[O],O,this)},_=Object.assign||function(v){for(var p=1,O=arguments.length;p<O;p++){var x=arguments[p];for(var k in x)x.hasOwnProperty(k)&&(v[k]=x[k])}return v},d=function(v,p,O){if(v){var x=s(v,"length");(x&&typeof x.value=="number"?c:f).call(v,p,O=O||v)}return O};function m(v,p,O,x,k){var w={};function C(P,L){L=L||(L=s(p,P))&&(L.get?L:L.value),typeof L=="string"&&L[0]==="#"&&(L=v[L.substring(1)]||L);var F=typeof L=="function",q=L,H=k||F&&!L.base?L&&L.get?P in v:v[P]:null,D;(!k||!H)&&(F&&H&&(L.base=H),F&&x!==!1&&(D=P.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[D[3].toLowerCase()+D[4]]=D[2]),(!q||F||!q.get||typeof q.get!="function"||!y.isPlainObject(q))&&(q={value:q,writable:!0}),(s(v,P)||{configurable:!0}).configurable&&(q.configurable=!0,q.enumerable=O??!D),h(v,P,q))}if(p){for(var g in p)p.hasOwnProperty(g)&&!t.test(g)&&C(g);for(var g in w){var S=w[g],I=v["set"+S],A=v["get"+S]||I&&v["is"+S];A&&(x===!0||A.length===0)&&C(g,{get:A,set:I})}}return v}function y(){for(var v=0,p=arguments.length;v<p;v++){var O=arguments[v];O&&_(this,O)}return this}return m(y,{inject:function(v){if(v){var p=v.statics===!0?v:v.statics,O=v.beans,x=v.preserve;p!==v&&m(this.prototype,v,v.enumerable,O,x),m(this,p,null,O,x)}for(var k=1,w=arguments.length;k<w;k++)this.inject(arguments[k]);return this},extend:function(){for(var v=this,p,O,x=0,k,w=arguments.length;x<w&&!(p&&O);x++)k=arguments[x],p=p||k.initialize,O=O||k.prototype;return p=p||function(){v.apply(this,arguments)},O=p.prototype=O||r(this.prototype),h(O,"constructor",{value:p,writable:!0,configurable:!0}),m(p,this),arguments.length&&this.inject.apply(p,arguments),p.base=v,p}}).inject({enumerable:!1,initialize:y,set:y,inject:function(){for(var v=0,p=arguments.length;v<p;v++){var O=arguments[v];O&&m(this,O,O.enumerable,O.beans,O.preserve)}return this},extend:function(){var v=r(this);return v.inject.apply(v,arguments)},each:function(v,p){return d(this,v,p)},clone:function(){return new this.constructor(this)},statics:{set:_,each:d,create:r,define:h,describe:s,clone:function(v){return _(new v.constructor,v)},isPlainObject:function(v){var p=v!=null&&v.constructor;return p&&(p===Object||p===y||p.name==="Object")},pick:function(v,p){return v!==a?v:p},slice:function(v,p,O){return i.call(v,p,O)}}})};z.exports=l,l.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+l.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+(i==="number"?B.instance.number(t):i==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return l.importJSON(t,this)},exportJSON:function(t){return l.exportJSON(this,t)},toJSON:function(){return l.serialize(this)},set:function(t,e){return t&&l.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!l.exports[i]&&(l.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!l.equals(t[i],e[i]))return!1}else{var r=Object.keys(t),i=r.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var s=r[i];if(!(e.hasOwnProperty(s)&&l.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,i,r){if(this===l){var s=this.peek(t,e);return t.__index++,s}var h=this.prototype,c=h._readIndex,f=e||c&&t.__index||0,_=t.length,d=t[f];if(r=r||_-f,d instanceof this||i&&i.readNull&&d==null&&r<=1)return c&&(t.__index=f+1),d&&i&&i.clone?d.clone():d;if(d=l.create(h),c&&(d.__read=!0),d=d.initialize.apply(d,f>0||f+r<_?l.slice(t,f,f+r):t)||d,c){t.__index=f+d.__read;var m=d.__filtered;m&&(t.__filtered=m,d.__filtered=a),d.__read=a}return d},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,r){for(var s=[],h,c=e||0,f=r?c+r:t.length,_=c;_<f;_++)s.push(Array.isArray(h=t[_])?this.read(h,0,i):this.read(t,_,i,1));return s},readNamed:function(t,e,i,r,s){var h=this.getNamed(t,e),c=h!==a;if(c){var f=t.__filtered;if(!f){var _=this.getSource(t);f=t.__filtered=l.create(_),f.__unfiltered=_}f[e]=a}return this.read(c?[h]:t,i,r,s)},readSupported:function(t,e){var i=this.getSource(t),r=this,s=!1;return i&&Object.keys(i).forEach(function(h){if(h in e){var c=r.readNamed(t,h);c!==a&&(e[h]=c),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===a){var i=t.length===1&&t[0];e=t.__source=i&&l.isPlainObject(i)?i:null}return e},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,r){var s;function h(m){if(!(i&&m in i)&&!(s&&m in s)){var y=e[m];y!==a&&(t[m]=y)}}if(r){for(var c={},f=0,_,d=r.length;f<d;f++)(_=r[f])in e&&(h(_),c[_]=!0);s=c}return Object.keys(e.__unfiltered||e).forEach(h),t},isPlainValue:function(t,e){return l.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,i,r){e=e||{};var s=!r,h;if(s&&(e.formatter=new B(e.precision),r={length:0,definitions:{},references:{},add:function(y,v){var p="#"+y._id,O=this.references[p];if(!O){this.length++;var x=v.call(y),k=y._class;k&&x[0]!==k&&x.unshift(k),this.definitions[p]=x,O=this.references[p]=[p]}return O}}),t&&t._serialize){h=t._serialize(e,r);var c=t._class;c&&!t._compactSerialize&&(s||!i)&&h[0]!==c&&h.unshift(c)}else if(Array.isArray(t)){h=[];for(var f=0,_=t.length;f<_;f++)h[f]=l.serialize(t[f],e,i,r)}else if(l.isPlainObject(t)){h={};for(var d=Object.keys(t),f=0,_=d.length;f<_;f++){var m=d[f];h[m]=l.serialize(t[m],e,i,r)}}else typeof t=="number"?h=e.formatter.number(t,e.precision):h=t;return s&&r.length>0?[["dictionary",r.definitions],h]:h},deserialize:function(t,e,i,r,s){var h=t,c=!i,f=c&&t&&t.length&&t[0][0]==="dictionary";if(i=i||{},Array.isArray(t)){var _=t[0],d=_==="dictionary";if(t.length==1&&/^#/.test(_))return i.dictionary[_];_=l.exports[_],h=[];for(var m=_?1:0,y=t.length;m<y;m++)h.push(l.deserialize(t[m],e,i,d,f));if(_){var v=h;e?h=e(_,v,c||s):h=new _(v)}}else if(l.isPlainObject(t)){h={},r&&(i.dictionary=h);for(var p in t)h[p]=l.deserialize(t[p],e,i)}return f?h[1]:h},exportJSON:function(t,e){var i=l.serialize(t,e);return e&&e.asString==!1?i:JSON.stringify(i)},importJSON:function(t,e){return l.deserialize(typeof t=="string"?JSON.parse(t):t,function(i,r,s){var h=s&&e&&e.constructor===i,c=h?e:l.create(i.prototype);if(r.length===1&&c instanceof rt&&(h||!(c instanceof pt))){var f=r[0];l.isPlainObject(f)&&(f.insert=!1,h&&(r=r.concat([rt.INSERT])))}return(h?c.set:i).apply(c,r),h&&(e=null),c})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var r=t.length;t.length+=i;for(var s=0;s<i;s++)t[r+s]=e[s]}return t},splice:function(t,e,i,r){var s=e&&e.length,h=i===a;i=h?t.length:i,i>t.length&&(i=t.length);for(var c=0;c<s;c++)e[c]._index=i+c;if(h)return l.push(t,e),[];var f=[i,r];e&&l.push(f,e);for(var _=t.splice.apply(t,f),c=0,d=_.length;c<d;c++)_[c]._index=a;for(var c=i+s,d=t.length;c<d;c++)t[c]._index=c;return _},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,i){return i.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var b={on:function(t,e){if(typeof t!="string")l.each(t,function(h,c){this.on(c,h)},this);else{var i=this._eventTypes,r=i&&i[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),r&&r.install&&s.length===1&&r.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){l.each(t,function(c,f){this.off(f,c)},this);return}var i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t],h;return s&&(!e||(h=s.indexOf(e))!==-1&&s.length===1?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):h!==-1&&s.splice(h,1)),this},once:function(t,e){return this.on(t,function i(){e.apply(this,arguments),this.off(t,i)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var r=l.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var h=0,c=i.length;h<c;h++)if(i[h].apply(this,r)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,r=t?"install":"uninstall";if(e){for(var s in i)if(i[s].length>0){var h=e[s],c=h&&h[r];c&&c.call(this,s)}}},statics:{inject:function t(e){var i=e._events;if(i){var r={};l.each(i,function(s,h){var c=typeof s=="string",f=c?s:h,_=l.capitalize(f),d=f.substring(2).toLowerCase();r[d]=c?{}:s,f="_"+f,e["get"+_]=function(){return this[f]},e["set"+_]=function(m){var y=this[f];y&&this.off(d,y),m&&this.on(d,m),this[f]=m}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},T=l.extend({_class:"PaperScope",initialize:function t(){At=this,this.settings=new l({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=ae.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:Kn.nativeModes},ae.release(i)}if(!this.agent){var r=n.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],h=s==="darwin"?"mac":s,c=e.agent=e.browser={platform:h};h&&(c[h]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(f,_,d,m,y){if(!c.chrome){var v=_==="opera"?m:/^(node|trident)$/.test(_)?y:d;c.version=v,c.versionNumber=parseFloat(v),_={trident:"msie",jsdom:"node"}[_]||_,c.name=_,c[_]=!0}}),c.chrome&&delete c.webkit,c.atom&&delete c.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var i=At.PaperScript.execute(t,this,e);return jt.updateFocus(),i},install:function(t){var e=this;l.each(["project","view","tool"],function(r){l.define(t,r,{configurable:!0,get:function(){return e[r]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return At=this,this.project=new ut(t),this},createCanvas:function(t,e){return ae.getCanvas(t,e)},activate:function(){At=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete T._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(i,r){return i[e](r)||i[e]("data-paper-"+r)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),E=l.extend(b,{initialize:function(t){this._scope=At,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(l.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),R={findItemBoundsCollisions:function(t,e,i){function r(c){for(var f=new Array(c.length),_=0;_<c.length;_++){var d=c[_].getBounds();f[_]=[d.left,d.top,d.right,d.bottom]}return f}var s=r(t),h=!e||e===t?s:r(e);return this.findBoundsCollisions(s,h,i||0)},findCurveBoundsCollisions:function(t,e,i,r){function s(v){for(var p=Math.min,O=Math.max,x=new Array(v.length),k=0;k<v.length;k++){var w=v[k];x[k]=[p(w[0],w[2],w[4],w[6]),p(w[1],w[3],w[5],w[7]),O(w[0],w[2],w[4],w[6]),O(w[1],w[3],w[5],w[7])]}return x}var h=s(t),c=!e||e===t?h:s(e);if(r){for(var f=this.findBoundsCollisions(h,c,i||0,!1,!0),_=this.findBoundsCollisions(h,c,i||0,!0,!0),d=[],m=0,y=f.length;m<y;m++)d[m]={hor:f[m],ver:_[m]};return d}return this.findBoundsCollisions(h,c,i||0)},findBoundsCollisions:function(t,e,i,r,s){var h=!e||t===e,c=h?t:t.concat(e),f=t.length,_=c.length;function d(ct,_t,vt){for(var et=0,it=ct.length;et<it;){var dt=it+et>>>1;c[ct[dt]][_t]<vt?et=dt+1:it=dt}return et-1}for(var m=r?1:0,y=m+2,v=r?0:1,p=v+2,O=new Array(_),x=0;x<_;x++)O[x]=x;O.sort(function(ct,_t){return c[ct][m]-c[_t][m]});for(var k=[],w=new Array(f),x=0;x<_;x++){var C=O[x],g=c[C],S=h?C:C-f,I=C<f,A=h||!I,P=I?[]:null;if(k.length){var L=d(k,y,g[m]-i)+1;if(k.splice(0,L),h&&s){P=P.concat(k);for(var F=0;F<k.length;F++){var q=k[F];w[q].push(S)}}else for(var H=g[p],D=g[v],F=0;F<k.length;F++){var q=k[F],U=c[q],W=q<f,Y=h||q>=f;(s||(I&&Y||A&&W)&&H>=U[v]-i&&D<=U[p]+i)&&(I&&Y&&P.push(h?q:q-f),A&&W&&w[q].push(S))}}if(I&&(t===e&&P.push(C),w[C]=P),k.length){var j=g[y],K=d(k,y,j);k.splice(K+1,0,C)}else k.push(C)}for(var x=0;x<w.length;x++){var at=w[x];at&&at.sort(function(_t,vt){return _t-vt})}return w}},B=l.extend({initialize:function(t){this.precision=l.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});B.instance=new B;var G=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,r=Math.sqrt,s=Math.pow,h=Math.log2||function(y){return Math.log(y)*Math.LOG2E},c=1e-12,f=112e-18;function _(y,v,p){return y<v?v:y>p?p:y}function d(y,v,p){function O(L){var F=L*134217729,q=L-F,H=q+F,D=L-H;return[H,D]}var x=v*v-y*p,k=v*v+y*p;if(i(x)*3<k){var w=O(y),C=O(v),g=O(p),S=v*v,I=C[0]*C[0]-S+2*C[0]*C[1]+C[1]*C[1],A=y*p,P=w[0]*g[0]-A+w[0]*g[1]+w[1]*g[0]+w[1]*g[1];x=S-A+(I-P)}return x}function m(){var y=Math.max.apply(Math,arguments);return y&&(y<1e-8||y>1e8)?s(2,-Math.round(h(y))):0}return{EPSILON:c,MACHINE_EPSILON:f,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(y){return y>=-c&&y<=c},isMachineZero:function(y){return y>=-f&&y<=f},clamp:_,integrate:function(y,v,p,O){for(var x=t[O-2],k=e[O-2],w=(p-v)*.5,C=w+v,g=0,S=O+1>>1,I=O&1?k[g++]*y(C):0;g<S;){var A=w*x[g];I+=k[g++]*(y(C+A)+y(C-A))}return w*I},findRoot:function(y,v,p,O,x,k,w){for(var C=0;C<k;C++){var g=y(p),S=g/v(p),I=p-S;if(i(S)<w){p=I;break}g>0?(x=p,p=I<=O?(O+x)*.5:I):(O=p,p=I>=x?(O+x)*.5:I)}return _(p,O,x)},solveQuadratic:function(y,v,p,O,x,k){var w,C=1/0;if(i(y)<c){if(i(v)<c)return i(p)<c?-1:0;w=-p/v}else{v*=-.5;var g=d(y,v,p);if(g&&i(g)<f){var S=m(i(y),i(v),i(p));S&&(y*=S,v*=S,p*=S,g=d(y,v,p))}if(g>=-f){var I=g<0?0:r(g),A=v+(v<0?-I:I);A===0?(w=p/y,C=-w):(w=A/y,C=p/A)}}var P=0,L=x==null,F=x-c,q=k+c;return isFinite(w)&&(L||w>F&&w<q)&&(O[P++]=L?w:_(w,x,k)),C!==w&&isFinite(C)&&(L||C>F&&C<q)&&(O[P++]=L?C:_(C,x,k)),P},solveCubic:function(y,v,p,O,x,k,w){var C=m(i(y),i(v),i(p),i(O)),g,S,I,A,P;C&&(y*=C,v*=C,p*=C,O*=C);function L(K){g=K;var at=y*g;S=at+v,I=S*g+p,A=(at+S)*g+I,P=I*g+O}if(i(y)<c)y=v,S=p,I=O,g=1/0;else if(i(O)<c)S=v,I=p,g=0;else{L(-(v/y)/3);var F=P/y,q=s(i(F),1/3),H=F<0?-1:1,D=-A/y,U=D>0?1.324717957244746*Math.max(q,r(D)):q,W=g-H*U;if(W!==g){do L(W),W=A===0?g:g-P/A/(1+f);while(H*W>H*g);i(y)*g*g>i(O/g)&&(I=-O/g,S=(I-p)/g)}}var Y=G.solveQuadratic(y,S,I,x,k,w),j=k==null;return isFinite(g)&&(Y===0||Y>0&&g!==x[0]&&g!==x[1])&&(j||g>k-c&&g<w+c)&&(x[Y++]=j?g:_(g,k,w)),Y}}},X={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},M=l.extend({_class:"Point",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,h=0;if(r==="number"){var c=typeof i=="number";this._set(e,c?i:e),s&&(h=c?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(h=e===null?1:0);else{var f=r==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"x"in f?this._set(f.x||0,f.y||0):"width"in f?this._set(f.width||0,f.height||0):"angle"in f?(this._set(f.length||0,0),this.setAngle(f.angle||0)):(this._set(0,0),h=0)}return s&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new M(this.x,this.y)},toString:function(){var t=B.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();G.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=M.read(arguments),e=this.getLength()*t.getLength();if(G.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=M.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=M.read(t),i=e.x-this.x,r=e.y-this.y,s=i*i+r*r,h=l.read(t);return h?s:Math.sqrt(s)},normalize:function(t){t===a&&(t=1);var e=this.getLength(),i=e!==0?t/e:0,r=new M(this.x*i,this.y*i);return i>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,r=Math.sin(t),s=Math.cos(t);return i=new M(i.x*s-i.y*r,i.x*r+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=M.read(arguments);return new M(this.x+t.x,this.y+t.y)},subtract:function(){var t=M.read(arguments);return new M(this.x-t.x,this.y-t.y)},multiply:function(){var t=M.read(arguments);return new M(this.x*t.x,this.y*t.y)},divide:function(){var t=M.read(arguments);return new M(this.x/t.x,this.y/t.y)},modulo:function(){var t=M.read(arguments);return new M(this.x%t.x,this.y%t.y)},negate:function(){return new M(-this.x,-this.y)},isInside:function(){return Q.read(arguments).contains(this)},isClose:function(){var t=arguments,e=M.read(t),i=l.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=M.read(arguments);return M.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=M.read(arguments);return M.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=G.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=M.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=M.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=M.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new M(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=M.read(t),i=M.read(t);return new M(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=M.read(t),i=M.read(t);return new M(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new M(Math.random(),Math.random())},isCollinear:function(t,e,i,r){return Math.abs(t*r-e*i)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8},isOrthogonal:function(t,e,i,r){return Math.abs(t*i+e*r)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8}}},l.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new M(e(this.x),e(this.y))}},{})),J=M.extend({initialize:function(e,i,r,s){this._x=e,this._y=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),N=l.extend({_class:"Size",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,h=0;if(r==="number"){var c=typeof i=="number";this._set(e,c?i:e),s&&(h=c?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(h=e===null?1:0);else{var f=r==="string"?e.split(/[\s,]+/)||[]:e;h=1,Array.isArray(f)?this._set(+f[0],+(f.length>1?f[1]:f[0])):"width"in f?this._set(f.width||0,f.height||0):"x"in f?this._set(f.x||0,f.y||0):(this._set(0,0),h=0)}return s&&(this.__read=h),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new N(this.width,this.height)},toString:function(){var t=B.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=N.read(arguments);return new N(this.width+t.width,this.height+t.height)},subtract:function(){var t=N.read(arguments);return new N(this.width-t.width,this.height-t.height)},multiply:function(){var t=N.read(arguments);return new N(this.width*t.width,this.height*t.height)},divide:function(){var t=N.read(arguments);return new N(this.width/t.width,this.height/t.height)},modulo:function(){var t=N.read(arguments);return new N(this.width%t.width,this.height%t.height)},negate:function(){return new N(-this.width,-this.height)},isZero:function(){var t=G.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new N(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new N(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new N(Math.random(),Math.random())}}},l.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new N(e(this.width),e(this.height))}},{})),tt=N.extend({initialize:function(e,i,r,s){this._width=e,this._height=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),Q=l.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,i,r,s){var h=arguments,c=typeof e,f;if(c==="number"?(this._set(e,i,r,s),f=4):c==="undefined"||e===null?(this._set(0,0,0,0),f=e===null?1:0):h.length===1&&(Array.isArray(e)?(this._set.apply(this,e),f=1):e.x!==a||e.width!==a?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),f=1):e.from===a&&e.to===a&&(this._set(0,0,0,0),l.readSupported(h,this)&&(f=1))),f===a){var _=M.readNamed(h,"from"),d=l.peek(h),m=_.x,y=_.y,v,p;if(d&&d.x!==a||l.hasNamed(h,"to")){var O=M.readNamed(h,"to");v=O.x-m,p=O.y-y,v<0&&(m=O.x,v=-v),p<0&&(y=O.y,p=-p)}else{var x=N.read(h);v=x.width,p=x.height}this._set(m,y,v,p),f=h.__index}var k=h.__filtered;return k&&(this.__filtered=k),this.__read&&(this.__read=f),this},set:"#initialize",_set:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},clone:function(){return new Q(this.x,this.y,this.width,this.height)},equals:function(t){var e=l.isPlainValue(t)?Q.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=B.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?M:J;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=M.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?N:tt;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=N.read(arguments),e=this._sx,i=this._sy,r=t.width,s=t.height;e&&(this.x+=(this.width-r)*e),i&&(this.y+=(this.height-s)*i),this.width=r,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?M:J;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=M.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==a||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(Q.read(arguments)):this._containsPoint(M.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=Q.read(arguments),e=l.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=Q.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new Q(e,i,r-e,s-i)},unite:function(){var t=Q.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new Q(e,i,r-e,s-i)},include:function(){var t=M.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new Q(e,i,r-e,s-i)},expand:function(){var t=N.read(arguments),e=t.width,i=t.height;return new Q(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===a?t:e)-this.height)}},l.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),r=/^[RL]/.test(i);e>=4&&(t[1]+=r?"Y":"X");var s=t[r?0:1],h=t[r?1:0],c="get"+s,f="get"+h,_="set"+s,d="set"+h,m="get"+i,y="set"+i;this[m]=function(v){var p=v?M:J;return new p(this[c](),this[f](),this,y)},this[y]=function(){var v=M.read(arguments);this[_](v.x),this[d](v.y)}},{beans:!0})),lt=Q.extend({initialize:function(e,i,r,s,h,c){this._set(e,i,r,s,!0),this._owner=h,this._setter=c},_set:function(t,e,i,r,s){return this._x=t,this._y=e,this._width=i,this._height=r,s||this._owner[this._setter](this),this}},new function(){var t=Q.prototype;return l.each(["x","y","width","height"],function(e){var i=l.capitalize(e),r="_"+e;this["get"+i]=function(){return this[r]},this["set"+i]=function(s){this[r]=s,this._dontNotify||this._owner[this._setter](this)}},l.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var i=this._owner;i._changeSelection&&i._changeSelection(2,e)}}))}),st=l.extend({_class:"Matrix",initialize:function t(e,i){var r=arguments,s=r.length,h=!0;if(s>=6?this._set.apply(this,r):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):h=!1:s?h=!1:this.reset(),!h)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,r,s,h,c){return this._a=t,this._b=e,this._c=i,this._d=r,this._tx=s,this._ty=h,c||this._changed(),this},_serialize:function(t,e){return l.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new st(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=B.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return i?(i.transform(null,l.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=M.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=M.read(t),i=M.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=M.read(arguments,1),i=e.x,r=e.y,s=Math.cos(t),h=Math.sin(t),c=i-i*s+r*h,f=r-i*h-r*s,_=this._a,d=this._b,m=this._c,y=this._d;return this._a=s*_+h*m,this._b=s*d+h*y,this._c=-h*_+s*m,this._d=-h*d+s*y,this._tx+=c*_+f*m,this._ty+=c*d+f*y,this._changed(),this},shear:function(){var t=arguments,e=M.read(t),i=M.read(t,0,{readNull:!0});i&&this.translate(i);var r=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*r,this._d+=e.x*s,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=M.read(t),i=M.read(t,0,{readNull:!0}),r=Math.PI/180,s=new M(Math.tan(e.x*r),Math.tan(e.y*r));return this.shear(s,i)},append:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,h=this._d,c=t._a,f=t._c,_=t._b,d=t._d,m=t._tx,y=t._ty;this._a=c*i+_*s,this._c=f*i+d*s,this._b=c*r+_*h,this._d=f*r+d*h,this._tx+=m*i+y*s,this._ty+=m*r+y*h,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,h=this._d,c=this._tx,f=this._ty,_=t._a,d=t._c,m=t._b,y=t._d,v=t._tx,p=t._ty;this._a=_*i+d*r,this._c=_*s+d*h,this._b=m*i+y*r,this._d=m*s+y*h,this._tx=_*c+d*f+v,this._ty=m*c+y*f+p,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=this._tx,h=this._ty,c=t*r-e*i,f=null;return c&&!isNaN(c)&&isFinite(s)&&isFinite(h)&&(this._a=r/c,this._b=-e/c,this._c=-i/c,this._d=t/c,this._tx=(i*h-r*s)/c,this._ty=(e*s-t*h)/c,f=this),f},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new st(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(M.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var r=t.x,s=t.y;return e||(e=new M),e._set(r*this._a+s*this._c+this._tx,r*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var r=0,s=2*i;r<s;r+=2){var h=t[r],c=t[r+1];e[r]=h*this._a+c*this._c+this._tx,e[r+1]=h*this._b+c*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,r=e+t.width,s=i+t.height,h=[e,i,r,i,r,s,e,s];return this._transformCoordinates(h,h,4)},_transformBounds:function(t,e,i){for(var r=this._transformCorners(t),s=r.slice(0,2),h=s.slice(),c=2;c<8;c++){var f=r[c],_=c&1;f<s[_]?s[_]=f:f>h[_]&&(h[_]=f)}return e||(e=new Q),e._set(s[0],s[1],h[0]-s[0],h[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(M.read(arguments))},_inverseTransform:function(t,e,i){var r=this._a,s=this._b,h=this._c,c=this._d,f=this._tx,_=this._ty,d=r*c-s*h,m=null;if(d&&!isNaN(d)&&isFinite(f)&&isFinite(_)){var y=t.x-this._tx,v=t.y-this._ty;e||(e=new M),m=e._set((y*c-v*h)/d,(v*r-y*s)/d,i)}return m},decompose:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=t*r-e*i,h=Math.sqrt,c=Math.atan2,f=180/Math.PI,_,d,m;if(t!==0||e!==0){var y=h(t*t+e*e);_=Math.acos(t/y)*(e>0?1:-1),d=[y,s/y],m=[c(t*i+e*r,y*y),0]}else if(i!==0||r!==0){var v=h(i*i+r*r);_=Math.asin(i/v)*(r>0?1:-1),d=[s/v,v],m=[0,c(t*i+e*r,v*v)]}else _=0,m=d=[0,0];return{translation:this.getTranslation(),rotation:_*f,scaling:new M(d),skewing:new M(m[0]*f,m[1]*f)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new M(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},l.each(["a","b","c","d","tx","ty"],function(t){var e=l.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(r){this[i]=r,this._changed()}},{})),ht=l.extend({_class:"Line",initialize:function(e,i,r,s,h){var c=!1;arguments.length>=4?(this._px=e,this._py=i,this._vx=r,this._vy=s,c=h):(this._px=e.x,this._py=e.y,this._vx=i.x,this._vy=i.y,c=r),c||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new M(this._px,this._py)},getVector:function(){return new M(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return ht.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return ht.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return ht.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return M.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return M.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,r,s,h,c,f,_,d){_||(i-=t,r-=e,c-=s,f-=h);var m=i*f-r*c;if(!G.isMachineZero(m)){var y=t-s,v=e-h,p=(c*v-f*y)/m,O=(i*v-r*y)/m,x=1e-12,k=-x,w=1+x;if(d||k<p&&p<w&&k<O&&O<w)return d||(p=p<=0?0:p>=1?1:p),new M(t+p*i,e+p*r)}},getSide:function(t,e,i,r,s,h,c,f){c||(i-=t,r-=e);var _=s-t,d=h-e,m=_*r-d*i;return!f&&G.isMachineZero(m)&&(m=(_*i+_*i)/(i*i+r*r),m>=0&&m<=1&&(m=0)),m<0?-1:m>0?1:0},getSignedDistance:function(t,e,i,r,s,h,c){return c||(i-=t,r-=e),i===0?r>0?s-t:t-s:r===0?i<0?h-e:e-h:((s-t)*r-(h-e)*i)/(r>i?r*Math.sqrt(1+i*i/(r*r)):i*Math.sqrt(1+r*r/(i*i)))},getDistance:function(t,e,i,r,s,h,c){return Math.abs(ht.getSignedDistance(t,e,i,r,s,h,c))}}}),ut=E.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){E.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new jn(null,null,this),this._view=jt.create(this,e||ae.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return l.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var r=this._changes;if(r&&e){var s=this._changesById,h=e._id,c=s[h];c?c.flags|=t:r.push(s[h]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new pt({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:qt,match:function(i){var r=i._definition,s=r._id;return e[s]||(e[s]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var r=t[i],s=r._selection;s&1&&r.isInserted()?e.push(r):s||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(a,t)},insertLayer:function(t,e){if(e instanceof pt){e._remove(!1,!0),l.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(a,new pt(rt.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return rt._getItems(this,t)},getItem:function(t){return rt._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return l.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var i=e[t];if(i){for(var r in i){var s=i[r];for(var h in e){var c=e[h];c&&c!=i&&delete c[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,s=new l({offset:new M(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new st],updateMatrix:!0}),h=0,c=r.length;h<c;h++)r[h].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var f=this._selectionItems,_=this._scope.settings.handleSize,d=this._updateVersion;for(var m in f)f[m]._drawSelection(t,e,_,f,d);t.restore()}}}),rt=l.extend(b,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=l.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new st,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return l.each(t,function(e){this._events[e]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&l.isPlainObject(t),r=i&&t.internal===!0,s=this._matrix=new st,h=i&&t.project||At.project,c=At.settings;return this._id=r?null:X.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&c.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new jn(h._currentStyle,this,h),r||i&&t.insert==!1||!c.insertItems&&!(i&&t.insert==!0)?this._setProject(h):(i&&t.parent||h)._insertItem(a,this,!0),i&&t!==rt.NO_INSERT&&t!==rt.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){var i={},r=this;function s(h){for(var c in h){var f=r[c];l.equals(f,c==="leading"?h.fontSize*1.2:h[c])||(i[c]=l.serialize(f,t,c!=="data",e))}}return s(this._serializeFields),this instanceof gt||s(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,i=this._parent||e,r=this._project;t&8&&(this._bounds=this._position=this._decomposed=a),t&16&&(this._globalMatrix=a),i&&t&72&&rt._clearBoundsCache(i),t&2&&rt._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||a,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},l.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=l.capitalize(t),i="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[i]},this["set"+e]=function(s){s!=this[i]&&(this[i]=s,this._changed(r[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var i=0,r=t.length;i<r;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,r=e.length;i<r;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?M:J,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(M.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new J(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=M.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},l.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(i){return this.getBounds(i,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof st,r=l.set({},i?e:t,this._boundsOptions);(!r.stroke||this.getStrokeScaling())&&(r.cacheItem=this);var s=this._getCachedBounds(i&&t,r).rect;return arguments.length?s:new lt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=Q.read(arguments),e=this.getBounds(),i=this._matrix,r=new st,s=t.getCenter();r.translate(s),(t.width!=e.width||t.height!=e.height)&&(i.isInvertible()||(i.set(i._backup||new st().translate(i.getTranslation())),e=this.getBounds()),r.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),r.translate(-s.x,-s.y),this.transform(r)},_getBounds:function(t,e){var i=this._children;return!i||!i.length?new Q:(rt._updateBoundsCache(this,e.cacheItem),rt._getBounds(i,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var r=e.internal&&!i,s=e.cacheItem,h=r?null:this._matrix._orNullIfIdentity(),c=s&&(!t||t.equals(h))&&this._getBoundsCacheKey(e,r),f=this._bounds;if(rt._updateBoundsCache(this._parent||this._symbol,s),c&&f&&c in f){var _=f[c];return{rect:_.rect.clone(),nonscaling:_.nonscaling}}var d=this._getBounds(t||h,e),m=d.rect||d,y=this._style,v=d.nonscaling||y.hasStroke()&&!y.getStrokeScaling();if(c){f||(this._bounds=f={});var _=f[c]={rect:m.clone(),nonscaling:v,internal:r}}return{rect:m,nonscaling:v}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=i?i.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[i]||(r.list.push(e),r.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=a;for(var i=0,r=e.list,s=r.length;i<s;i++){var h=r[i];h!==t&&(h._bounds=h._position=a,h._boundsCache&&rt._clearBoundsCache(h))}}},_getBounds:function(t,e,i){var r=1/0,s=-r,h=r,c=s,f=!1;i=i||{};for(var _=0,d=t.length;_<d;_++){var m=t[_];if(m._visible&&!m.isEmpty(!0)){var y=m._getCachedBounds(e&&e.appended(m._matrix),i,!0),v=y.rect;r=Math.min(v.x,r),h=Math.min(v.y,h),s=Math.max(v.x+v.width,s),c=Math.max(v.y+v.height,c),y.nonscaling&&(f=!0)}}return{rect:isFinite(r)?new Q(r,h,s-r,c-h):new Q,nonscaling:f}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new J(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=M.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),r=this._decomposed,s=new st,h=G.isZero;if(h(t.x)||h(t.y))s.translate(r.translation),i&&s.rotate(i),s.scale(e.x,e.y),this._matrix.set(s);else{var c=this.getPosition(!0);s.translate(c),i&&s.rotate(i),s.scale(e.x/t.x,e.y/t.y),i&&s.rotate(-i),s.translate(c.negate()),this.transform(s)}r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,r=[];i;){if(!i._globalMatrix){e=null;for(var s=0,h=r.length;s<h;s++)r[s]._globalMatrix=null;break}r.push(i),i=i._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof pt)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,i=e&&e._children;i&&e.insertChildren(t in i?t:a,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return l.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(rt.NO_INSERT),i=this._children,r=l.pick(t?t.insert:a,t===a||t===!0),s=l.pick(t?t.deep:a,!0);i&&e.copyAttributes(this),(!i||s)&&e.copyContent(this),i||e.copyAttributes(this),r&&e.insertAbove(this);var h=this._name,c=this._parent;if(h&&c){for(var i=c._children,f=h,_=1;i[h];)h=f+" "+_++;h!==f&&e.setName(h)}return e},copyContent:function(t){for(var e=t._children,i=0,r=e&&e.length;i<r;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,s=i.length;r<s;r++){var h=i[r];t.hasOwnProperty(h)&&(this[h]=t[h])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var c=t._data,f=t._name;this._data=c?l.clone(c):null,f&&this.setName(f)},rasterize:function(t,e){var i,r,s;l.isPlainObject(t)?(i=t.resolution,r=t.insert,s=t.raster):(i=t,r=e),s||(s=new Mt(rt.NO_INSERT));var h=this.getStrokeBounds(),c=(i||this.getView().getResolution())/72,f=h.getTopLeft().floor(),_=h.getBottomRight().ceil(),d=new N(_.subtract(f)),m=d.multiply(c);if(s.setSize(m,!0),!m.isZero()){var y=s.getContext(!0),v=new st().scale(c).translate(f.negate());y.save(),v.applyToContext(y),this.draw(y,new l({matrices:[v]})),y.restore()}return s._matrix.set(new st().translate(f.add(d.divide(2))).scale(1/c)),(r===a||r)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(M.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return Q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new zt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof rt?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var r=arguments;return this._hitTest(M.read(r),Et.getOptions(r))}function e(){var r=arguments,s=M.read(r),h=Et.getOptions(r),c=[];return this._hitTest(s,new l({all:c},h)),c}function i(r,s,h,c){var f=this._children;if(f)for(var _=f.length-1;_>=0;_--){var d=f[_],m=d!==c&&d._hitTest(r,s,h);if(m&&!s.all)return m}return null}return ut.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var r=this._matrix,s=i?i.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(e.tolerance,1e-12),c=e._tolerancePadding=new N(zt._getStrokePadding(h,r._shiftless().invert()));if(t=r._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(c.multiply(2))._containsPoint(t))return null;var f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==l.hyphenate(this._class)||e.class&&!(this instanceof e.class)),_=e.match,d=this,m,y;function v(g){return g&&_&&!_(g)&&(g=null),g&&e.all&&e.all.push(g),g}function p(g,S){var I=S?m["get"+S]():d.getPosition();if(t.subtract(I).divide(c).length<=1)return new Et(g,d,{name:S?l.hyphenate(S):g,point:I})}var O=e.position,x=e.center,k=e.bounds;if(f&&this._parent&&(O||x||k)){if((x||k)&&(m=this.getInternalBounds()),y=O&&p("position")||x&&p("center","Center"),!y&&k)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],C=0;C<8&&!y;C++)y=p("bounds",w[C]);y=v(y)}return y||(y=this._hitTestChildren(t,e,s)||f&&v(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),y&&y.point&&(y.point=r.transform(y.point)),y},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Et("fill",this)},matches:function(t,e){function i(c,f){for(var _ in c)if(c.hasOwnProperty(_)){var d=c[_],m=f[_];if(l.isPlainObject(d)&&l.isPlainObject(m)){if(!i(d,m))return!1}else if(!l.equals(d,m))return!1}return!0}var r=typeof t;if(r==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(r==="function")return t(this);if(t==="match")return e(this);var h=/^(empty|editable)$/.test(t)?this["is"+l.capitalize(t)]():t==="type"?l.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;h=this._class}if(typeof e=="function")return!!e(h);if(e){if(e.test)return e.test(h);if(l.isPlainObject(e))return i(e,h)}return l.equals(h,e)}},getItems:function(t){return rt._getItems(this,t,this._matrix)},getItem:function(t){return rt._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,r,s,h){if(!s){var c=typeof i=="object"&&i,f=c&&c.overlapping,_=c&&c.inside,d=f||_,v=d&&Q.read([d]);s={items:[],recursive:c&&c.recursive!==!1,inside:!!_,overlapping:!!f,rect:v,path:f&&new zt.Rectangle({rectangle:v,insert:!1})},c&&(i=l.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var m=e._children,y=s.items,v=s.rect;r=v&&(r||new st);for(var p=0,O=m&&m.length;p<O;p++){var x=m[p],k=r&&r.appended(x._matrix),w=!0;if(v){var d=x.getBounds(k);if(!v.intersects(d))continue;v.contains(d)||s.overlapping&&(d.contains(v)||s.path.intersects(x,k))||(w=!1)}if(w&&x.matches(i)&&(y.push(x),h)||(s.recursive!==!1&&t(x,i,k,s,h),h&&y.length>0))break}return y}}},{importJSON:function(t){var e=l.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(a,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=l.slice(e);for(var r={},s=e.length-1;s>=0;s--){var h=e[s],c=h&&h._id;!h||r[c]?e.splice(s,1):(h._remove(!1,!0),r[c]=!0)}l.splice(i,e,t,0);for(var f=this._project,_=f._changes,s=0,d=e.length;s<d;s++){var h=e[s],m=h._name;h._parent=this,h._setProject(f,!0),m&&h.setName(m),_&&h._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),r=t!==this&&i?this:null;return r&&(r._remove(!1,!0),i._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(a,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,r=this._name,s=i[r],h=s?s.indexOf(this):-1;h!==-1&&(e[r]==this&&delete e[r],s.splice(h,1),s.length?e[r]=s[0]:delete i[r])}},_remove:function(t,e){var i=this._getOwner(),r=this._project,s=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),s!=null&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),l.splice(i._children,null,s,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=l.pick(e,this._children.length);for(var i=l.splice(this._children,null,t,e-t),r=i.length-1;r>=0;r--)i[r]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var r=0;r<i;r++)if(!e[r].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(c){var f=[];do f.unshift(c);while(c=c._parent);return f}for(var i=e(this),r=e(t),s=0,h=Math.min(i.length,r.length);s<h;s++)if(i[s]!=r[s])return i[s]._index<r[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},l.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?l:M).read(i),s=M.read(i,0,{readNull:!0});return this.transform(new st()[t](r,s||this.getPosition(!0)))}},{translate:function(){var t=new st;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var r=this._matrix,s=t&&!t.isIdentity(),h=i&&this._canApplyMatrix||this._applyMatrix&&(s||!r.isIdentity()||e&&this._children);if(!s&&!h)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var c=this._style,f=c.getFillColor(!0),_=c.getStrokeColor(!0);f&&f.transform(t),_&&_.transform(t)}if(h&&(h=this._transformContent(r,e,i))){var d=this._pivot;d&&r._transformPoint(d,d,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var m=this._bounds,y=this._position;(s||h)&&this._changed(25);var v=s&&m&&t.decompose();if(v&&v.skewing.isZero()&&v.rotation%90===0){for(var p in m){var O=m[p];if(O.nonscaling)delete m[p];else if(h||!O.internal){var x=O.rect;t._transformBounds(x,x)}}this._bounds=m;var k=m[this._getBoundsCacheKey(this._boundsOptions||{})];k&&(this._position=this._getPositionFromBounds(k.rect))}else s&&y&&this._pivot&&(this._position=t._transformPoint(y,y));return this},_transformContent:function(t,e,i){var r=this._children;if(r){for(var s=0,h=r.length;s<h;s++)r[s].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(M.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(M.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(M.read(arguments))},localToParent:function(){return this._matrix._transformPoint(M.read(arguments))},fitBounds:function(t,e){t=Q.read(arguments);var i=this.getBounds(),r=i.height/i.width,s=t.height/t.width,h=(e?r>s:r<s)?t.width/i.width:t.height/i.height,c=new Q(new M,new N(i.width*h,i.height*h));c.setCenter(t.getCenter()),this.setBounds(c)}}),{_setStyles:function(t,e,i){var r=this._style,s=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,s)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=r.getStrokeWidth();var h=r.getStrokeJoin(),c=r.getStrokeCap(),f=r.getMiterLimit();if(h&&(t.lineJoin=h),c&&(t.lineCap=c),f&&(t.miterLimit=f),At.support.nativeDash){var _=r.getDashArray(),d=r.getDashOffset();_&&_.length&&("setLineDash"in t?(t.setLineDash(_),t.lineDashOffset=d):(t.mozDash=_,t.mozDashOffset=d))}}if(r.hasShadow()){var m=e.pixelRatio||1,y=i._shiftless().prepend(new st().scale(m,m)),v=y.transform(new M(r.getShadowBlur(),0)),p=y.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=v.getLength(),t.shadowOffsetX=p.x,t.shadowOffsetY=p.y}},draw:function(t,e,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var r=e.matrices,s=e.viewMatrix,h=this._matrix,c=r[r.length-1].appended(h);if(c.isInvertible()){s=s?s.appended(c):c,r.push(c),e.updateMatrix&&(this._globalMatrix=c);var f=this._blendMode,_=G.clamp(this._opacity,0,1),d=f==="normal",m=Kn.nativeModes[f],y=d&&_===1||e.dontStart||e.clip||(m||d&&_<1)&&this._canComposite(),v=e.pixelRatio||1,p,O,x;if(!y){var k=this.getStrokeBounds(s);if(!k.width||!k.height){r.pop();return}x=e.offset,O=e.offset=k.getTopLeft().floor(),p=t,t=ae.getContext(k.getSize().ceil().add(1).multiply(v)),v!==1&&t.scale(v,v)}t.save();var w=i?i.appended(h):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,C=!y&&e.clipItem,g=!w||C;if(y?(t.globalAlpha=_,m&&(t.globalCompositeOperation=f)):g&&t.translate(-O.x,-O.y),g&&(y?h:s).applyToContext(t),C&&e.clipItem.draw(t,e.extend({clip:!0})),w){t.setTransform(v,0,0,v,0,0);var S=e.offset;S&&t.translate(-S.x,-S.y)}this._draw(t,e,s,w),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),y||(Kn.process(f,t,p,_,O.subtract(x).multiply(v)),ae.release(t),e.offset=x)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof ve)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,r,s){var h=this._selection,c=h&1,f=h&2||c&&this._selectBounds,_=h&4;if(this._drawSelected||(c=!1),(c||f||_)&&this._isUpdated(s)){var d,m=this.getSelectedColor(!0)||(d=this.getLayer())&&d.getSelectedColor(!0),y=e.appended(this.getGlobalMatrix(!0)),v=i/2;if(t.strokeStyle=t.fillStyle=m?m.toCanvasStyle(t):"#009dec",c&&this._drawSelected(t,y,r),_){var p=this.getPosition(!0),O=this._parent,x=O?O.localToGlobal(p):p,k=x.x,w=x.y;t.beginPath(),t.arc(k,w,v,0,Math.PI*2,!0),t.stroke();for(var C=[[0,-1],[1,0],[0,1],[-1,0]],g=v,S=i+1,I=0;I<4;I++){var A=C[I],P=A[0],L=A[1];t.moveTo(k+P*g,w+L*g),t.lineTo(k+P*S,w+L*S),t.stroke()}}if(f){var F=y._transformCorners(this.getInternalBounds());t.beginPath();for(var I=0;I<8;I++)t[I?"lineTo":"moveTo"](F[I],F[++I]);t.closePath(),t.stroke();for(var I=0;I<8;I++)t.fillRect(F[I]-v,F[++I]-v,i,i)}}},_canComposite:function(){return!1}},l.each(["down","drag","up","move"],function(t){this["removeOn"+l.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,r=this._project,s=r._removeSets=r._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var r=i&&i.easing,s=i&&i.start,h=i!=null&&(typeof i=="number"?i:i.duration),c=new ja(this,t,e,h,r,s);function f(_){c._handleFrame(_.time*1e3),c.running||this.off("frame",f)}return h&&this.on("frame",f),c},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),gt=rt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=a)},_getClipItem:function(){var t=this._clipItem;if(t===a){t=null;for(var e=this._children,i=0,r=e.length;i<r;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(e),l.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,r){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,r,s)},_draw:function(t,e){var i=e.clip,r=!i&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var s=this._children,h=0,c=s.length;h<c;h++){var f=s[h];f!==r&&f.draw(t,e)}}}),pt=gt.extend({_class:"Layer",initialize:function(){gt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ft=rt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,i){this._initialize(e,i)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&l.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new tt(t.width,t.height,this,"setSize")},setSize:function(){var t=N.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,i=t.width,r=t.height;e==="rectangle"?this._radius.set(N.min(this._radius,t.divide(2).abs())):e==="circle"?(i=r=(i+r)/2,this._radius=i/2):e==="ellipse"&&this._radius._set(i/2,r/2),this._size._set(i,r),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new tt(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var i=t*2;this._radius=t,this._size._set(i,i)}else if(t=N.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var i=N.max(this._size,t.multiply(2));this._size.set(i)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new zt[l.capitalize(this._type)]({center:new M,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),At.settings.applyMatrix&&e.setApplyMatrix(!0),(t===a||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,r){var s=this._style,h=s.hasFill(),c=s.hasStroke(),f=e.dontFinish||e.clip,_=!r;if(h||c||f){var d=this._type,m=this._radius,y=d==="circle";if(e.dontStart||t.beginPath(),_&&y)t.arc(0,0,m,0,Math.PI*2,!0);else{var v=y?m:m.width,p=y?m:m.height,O=this._size,x=O.width,k=O.height;if(_&&d==="rectangle"&&v===0&&p===0)t.rect(-x/2,-k/2,x,k);else{var w=x/2,C=k/2,g=1-.5522847498307936,S=v*g,I=p*g,A=[-w,-C+p,-w,-C+I,-w+S,-C,-w+v,-C,w-v,-C,w-S,-C,w,-C+I,w,-C+p,w,C-p,w,C-I,w-S,C,w-v,C,-w+v,C,-w+S,C,-w,C-I,-w,C-p];r&&r.transform(A,A,32),t.moveTo(A[0],A[1]),t.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7]),w!==v&&t.lineTo(A[8],A[9]),t.bezierCurveTo(A[10],A[11],A[12],A[13],A[14],A[15]),C!==p&&t.lineTo(A[16],A[17]),t.bezierCurveTo(A[18],A[19],A[20],A[21],A[22],A[23]),w!==v&&t.lineTo(A[24],A[25]),t.bezierCurveTo(A[26],A[27],A[28],A[29],A[30],A[31])}}t.closePath()}!f&&(h||c)&&(this._setStyles(t,e,i),h&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),c&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new Q(this._size).setCenter(0,0),r=this._style,s=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(zt._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(i,r,s){var h=i._radius;if(!h.isZero())for(var c=i._size.divide(2),f=1;f<=4;f++){var _=new M(f>1&&f<4?-1:1,f>2?-1:1),d=_.multiply(c),m=d.subtract(_.multiply(h)),y=new Q(s?d.add(_.multiply(s)):d,m);if(y.contains(r))return{point:m,quadrant:f}}}function e(i,r,s,h){var c=i.divide(r);return(!h||c.isInQuadrant(h))&&c.subtract(c.normalize()).multiply(r).divide(s).length<=1}return{_contains:function i(r){if(this._type==="rectangle"){var s=t(this,r);return s?r.subtract(s.point).divide(this._radius).getLength()<=1:i.base.call(this,r)}else return r.divide(this.size).getLength()<=.5},_hitTestSelf:function i(r,s,h,c){var f=!1,_=this._style,d=s.stroke&&_.hasStroke(),m=s.fill&&_.hasFill();if(d||m){var y=this._type,v=this._radius,p=d?_.getStrokeWidth()/2:0,O=s._tolerancePadding.add(zt._getStrokePadding(p,!_.getStrokeScaling()&&c));if(y==="rectangle"){var x=O.multiply(2),k=t(this,r,x);if(k)f=e(r.subtract(k.point),v,O,k.quadrant);else{var w=new Q(this._size).setCenter(0,0),C=w.expand(x),g=w.expand(x.negate());f=C._containsPoint(r)&&!g._containsPoint(r)}}else f=e(r,v,O)}return f?new Et(d?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(e,i,r,s,h){var c=l.create(ft.prototype);return c._type=e,c._size=r,c._radius=s,c._initialize(l.getNamed(h),i),c}return{Circle:function(){var e=arguments,i=M.readNamed(e,"center"),r=l.readNamed(e,"radius");return t("circle",i,new N(r*2),r,e)},Rectangle:function(){var e=arguments,i=Q.readNamed(e,"rectangle"),r=N.min(N.readNamed(e,"radius"),i.getSize(!0).divide(2));return t("rectangle",i.getCenter(!0),i.getSize(!0),r,e)},Ellipse:function(){var e=arguments,i=ft._readEllipse(e),r=i.radius;return t("ellipse",i.center,r.multiply(2),r,e)},_readEllipse:function(e){var i,r;if(l.hasNamed(e,"radius"))i=M.readNamed(e,"center"),r=N.readNamed(e,"radius");else{var s=Q.readNamed(e,"rectangle");i=s.getCenter(!0),r=s.getSize(!0).divide(2)}return{center:i,radius:r}}}}}),Mt=rt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,i){if(!this._initialize(e,i!==a&&M.read(arguments))){var r,s=typeof e,h=s==="string"?o.getElementById(e):s==="object"?e:null;if(h&&h!==rt.NO_INSERT){if(h.getContext||h.naturalHeight!=null)r=h;else if(h){var c=N.read(arguments);c.isZero()||(r=ae.getCanvas(c))}}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new N,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var r=ae.getCanvas(t._size);r.getContext("2d").drawImage(i,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new tt(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i=N.read(arguments);if(i.equals(this._size))e&&this.clear();else if(i.width>0&&i.height>0){var r=!e&&this.getElement();this._setImage(ae.getCanvas(i)),r&&this.getContext(!0).drawImage(r,0,0,i.width,i.height)}else this._canvas&&ae.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new M(0,0).transform(t),i=new M(1,0).transform(t).subtract(e),r=new M(0,1).transform(t).subtract(e);return new N(72/i.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function i(r){var s=e.getView(),h=r&&r.type||"load";s&&e.responds(h)&&(At=s._scope,e.emit(h,new xn(r)))}this._setImage(t),this._loaded?setTimeout(i,0):t&&se.add(t,{load:function(r){e._setImage(t),i(r)},error:i})},_setImage:function(t){this._canvas&&ae.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new N(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=ae.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{ae.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new n.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=Q.read(arguments),e=ae.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=Q.read(arguments),e=new Mt(rt.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=M.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof le?(i=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new Q(t):"x"in t&&(e=new Q(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var r=32,s=Math.min(e.width,r),h=Math.min(e.height,r),c=Mt._sampleContext;c?c.clearRect(0,0,r+1,r+1):c=Mt._sampleContext=ae.getContext(new N(r)),c.save();var f=new st().scale(s/e.width,h/e.height).translate(-e.x,-e.y);f.applyToContext(c),i&&i.draw(c,new l({clip:!0,matrices:[f]})),this._matrix.applyToContext(c);var _=this.getElement(),d=this._size;_&&c.drawImage(_,-d.width/2,-d.height/2),c.restore();for(var m=c.getImageData(.5,.5,Math.ceil(s),Math.ceil(h)).data,y=[0,0,0],v=0,p=0,O=m.length;p<O;p+=4){var x=m[p+3];v+=x,x/=255,y[0]+=m[p]*x,y[1]+=m[p+1]*x,y[2]+=m[p+2]*x}for(var p=0;p<3;p++)y[p]/=v;return v?Vt.read(y):null},getPixel:function(){var t=M.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Vt("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=M.read(t),i=Vt.read(t),r=i._convert("rgb"),s=i._alpha,h=this.getContext(!0),c=h.createImageData(1,1),f=c.data;f[0]=r[0]*255,f[1]=r[1]*255,f[2]=r[2]*255,f[3]=s!=null?s*255:255,h.putImageData(c,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=N.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=Q.read(arguments);return t.isEmpty()&&(t=new Q(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=M.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var i=new Q(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Et("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var r=this.getElement();if(r&&r.width>0&&r.height>0){t.globalAlpha=G.clamp(this._opacity,0,1),this._setStyles(t,e,i);var s=this._smoothing,h=s==="off";Jt.setPrefixed(t,h?"imageSmoothingEnabled":"imageSmoothingQuality",h?!1:s),t.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),qt=rt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,i){this._initialize(e,i!==a&&M.read(arguments,1))||this.setDefinition(e instanceof Lt?e:new Lt(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var r=e.extend({all:!1}),s=this._definition._item._hitTest(t,r,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),Lt=l.extend({_class:"SymbolDefinition",initialize:function(e,i){this._id=X.get(),this.project=At.project,e&&this.setItem(e,i)},_serialize:function(t,e){return e.add(this,function(){return l.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&rt._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new M),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new qt(this,t)},clone:function(){return new Lt(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Et=l.extend({_class:"HitResult",initialize:function(e,i,r){this.type=e,this.item=i,r&&this.inject(r)},statics:{getOptions:function(t){var e=t&&l.read(t);return new l({type:null,tolerance:At.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),yt=l.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,i,r,s,h,c){var f=arguments.length,_,d,m,y;f>0&&(e==null||typeof e=="object"?f===1&&e&&"point"in e?(_=e.point,d=e.handleIn,m=e.handleOut,y=e.selection):(_=e,d=i,m=r,y=s):(_=[e,i],d=r!==a?[r,s]:null,m=h!==a?[h,c]:null)),new Yt(_,this,"_point"),new Yt(d,this,"_handleIn"),new Yt(m,this,"_handleOut"),y&&this.setSelection(y)},_serialize:function(t,e){var i=this._point,r=this._selection,s=r||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return r&&s.push(r),l.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i=e._curves,r=this._index,s;i&&((!t||t===this._point||t===this._handleIn)&&(s=r>0?i[r-1]:e._closed?i[i.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=i[r])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(M.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(M.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(M.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Ft(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var r=t||{},s=r.type,h=r.factor,c=this.getPrevious(),f=this.getNext(),_=(c||this)._point,d=this._point,m=(f||this)._point,y=_.getDistance(d),v=d.getDistance(m);if(!s||s==="catmull-rom"){var p=h===a?.5:h,O=Math.pow(y,p),x=O*O,k=Math.pow(v,p),w=k*k;if(!e&&c){var C=2*w+3*k*O+x,g=3*k*(k+O);this.setHandleIn(g!==0?new M((w*_._x+C*d._x-x*m._x)/g-d._x,(w*_._y+C*d._y-x*m._y)/g-d._y):new M)}if(!i&&f){var C=2*x+3*O*k+w,g=3*O*(O+k);this.setHandleOut(g!==0?new M((x*m._x+C*d._x-w*_._x)/g-d._x,(x*m._y+C*d._y-w*_._y)/g-d._y):new M)}}else if(s==="geometric"){if(c&&f){var S=_.subtract(m),I=h===a?.4:h,A=I*y/(y+v);e||this.setHandleIn(S.multiply(A)),i||this.setHandleOut(S.multiply(A-I))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new yt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new yt(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var r=1-i,s=i,h=t._point,c=e._point,f=t._handleIn,_=e._handleIn,d=e._handleOut,m=t._handleOut;this._point._set(r*h._x+s*c._x,r*h._y+s*c._y,!0),this._handleIn._set(r*f._x+s*_._x,r*f._y+s*_._y,!0),this._handleOut._set(r*m._x+s*d._x,r*m._y+s*d._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var r=this._point,s=!i||!this._handleIn.isZero()?this._handleIn:null,h=!i||!this._handleOut.isZero()?this._handleOut:null,c=r._x,f=r._y,_=2;return e[0]=c,e[1]=f,s&&(e[_++]=s._x+c,e[_++]=s._y+f),h&&(e[_++]=h._x+c,e[_++]=h._y+f),t&&(t._transformCoordinates(e,e,_/2),c=e[0],f=e[1],i?(r._x=c,r._y=f,_=2,s&&(s._x=e[_++]-c,s._y=e[_++]-f),h&&(h._x=e[_++]-c,h._y=e[_++]-f)):(s||(e[_++]=c,e[_++]=f),h||(e[_++]=c,e[_++]=f))),e}}),Yt=M.extend({initialize:function(e,i,r){var s,h,c;if(!e)s=h=0;else if((s=e[0])!==a)h=e[1];else{var f=e;(s=f.x)===a&&(f=M.read(arguments),s=f.x),h=f.y,c=f.selected}this._x=s,this._y=h,this._owner=i,i[r]=this,c&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=G.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ot=l.extend({_class:"Curve",beans:!0,initialize:function(e,i,r,s,h,c,f,_){var d=arguments.length,m,y,v,p,O,x;d===3?(this._path=e,m=i,y=r):d?d===1?"segment1"in e?(m=new yt(e.segment1),y=new yt(e.segment2)):"point1"in e?(v=e.point1,O=e.handle1,x=e.handle2,p=e.point2):Array.isArray(e)&&(v=[e[0],e[1]],p=[e[6],e[7]],O=[e[2]-e[0],e[3]-e[1]],x=[e[4]-e[6],e[5]-e[7]]):d===2?(m=new yt(e),y=new yt(i)):d===4?(v=e,O=i,x=r,p=s):d===8&&(v=[e,i],p=[f,_],O=[r-e,s-i],x=[h-f,c-_]):(m=new yt,y=new yt),this._segment1=m||new yt(v,null,O),this._segment2=y||new yt(p,x,null)},_serialize:function(t,e){return l.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=a},clone:function(){return new ot(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ot.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(M.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(M.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(M.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(M.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ot.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new M(t[i],t[i+1]));return e}},{getLength:function(){return this._length==null&&(this._length=ot.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ot.getArea(this.getValues())},getLine:function(){return new ht(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new ot(ot.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return ot.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,r=1-i,s=null;if(t>=i&&t<=r){var h=ot.subdivide(this.getValues(),t),c=h[0],f=h[1],_=e||this.hasHandles(),d=this._segment1,m=this._segment2,y=this._path;_&&(d._handleOut._set(c[2]-c[0],c[3]-c[1]),m._handleIn._set(f[4]-f[6],f[5]-f[7]));var v=c[6],p=c[7],O=new yt(new M(v,p),_&&new M(c[4]-v,c[5]-p),_&&new M(f[2]-v,f[3]-p));y?(y.insert(d._index+1,O),s=this.getNext()):(this._segment2=O,this._changed(),s=new ot(O,m))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===a?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===a?.5:e?t:this.getTimeAt(t))},reversed:function(){return new ot(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,r){var s=t._point,h=t._handleOut,c=e._handleIn,f=e._point,_=s.x,d=s.y,m=f.x,y=f.y,v=r?[_,d,_,d,m,y,m,y]:[_,d,_+h._x,d+h._y,m+c._x,y+c._y,m,y];return i&&i._transformCoordinates(v,v,4),v},subdivide:function(t,e){var i=t[0],r=t[1],s=t[2],h=t[3],c=t[4],f=t[5],_=t[6],d=t[7];e===a&&(e=.5);var m=1-e,y=m*i+e*s,v=m*r+e*h,p=m*s+e*c,O=m*h+e*f,x=m*c+e*_,k=m*f+e*d,w=m*y+e*p,C=m*v+e*O,g=m*p+e*x,S=m*O+e*k,I=m*w+e*g,A=m*C+e*S;return[[i,r,y,v,w,C,I,A],[I,A,g,S,x,k,_,d]]},getMonoCurves:function(t,e){var i=[],r=e?0:1,s=t[r+0],h=t[r+2],c=t[r+4],f=t[r+6];if(s>=h==h>=c&&h>=c==c>=f||ot.isStraight(t))i.push(t);else{var _=3*(h-c)-s+f,d=2*(s+c)-4*h,m=h-s,y=1e-8,v=1-y,p=[],O=G.solveQuadratic(_,d,m,p,y,v);if(!O)i.push(t);else{p.sort();var x=p[0],k=ot.subdivide(t,x);i.push(k[0]),O>1&&(x=(p[1]-x)/(1-x),k=ot.subdivide(k[1],x),i.push(k[0])),i.push(k[1])}}return i},solveCubic:function(t,e,i,r,s,h){var c=t[e],f=t[e+2],_=t[e+4],d=t[e+6],m=0;if(!(c<i&&d<i&&f<i&&_<i||c>i&&d>i&&f>i&&_>i)){var y=3*(f-c),v=3*(_-f)-y,p=d-c-y-v;m=G.solveCubic(p,v,y,c-i,r,s,h)}return m},getTimeOf:function(t,e){var i=new M(t[0],t[1]),r=new M(t[6],t[7]),s=1e-12,h=1e-7,c=e.isClose(i,s)?0:e.isClose(r,s)?1:null;if(c===null)for(var f=[e.x,e.y],_=[],d=0;d<2;d++)for(var m=ot.solveCubic(t,d,f[d],_,0,1),y=0;y<m;y++){var v=_[y];if(e.isClose(ot.getPoint(t,v),h))return v}return e.isClose(i,h)?0:e.isClose(r,h)?1:null},getNearestTime:function(t,e){if(ot.isStraight(t)){var i=t[0],r=t[1],s=t[6],h=t[7],c=s-i,f=h-r,_=c*c+f*f;if(_===0)return 0;var d=((e.x-i)*c+(e.y-r)*f)/_;return d<1e-12?0:d>.999999999999?1:ot.getTimeOf(t,new M(i+d*c,r+d*f))}var m=100,y=1/0,v=0;function p(k){if(k>=0&&k<=1){var w=e.getDistance(ot.getPoint(t,k),!0);if(w<y)return y=w,v=k,!0}}for(var O=0;O<=m;O++)p(O/m);for(var x=1/(m*2);x>1e-8;)!p(v-x)&&!p(v+x)&&(x/=2);return v},getPart:function(t,e,i){var r=e>i;if(r){var s=e;e=i,i=s}return e>0&&(t=ot.subdivide(t,e)[1]),i<1&&(t=ot.subdivide(t,(i-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],r=t[1],s=t[2],h=t[3],c=t[4],f=t[5],_=t[6],d=t[7],m=3*s-2*i-_,y=3*h-2*r-d,v=3*c-2*_-i,p=3*f-2*d-r;return Math.max(m*m,v*v)+Math.max(y*y,p*p)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],r=t[2],s=t[3],h=t[4],c=t[5],f=t[6],_=t[7];return 3*((_-i)*(r+h)-(f-e)*(s+c)+s*(e-h)-r*(i-c)+_*(h+e/3)-f*(c+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),r=[0,0],s=0;s<2;s++)ot._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,r);return new Q(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,r,s,h,c,f,_){function d(I,A){var P=I-A,L=I+A;P<c[s]&&(c[s]=P),L>f[s]&&(f[s]=L)}h/=2;var m=c[s]+h,y=f[s]-h;if(t<m||e<m||i<m||r<m||t>y||e>y||i>y||r>y)if(e<t!=e<r&&i<t!=i<r)d(t,0),d(r,0);else{var v=3*(e-i)-t+r,p=2*(t+i)-4*e,O=e-t,x=G.solveQuadratic(v,p,O,_),k=1e-8,w=1-k;d(r,0);for(var C=0;C<x;C++){var g=_[C],S=1-g;k<=g&&g<=w&&d(S*S*S*t+3*S*S*g*e+3*S*g*g*i+g*g*g*r,h)}}}}},l.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=zt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),l.each({isStraight:function(t,e,i,r){if(e.isZero()&&i.isZero())return!0;var s=r.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var h=new ht(t,r),c=1e-7;if(h.getDistance(t.add(e))<c&&h.getDistance(r.add(i))<c){var f=s.dot(s),_=s.dot(e)/f,d=s.dot(i)/f;return _>=0&&_<=1&&d<=0&&d>=-1}}return!1},isLinear:function(t,e,i,r){var s=r.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(t,e){this[e]=function(i){var r=this._segment1,s=this._segment2;return t(r._point,r._handleOut,s._handleIn,s._point,i)},this.statics[e]=function(i,r){var s=i[0],h=i[1],c=i[6],f=i[7];return t(new M(s,h),new M(i[2]-s,i[3]-h),new M(i[4]-c,i[5]-f),new M(c,f),r)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Ft(this,t):null},getTimeAt:function(t,e){return ot.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=M.read(arguments);return t.isZero()?[]:ot.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(M.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ot.getTimeOf(this.getValues(),M.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=M.read(arguments),e=this.getValues(),i=ot.getNearestTime(e,t),r=ot.getPoint(e,i);return new Ft(this,i,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return l.each(t,function(e){this[e+"At"]=function(i,r){var s=this.getValues();return ot[e](s,r?i:ot.getTimeAt(s,i))},this[e+"AtTime"]=function(i){return ot[e](this.getValues(),i)}},{statics:{_evaluateMethods:t}})},new function(){function t(r){var s=r[0],h=r[1],c=r[2],f=r[3],_=r[4],d=r[5],m=r[6],y=r[7],v=9*(c-_)+3*(m-s),p=6*(s+_)-12*c,O=3*(c-s),x=9*(f-d)+3*(y-h),k=6*(h+d)-12*f,w=3*(f-h);return function(C){var g=(v*C+p)*C+O,S=(x*C+k)*C+w;return Math.sqrt(g*g+S*S)}}function e(r,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-r)*32)))}function i(r,s,h,c){if(s==null||s<0||s>1)return null;var f=r[0],_=r[1],d=r[2],m=r[3],y=r[4],v=r[5],p=r[6],O=r[7],x=G.isZero;x(d-f)&&x(m-_)&&(d=f,m=_),x(y-p)&&x(v-O)&&(y=p,v=O);var k=3*(d-f),w=3*(y-d)-k,C=p-f-k-w,g=3*(m-_),S=3*(v-m)-g,I=O-_-g-S,A,P;if(h===0)A=s===0?f:s===1?p:((C*s+w)*s+k)*s+f,P=s===0?_:s===1?O:((I*s+S)*s+g)*s+_;else{var L=1e-8,F=1-L;if(s<L?(A=k,P=g):s>F?(A=3*(p-y),P=3*(O-v)):(A=(3*C*s+2*w)*s+k,P=(3*I*s+2*S)*s+g),c){A===0&&P===0&&(s<L||s>F)&&(A=y-d,P=v-m);var q=Math.sqrt(A*A+P*P);q&&(A/=q,P/=q)}if(h===3){var y=6*C*s+2*w,v=6*I*s+2*S,H=Math.pow(A*A+P*P,3/2);A=H!==0?(A*v-P*y)/H:0,P=0}}return h===2?new M(P,-A):new M(A,P)}return{statics:{classify:function(r){var s=r[0],h=r[1],c=r[2],f=r[3],_=r[4],d=r[5],m=r[6],y=r[7],v=s*(y-d)+h*(_-m)+m*d-y*_,p=c*(h-y)+f*(m-s)+s*y-h*m,O=_*(f-h)+d*(s-c)+c*h-f*s,x=3*O,k=x-p,w=k-p+v,C=Math.sqrt(w*w+k*k+x*x),g=C!==0?1/C:0,S=G.isZero,I="serpentine";w*=g,k*=g,x*=g;function A(q,H,D){var U=H!==a,W=U&&H>0&&H<1,Y=U&&D>0&&D<1;return U&&(!(W||Y)||q==="loop"&&!(W&&Y))&&(q="arch",W=Y=!1),{type:q,roots:W||Y?W&&Y?H<D?[H,D]:[D,H]:[W?H:D]:null}}if(S(w))return S(k)?A(S(x)?"line":"quadratic"):A(I,x/(3*k));var P=3*k*k-4*w*x;if(S(P))return A("cusp",k/(2*w));var L=P>0?Math.sqrt(P/3):Math.sqrt(-P),F=2*w;return A(P>0?I:"loop",(k+L)/F,(k-L)/F)},getLength:function(r,s,h,c){if(s===a&&(s=0),h===a&&(h=1),ot.isStraight(r)){var f=r;h<1&&(f=ot.subdivide(f,h)[0],s/=h),s>0&&(f=ot.subdivide(f,s)[1]);var _=f[6]-f[0],d=f[7]-f[1];return Math.sqrt(_*_+d*d)}return G.integrate(c||t(r),s,h,e(s,h))},getTimeAt:function(r,s,h){if(h===a&&(h=s<0?1:0),s===0)return h;var c=Math.abs,f=1e-12,_=s>0,d=_?h:0,m=_?1:h,y=t(r),v=ot.getLength(r,d,m,y),p=c(s)-v;if(c(p)<f)return _?m:d;if(p>f)return null;var O=s/v,x=0;function k(w){return x+=G.integrate(y,h,w,e(h,w)),h=w,x-s}return G.findRoot(k,y,h+O,d,m,32,1e-12)},getPoint:function(r,s){return i(r,s,0,!1)},getTangent:function(r,s){return i(r,s,1,!0)},getWeightedTangent:function(r,s){return i(r,s,1,!1)},getNormal:function(r,s){return i(r,s,2,!0)},getWeightedNormal:function(r,s){return i(r,s,2,!1)},getCurvature:function(r,s){return i(r,s,3,!1).x},getPeaks:function(r){var s=r[0],h=r[1],c=r[2],f=r[3],_=r[4],d=r[5],m=r[6],y=r[7],v=-s+3*c-3*_+m,p=3*s-6*c+3*_,O=-3*s+3*c,x=-h+3*f-3*d+y,k=3*h-6*f+3*d,w=-3*h+3*f,C=1e-8,g=1-C,S=[];return G.solveCubic(9*(v*v+x*x),9*(v*p+k*x),2*(p*p+k*k)+3*(O*v+w*x),O*p+k*w,S,C,g),S.sort()}}}},new function(){function t(p,O,x,k,w,C,g){var S=!g&&x.getPrevious()===w,I=!g&&x!==w&&x.getNext()===w,A=1e-8,P=1-A;if(k!==null&&k>=(S?A:0)&&k<=(I?P:1)&&C!==null&&C>=(I?A:0)&&C<=(S?P:1)){var L=new Ft(x,k,null,g),F=new Ft(w,C,null,g);L._intersection=F,F._intersection=L,(!O||O(L))&&Ft.insert(p,L,!0)}}function e(p,O,x,k,w,C,g,S,I,A,P,L,F){if(++I>=4096||++S>=40)return I;var q=1e-9,H=O[0],D=O[1],U=O[6],W=O[7],Y=ht.getSignedDistance,j=Y(H,D,U,W,O[2],O[3]),K=Y(H,D,U,W,O[4],O[5]),at=j*K>0?3/4:4/9,ct=at*Math.min(0,j,K),_t=at*Math.max(0,j,K),vt=Y(H,D,U,W,p[0],p[1]),et=Y(H,D,U,W,p[2],p[3]),it=Y(H,D,U,W,p[4],p[5]),dt=Y(H,D,U,W,p[6],p[7]),wt=i(vt,et,it,dt),mt=wt[0],xt=wt[1],bt,Pt;if(j===0&&K===0&&vt===0&&et===0&&it===0&&dt===0||(bt=r(mt,xt,ct,_t))==null||(Pt=r(mt.reverse(),xt.reverse(),ct,_t))==null)return I;var kt=A+(P-A)*bt,Tt=A+(P-A)*Pt;if(Math.max(F-L,Tt-kt)<q){var ue=(kt+Tt)/2,oe=(L+F)/2;t(w,C,g?k:x,g?oe:ue,g?x:k,g?ue:oe)}else{p=ot.getPart(p,bt,Pt);var de=F-L;if(Pt-bt>.8)if(Tt-kt>de){var $t=ot.subdivide(p,.5),ue=(kt+Tt)/2;I=e(O,$t[0],k,x,w,C,!g,S,I,L,F,kt,ue),I=e(O,$t[1],k,x,w,C,!g,S,I,L,F,ue,Tt)}else{var $t=ot.subdivide(O,.5),oe=(L+F)/2;I=e($t[0],p,k,x,w,C,!g,S,I,L,oe,kt,Tt),I=e($t[1],p,k,x,w,C,!g,S,I,oe,F,kt,Tt)}else de===0||de>=q?I=e(O,p,k,x,w,C,!g,S,I,L,F,kt,Tt):I=e(p,O,x,k,w,C,g,S,I,kt,Tt,L,F)}return I}function i(p,O,x,k){var w=[0,p],C=[1/3,O],g=[2/3,x],S=[1,k],I=O-(2*p+k)/3,A=x-(p+2*k)/3,P;if(I*A<0)P=[[w,C,S],[w,g,S]];else{var L=I/A;P=[L>=2?[w,C,S]:L<=.5?[w,g,S]:[w,C,g,S],[w,S]]}return(I||A)<0?P.reverse():P}function r(p,O,x,k){return p[0][1]<x?s(p,!0,x):O[0][1]>k?s(O,!1,k):p[0][0]}function s(p,O,x){for(var k=p[0][0],w=p[0][1],C=1,g=p.length;C<g;C++){var S=p[C][0],I=p[C][1];if(O?I>=x:I<=x)return I===x?S:k+(x-w)*(S-k)/(I-w);k=S,w=I}return null}function h(p,O,x,k,w){var C=G.isZero;if(C(k)&&C(w)){var g=ot.getTimeOf(p,new M(O,x));return g===null?[]:[g]}for(var S=Math.atan2(-w,k),I=Math.sin(S),A=Math.cos(S),P=[],L=[],F=0;F<8;F+=2){var q=p[F]-O,H=p[F+1]-x;P.push(q*A-H*I,q*I+H*A)}return ot.solveCubic(P,1,0,L,0,1),L}function c(p,O,x,k,w,C,g){for(var S=O[0],I=O[1],A=O[6],P=O[7],L=h(p,S,I,A-S,P-I),F=0,q=L.length;F<q;F++){var H=L[F],D=ot.getPoint(p,H),U=ot.getTimeOf(O,D);U!==null&&t(w,C,g?k:x,g?U:H,g?x:k,g?H:U)}}function f(p,O,x,k,w,C){var g=ht.intersect(p[0],p[1],p[6],p[7],O[0],O[1],O[6],O[7]);g&&t(w,C,x,ot.getTimeOf(p,g),k,ot.getTimeOf(O,g))}function _(p,O,x,k,w,C){var g=1e-12,S=Math.min,I=Math.max;if(I(p[0],p[2],p[4],p[6])+g>S(O[0],O[2],O[4],O[6])&&S(p[0],p[2],p[4],p[6])-g<I(O[0],O[2],O[4],O[6])&&I(p[1],p[3],p[5],p[7])+g>S(O[1],O[3],O[5],O[7])&&S(p[1],p[3],p[5],p[7])-g<I(O[1],O[3],O[5],O[7])){var A=y(p,O);if(A)for(var P=0;P<2;P++){var L=A[P];t(w,C,x,L[0],k,L[1],!0)}else{var F=ot.isStraight(p),q=ot.isStraight(O),H=F&&q,D=F&&!q,U=w.length;if((H?f:F||q?c:e)(D?O:p,D?p:O,D?k:x,D?x:k,w,C,D,0,0,0,1,0,1),!H||w.length===U)for(var P=0;P<4;P++){var W=P>>1,Y=P&1,j=W*6,K=Y*6,at=new M(p[j],p[j+1]),ct=new M(O[K],O[K+1]);at.isClose(ct,g)&&t(w,C,x,W,k,Y)}}}return w}function d(p,O,x,k){var w=ot.classify(p);if(w.type==="loop"){var C=w.roots;t(x,k,O,C[0],O,C[1])}return x}function m(p,O,x,k,w,C){var g=1e-7,S=!O;S&&(O=p);for(var I=p.length,A=O.length,P=new Array(I),L=S?P:new Array(A),F=[],q=0;q<I;q++)P[q]=p[q].getValues(k);if(!S)for(var q=0;q<A;q++)L[q]=O[q].getValues(w);for(var H=R.findCurveBoundsCollisions(P,L,g),D=0;D<I;D++){var U=p[D],W=P[D];S&&d(W,U,F,x);var Y=H[D];if(Y)for(var j=0;j<Y.length;j++){if(C&&F.length)return F;var K=Y[j];if(!S||K>D){var at=O[K],ct=L[K];_(W,ct,U,at,F,x)}}}return F}function y(p,O){function x(dt){var wt=dt[6]-dt[0],mt=dt[7]-dt[1];return wt*wt+mt*mt}var k=Math.abs,w=ht.getDistance,C=1e-8,g=1e-7,S=ot.isStraight(p),I=ot.isStraight(O),A=S&&I,P=x(p)<x(O),L=P?O:p,F=P?p:O,q=L[0],H=L[1],D=L[6]-q,U=L[7]-H;if(w(q,H,D,U,F[0],F[1],!0)<g&&w(q,H,D,U,F[6],F[7],!0)<g)!A&&w(q,H,D,U,L[2],L[3],!0)<g&&w(q,H,D,U,L[4],L[5],!0)<g&&w(q,H,D,U,F[2],F[3],!0)<g&&w(q,H,D,U,F[4],F[5],!0)<g&&(S=I=A=!0);else if(A)return null;if(S^I)return null;for(var W=[p,O],Y=[],j=0;j<4&&Y.length<2;j++){var K=j&1,at=K^1,ct=j>>1,_t=ot.getTimeOf(W[K],new M(W[at][ct?6:0],W[at][ct?7:1]));if(_t!=null){var vt=K?[ct,_t]:[_t,ct];(!Y.length||k(vt[0]-Y[0][0])>C&&k(vt[1]-Y[0][1])>C)&&Y.push(vt)}if(j>2&&!Y.length)break}if(Y.length!==2)Y=null;else if(!A){var et=ot.getPart(p,Y[0][0],Y[1][0]),it=ot.getPart(O,Y[0][1],Y[1][1]);(k(it[2]-et[2])>g||k(it[3]-et[3])>g||k(it[4]-et[4])>g||k(it[5]-et[5])>g)&&(Y=null)}return Y}function v(p,O){var x=p[0],k=p[1],w=p[2],C=p[3],g=p[4],S=p[5],I=p[6],A=p[7],P=O.normalize(),L=P.x,F=P.y,q=3*I-9*g+9*w-3*x,H=3*A-9*S+9*C-3*k,D=6*g-12*w+6*x,U=6*S-12*C+6*k,W=3*w-3*x,Y=3*C-3*k,j=2*q*F-2*H*L,K=[];if(Math.abs(j)<G.CURVETIME_EPSILON){var at=q*Y-H*W,j=q*U-H*D;if(j!=0){var ct=-at/j;ct>=0&&ct<=1&&K.push(ct)}}else{var _t=(D*D-4*q*W)*F*F+(-2*D*U+4*H*W+4*q*Y)*L*F+(U*U-4*H*Y)*L*L,vt=D*F-U*L;if(_t>=0&&j!=0){var et=Math.sqrt(_t),it=-(vt+et)/j,dt=(-vt+et)/j;it>=0&&it<=1&&K.push(it),dt>=0&&dt<=1&&K.push(dt)}}return K}return{getIntersections:function(p){var O=this.getValues(),x=p&&p!==this&&p.getValues();return x?_(O,x,this,p,[]):d(O,this,[])},statics:{getOverlaps:y,getIntersections:m,getCurveLineIntersections:h,getTimesWithTangent:v}}}),Ft=l.extend({_class:"CurveLocation",initialize:function(e,i,r,s,h){if(i>=.99999999){var c=e.getNext();c&&(i=0,e=c)}this._setCurve(e),this._time=i,this._point=r||e.getPointAtTime(i),this._overlap=s,this._distance=h,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();i===0?t=e._segment1:i===1?t=e._segment2:i!=null&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(r){var s=r&&r.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),i=this.getIndex();if(e&&i!=null)for(var r=e.getCurves(),s=0;s<i;s++)t+=r[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=i!=null&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof Ft){var r=this.getCurve(),s=t.getCurve(),h=r._path,c=s._path;if(h===c){var f=Math.abs,_=1e-7,d=f(this.getOffset()-t.getOffset()),m=!e&&this._intersection,y=!e&&t._intersection;i=(d<_||h&&f(h.getLength()-d)<_)&&(!m&&!y||m&&y&&m.equals(y,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=B.instance;e&&t.push("point: "+e);var r=this.getIndex();r!=null&&t.push("index: "+r);var s=this.getTime();return s!=null&&t.push("time: "+i.number(s)),this._distance!=null&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),r=1e-8,s=1-r,h=e>=r&&e<=s,c=i>=r&&i<=s;if(h&&c)return!this.isTouching();var f=this.getCurve(),_=f&&e<r?f.getPrevious():f,d=t.getCurve(),m=d&&i<r?d.getPrevious():d;if(e>s&&(f=f.getNext()),i>s&&(d=d.getNext()),!_||!f||!m||!d)return!1;var y=[];function v(L,F){var q=L.getValues(),H=ot.classify(q).roots||ot.getPeaks(q),D=H.length,U=ot.getLength(q,F&&D?H[D-1]:0,!F&&D?H[0]:1);y.push(D?U:U/32)}function p(L,F,q){return F<q?L>F&&L<q:L>F||L<q}h||(v(_,!0),v(f,!1)),c||(v(m,!0),v(d,!1));var O=this.getPoint(),x=Math.min.apply(Math,y),k=h?f.getTangentAtTime(e):f.getPointAt(x).subtract(O),w=h?k.negate():_.getPointAt(-x).subtract(O),C=c?d.getTangentAtTime(i):d.getPointAt(x).subtract(O),g=c?C.negate():m.getPointAt(-x).subtract(O),S=w.getAngle(),I=k.getAngle(),A=g.getAngle(),P=C.getAngle();return!!(h?p(S,A,P)^p(I,A,P)&&p(S,P,A)^p(I,P,A):p(A,S,I)^p(P,S,I)&&p(A,I,S)^p(P,I,S))},hasOverlap:function(){return!!this._overlap}},l.each(ot._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var i=this.getCurve(),r=this.getTime();return r!=null&&i&&i[e](r,!0)}},{preserve:!0}),new function(){function t(e,i,r){var s=e.length,h=0,c=s-1;function f(O,x){for(var k=O+x;k>=-1&&k<=s;k+=x){var w=e[(k%s+s)%s];if(!i.getPoint().isClose(w.getPoint(),1e-7))break;if(i.equals(w))return w}return null}for(;h<=c;){var _=h+c>>>1,d=e[_],m;if(r&&(m=i.equals(d)?d:f(_,-1)||f(_,1)))return i._overlap&&(m._overlap=m._intersection._overlap=!0),m;var y=i.getPath(),v=d.getPath(),p=y!==v?y._id-v._id:i.getIndex()+i.getTime()-(d.getIndex()+d.getTime());p<0?c=_-1:h=_+1}return e.splice(h,0,i),i}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),r=e.length-1;r>=0;r--)t(i,e[r]._intersection,!1);return i}}}}),le=rt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,r;if(l.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:typeof t=="string"&&(e=t),i){var s=i[0];r=s&&Array.isArray(s[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var h=r?ve:zt;return new h(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,r=!1,s,h,c=new M,f=new M;function _(g,S){var I=+i[g];return r&&(I+=c[S]),I}function d(g){return new M(_(g,"x"),_(g+1,"y"))}this.clear();for(var m=0,y=e&&e.length;m<y;m++){var v=e[m],p=v[0],O=p.toLowerCase();i=v.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var x=i&&i.length;switch(r=p===O,s==="z"&&!/[mz]/.test(O)&&this.moveTo(c),O){case"m":case"l":for(var k=O==="m",w=0;w<x;w+=2)this[k?"moveTo":"lineTo"](c=d(w)),k&&(f=c,k=!1);h=c;break;case"h":case"v":var C=O==="h"?"x":"y";c=c.clone();for(var w=0;w<x;w++)c[C]=_(w,C),this.lineTo(c);h=c;break;case"c":for(var w=0;w<x;w+=6)this.cubicCurveTo(d(w),h=d(w+2),c=d(w+4));break;case"s":for(var w=0;w<x;w+=4)this.cubicCurveTo(/[cs]/.test(s)?c.multiply(2).subtract(h):c,h=d(w),c=d(w+2)),s=O;break;case"q":for(var w=0;w<x;w+=4)this.quadraticCurveTo(h=d(w),c=d(w+2));break;case"t":for(var w=0;w<x;w+=2)this.quadraticCurveTo(h=/[qt]/.test(s)?c.multiply(2).subtract(h):c,c=d(w)),s=O;break;case"a":for(var w=0;w<x;w+=7)this.arcTo(c=d(w+5),new N(+i[w],+i[w+1]),+i[w+2],+i[w+4],+i[w+3]);break;case"z":this.closePath(1e-12),c=f;break}s=O}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,i,r){var s=this===t||!t,h=this._matrix._orNullIfIdentity(),c=s?h:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(h).intersects(t.getBounds(c),1e-12)?ot.getIntersections(this.getCurves(),!s&&t.getCurves(),e,h,c,r):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=M.read(arguments),e=this.getCurves(),i=1/0,r=null,s=0,h=e.length;s<h;s++){var c=e[s].getNearestLocation(t);c._distance<i&&(i=c._distance,r=c)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,i){var r=!this._children,s=r?"_segments":"_children",h=t[s],c=e[s],f=this[s];if(!h||!c||h.length!==c.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var _=f.length,d=c.length;if(_<d)for(var m=r?yt:zt,y=_;y<d;y++)this.add(new m);else _>d&&this[r?"removeSegments":"removeChildren"](d,_);for(var y=0;y<d;y++)f[y].interpolate(h[y],c[y],i);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],r=t._children?t._children.slice():[t],s=i.length,h=r.length,c=[],f=0;e=!0;for(var _=R.findItemBoundsCollisions(i,r,G.GEOMETRIC_EPSILON),d=s-1;d>=0&&e;d--){var m=i[d];e=!1;var y=_[d];if(y)for(var v=y.length-1;v>=0&&!e;v--)m.compare(r[y[v]])&&(c[y[v]]||(c[y[v]]=!0,f++),e=!0)}e=e&&f===h}return e}}),zt=le.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var i=arguments,r=Array.isArray(e)?typeof e[0]=="object"?e:i:e&&e.size===a&&(e.x!==a||e.point!==a)?i:null;r&&r.length>0?this.setSegments(r):(this._curves=a,this._segmentSelection=0,!r&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(t){return this._closed===t._closed&&l.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=a,e&32)this._version++;else if(this._curves)for(var i=0,r=this._curves.length;i<r;i++)this._curves[i]._changed()}else e&64&&(this._bounds=a)},getStyle:function(){var t=this._parent;return(t instanceof ve?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,i){var r=t[i-1];typeof r=="boolean"&&(this.setClosed(r),i--),this._add(yt.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var r=0;r<i;r++)t[r]=new ot(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new ot(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var i=this._segments,r=i.length,s=new B(e),h=new Array(6),c=!0,f,_,d,m,y,v,p,O,x=[];function k(C,g){if(C._transformCoordinates(t,h),f=h[0],_=h[1],c)x.push("M"+s.pair(f,_)),c=!1;else if(y=h[2],v=h[3],y===f&&v===_&&p===d&&O===m){if(!g){var S=f-d,I=_-m;x.push(S===0?"v"+s.number(I):I===0?"h"+s.number(S):"l"+s.pair(S,I))}}else x.push("c"+s.pair(p-d,O-m)+" "+s.pair(y-d,v-m)+" "+s.pair(f-d,_-m));d=f,m=_,p=h[4],O=h[5]}if(!r)return"";for(var w=0;w<r;w++)k(i[w]);return this._closed&&r>0&&(k(i[0],!0),x.push("z")),x.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),r=0,s=e.length;r<s;r++)e[r]._transformCoordinates(t,i,!0);return!0},_add:function(t,c){for(var i=this._segments,r=this._curves,s=t.length,h=c==null,c=h?i.length:c,f=0;f<s;f++){var _=t[f];_._path&&(_=t[f]=_.clone()),_._path=this,_._index=c+f,_._selection&&this._updateSelection(_,0,_._selection)}if(h)l.push(i,t);else{i.splice.apply(i,[c,0].concat(t));for(var f=c+s,d=i.length;f<d;f++)i[f]._index=f}if(r){var m=this._countCurves(),y=c>0&&c+s-1===m?c-1:c,v=y,p=Math.min(y+s,m);t._curves&&(r.splice.apply(r,[y,0].concat(t._curves)),v+=t._curves.length);for(var f=v;f<p;f++)r.splice(f,0,new ot(this,null,null));this._adjustCurves(y,p)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i=this._segments,r=this._curves,s,h=t;h<e;h++)s=r[h],s._path=this,s._segment1=i[h],s._segment2=i[h+1]||i[0],s._changed();(s=r[this._closed&&!t?i.length-1:t-1])&&(s._segment2=i[t]||i[0],s._changed()),(s=r[e])&&(s._segment1=i[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(yt.readList(e)):this._add([yt.read(e)])[0]},insert:function(t,e){var i=arguments;return i.length>2&&typeof e!="number"?this._add(yt.readList(i,1),t):this._add([yt.read(i,1)],t)[0]},addSegment:function(){return this._add([yt.read(arguments)])[0]},insertSegment:function(t){return this._add([yt.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(yt.readList(t))},insertSegments:function(t,e){return this._add(yt.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=l.pick(e,this._segments.length);var r=this._segments,s=this._curves,h=r.length,c=r.splice(t,e-t),f=c.length;if(!f)return c;for(var _=0;_<f;_++){var d=c[_];d._selection&&this._updateSelection(d,d._selection,0),d._index=d._path=null}for(var _=t,m=r.length;_<m;_++)r[_]._index=_;if(s){for(var y=t>0&&e===h+(this._closed?1:0)?t-1:t,s=s.splice(y,f),_=s.length-1;_>=0;_--)s[_]._path=null;i&&(c._curves=s.slice(1)),this._adjustCurves(y,y)}return this._changed(41),c},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,i=this._closed;t=0;for(var r=0,s=e.length;r<s;r++){var h=r+1===s;t+=ot.getArea(ot.getValues(e[r],e[h?0:r+1],null,h&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,r=t?7:0;this._segmentSelection=r*i;for(var s=0;s<i;s++)e[s]._selection=r},_updateSelection:function(t,e,i){t._selection=i;var r=this._segmentSelection+=i-e;r>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),i;return e&&(i=e.getCurve().divideAt(e.getCurveOffset()))?i._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,r=e&&e.time,s=1e-8,h=1-s;r>h&&(i++,r=0);var c=this.getCurves();if(i>=0&&i<c.length){r>=s&&c[i++].divideAtTime(r);var f=this.removeSegments(i,this._segments.length,!0),_;return this._closed?(this.setClosed(!1),_=this):(_=new zt(rt.NO_INSERT),_.insertAbove(this),_.copyAttributes(this)),_._add(f,0),this.addSegment(f[0]),_}return null},split:function(t,e){var i,r=e===a?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return r!=null?this.splitAt(r):null},join:function(t,e){var i=e||0;if(t&&t!==this){var r=t._segments,s=this.getLastSegment(),h=t.getLastSegment();if(!h)return this;s&&s._point.isClose(h._point,i)&&t.reverse();var c=t.getFirstSegment();if(s&&s._point.isClose(c._point,i))s.setHandleOut(c._handleOut),this._add(r.slice(1));else{var f=this.getFirstSegment();f&&f._point.isClose(c._point,i)&&t.reverse(),h=t.getLastSegment(),f&&f._point.isClose(h._point,i)?(f.setHandleIn(h._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var _=this.getFirstSegment(),d=this.getLastSegment();return _!==d&&_._point.isClose(d._point,i)&&(_.setHandleIn(d._handleIn),d.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,r=i?1e-7:0,s=e.length-1;s>=0;s--){var h=e[s];!h.hasHandles()&&(!h.hasLength(r)||i&&h.isCollinear(h.getNext()))&&h.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],r=i._handleIn;i._handleIn=i._handleOut,i._handleOut=r,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new oi(this,t||.25,256,!0),i=e.parts,r=i.length,s=[],h=0;h<r;h++)s.push(new yt(i[h].curve.slice(0,2)));!this._closed&&r>0&&s.push(new yt(i[r-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new ei(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,i=t||{},r=i.type||"asymmetric",s=this._segments,h=s.length,c=this._closed;function f(mt,xt){var bt=mt&&mt.index;if(bt!=null){var Pt=mt.path;if(Pt&&Pt!==e)throw new Error(mt._class+" "+bt+" of "+Pt+" is not part of "+e);xt&&mt instanceof ot&&bt++}else bt=typeof mt=="number"?mt:xt;return Math.min(bt<0&&c?bt%h:bt<0?bt+h:bt,h-1)}var _=c&&i.from===a&&i.to===a,d=f(i.from,0),m=f(i.to,h-1);if(d>m)if(c)d-=h;else{var y=d;d=m,m=y}if(/^(?:asymmetric|continuous)$/.test(r)){var v=r==="asymmetric",p=Math.min,O=m-d+1,x=O-1,k=_?p(O,4):1,w=k,C=k,g=[];if(c||(w=p(1,d),C=p(1,h-m-1)),x+=w+C,x<=1)return;for(var S=0,I=d-w;S<=x;S++,I++)g[S]=s[(I<0?I+h:I)%h]._point;for(var A=g[0]._x+2*g[1]._x,P=g[0]._y+2*g[1]._y,L=2,F=x-1,q=[A],H=[P],D=[L],U=[],W=[],S=1;S<x;S++){var Y=S<F,j=Y||v?1:2,K=Y?4:v?2:7,at=Y?4:v?3:8,ct=Y?2:v?0:1,_t=j/L;L=D[S]=K-_t,A=q[S]=at*g[S]._x+ct*g[S+1]._x-_t*A,P=H[S]=at*g[S]._y+ct*g[S+1]._y-_t*P}U[F]=q[F]/D[F],W[F]=H[F]/D[F];for(var S=x-2;S>=0;S--)U[S]=(q[S]-U[S+1])/D[S],W[S]=(H[S]-W[S+1])/D[S];U[x]=(3*g[x]._x-U[F])/2,W[x]=(3*g[x]._y-W[F])/2;for(var S=w,vt=x-C,I=d;S<=vt;S++,I++){var et=s[I<0?I+h:I],it=et._point,dt=U[S]-it._x,wt=W[S]-it._y;(_||S<vt)&&et.setHandleOut(dt,wt),(_||S>w)&&et.setHandleIn(-dt,-wt)}}else for(var S=d;S<=m;S++)s[S<0?S+h:S].smooth(i,!_&&S===d,!_&&S===m)},toShape:function(t){if(!this._closed)return null;var e=this._segments,i,r,s,h;function c(v,p){var O=e[v],x=O.getNext(),k=e[p],w=k.getNext();return O._handleOut.isZero()&&x._handleIn.isZero()&&k._handleOut.isZero()&&w._handleIn.isZero()&&x._point.subtract(O._point).isCollinear(w._point.subtract(k._point))}function f(v){var p=e[v],O=p.getPrevious(),x=p.getNext();return O._handleOut.isZero()&&p._handleIn.isZero()&&p._handleOut.isZero()&&x._handleIn.isZero()&&p._point.subtract(O._point).isOrthogonal(x._point.subtract(p._point))}function _(v){var p=e[v],O=p.getNext(),x=p._handleOut,k=O._handleIn,w=.5522847498307936;if(x.isOrthogonal(k)){var C=p._point,g=O._point,S=new ht(C,x,!0).intersect(new ht(g,k,!0),!0);return S&&G.isZero(x.getLength()/S.subtract(C).getLength()-w)&&G.isZero(k.getLength()/S.subtract(g).getLength()-w)}return!1}function d(v,p){return e[v]._point.getDistance(e[p]._point)}if(!this.hasHandles()&&e.length===4&&c(0,2)&&c(1,3)&&f(1)?(i=ft.Rectangle,r=new N(d(0,3),d(0,1)),h=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&_(0)&&_(2)&&_(4)&&_(6)&&c(1,5)&&c(3,7)?(i=ft.Rectangle,r=new N(d(1,6),d(0,3)),s=r.subtract(new N(d(0,7),d(1,2))).divide(2),h=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&_(0)&&_(1)&&_(2)&&_(3)&&(G.isZero(d(0,2)-d(1,3))?(i=ft.Circle,s=d(0,2)/2):(i=ft.Ellipse,s=new N(d(2,0)/2,d(3,1)/2)),h=e[1]._point),i){var m=this.getPosition(!0),y=new i({center:m,size:r,radius:s,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(h.subtract(m).getAngle()+90),(t===a||t)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof ve)return t.base.call(this,e);var i=this.getCurves(),r=e.getCurves(),s=i.length,h=r.length;if(!s||!h)return s==h;for(var c=i[0].getValues(),f=[],_=0,d,m=0,y,v=0;v<h;v++){var k=r[v].getValues();f.push(k);var p=ot.getOverlaps(c,k);if(p){d=!v&&p[0][0]>0?h-1:v,y=p[0][1];break}}for(var O=Math.abs,x=1e-8,k=f[d],w;c&&k;){var p=ot.getOverlaps(c,k);if(p){var C=p[0][0];if(O(C-m)<x){m=p[1][0],m===1&&(c=++_<s?i[_].getValues():null,m=0);var g=p[0][1];if(O(g-y)<x){if(w||(w=[d,g]),y=p[1][1],y===1&&(++d>=h&&(d=0),k=f[d]||r[d].getValues(),y=0),!c)return w[0]===d&&w[1]===y;continue}}}break}return!1},_hitTestSelf:function(t,e,i,r){var s=this,h=this.getStyle(),c=this._segments,f=c.length,_=this._closed,d=e._tolerancePadding,m=d,y,v,p,O,x,k,w=e.stroke&&h.hasStroke(),C=e.fill&&h.hasFill(),g=e.curves,S=w?h.getStrokeWidth()/2:C&&e.tolerance>0||g?0:null;S!==null&&(S>0?(y=h.getStrokeJoin(),v=h.getStrokeCap(),p=h.getMiterLimit(),m=m.add(zt._getStrokePadding(S,r))):y=v="round");function I(U,W){return t.subtract(U).divide(W).length<=1}function A(U,W,Y){if(!e.selected||W.isSelected()){var j=U._point;if(W!==j&&(W=W.add(j)),I(W,m))return new Et(Y,s,{segment:U,point:W})}}function P(U,W){return(W||e.segments)&&A(U,U._point,"segment")||!W&&e.handles&&(A(U,U._handleIn,"handle-in")||A(U,U._handleOut,"handle-out"))}function L(U){O.add(U)}function F(U){var W=_||U._index>0&&U._index<f-1;if((W?y:v)==="round")return I(U._point,m);if(O=new zt({internal:!0,closed:!0}),W?U.isSmooth()||zt._addBevelJoin(U,y,S,p,null,r,L,!0):v==="square"&&zt._addSquareCap(U,v,S,null,r,L,!0),!O.isEmpty()){var Y;return O.contains(t)||(Y=O.getNearestLocation(t))&&I(Y.getPoint(),d)}}if(e.ends&&!e.segments&&!_){if(k=P(c[0],!0)||P(c[f-1],!0))return k}else if(e.segments||e.handles){for(var q=0;q<f;q++)if(k=P(c[q]))return k}if(S!==null){if(x=this.getNearestLocation(t),x){var H=x.getTime();H===0||H===1&&f>1?F(x.getSegment())||(x=null):I(x.getPoint(),m)||(x=null)}if(!x&&y==="miter"&&f>1)for(var q=0;q<f;q++){var D=c[q];if(t.getDistance(D._point)<=p*S&&F(D)){x=D.getLocation();break}}}return!x&&C&&this._contains(t)||x&&!w&&!g?new Et("fill",this):x?new Et(w?"stroke":"curve",this,{location:x,point:x.getPoint()}):null}},l.each(ot._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=M.read(arguments),e=this.getCurves(),i=0,r=e.length;i<r;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),i=0,r=0,s=e.length;r<s;r++){var h=i,c=e[r];if(i+=c.getLength(),i>t)return c.getLocationAt(t-h)}if(e.length>0&&t<=this.getLength())return new Ft(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=M.read(arguments);if(t.isZero())return[];for(var e=[],i=0,r=this.getCurves(),s=0,h=r.length;s<h;s++){for(var c=r[s],f=c.getTimesWithTangent(t),_=0,d=f.length;_<d;_++){var m=i+c.getOffsetAtTime(f[_]);e.indexOf(m)<0&&e.push(m)}i+=c.length}return e}}),new function(){function t(i,r,s,h){if(h<=0)return;var c=h/2,f=h-2,_=c-1,d=new Array(6),m,y;function v(C){var g=d[C],S=d[C+1];(m!=g||y!=S)&&(i.beginPath(),i.moveTo(m,y),i.lineTo(g,S),i.stroke(),i.beginPath(),i.arc(g,S,c,0,Math.PI*2,!0),i.fill())}for(var p=0,O=r.length;p<O;p++){var x=r[p],k=x._selection;if(x._transformCoordinates(s,d),m=d[0],y=d[1],k&2&&v(2),k&4&&v(4),i.fillRect(m-c,y-c,h,h),f>0&&!(k&1)){var w=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(m-_,y-_,f,f),i.fillStyle=w}}}function e(i,r,s){var h=r._segments,c=h.length,f=new Array(6),_=!0,d,m,y,v,p,O,x,k;function w(g){if(s)g._transformCoordinates(s,f),d=f[0],m=f[1];else{var S=g._point;d=S._x,m=S._y}if(_)i.moveTo(d,m),_=!1;else{if(s)p=f[2],O=f[3];else{var I=g._handleIn;p=d+I._x,O=m+I._y}p===d&&O===m&&x===y&&k===v?i.lineTo(d,m):i.bezierCurveTo(x,k,p,O,d,m)}if(y=d,v=m,s)x=f[4],k=f[5];else{var I=g._handleOut;x=y+I._x,k=v+I._y}}for(var C=0;C<c;C++)w(h[C]);r._closed&&c>0&&w(h[0])}return{_draw:function(i,r,s,h){var c=r.dontStart,f=r.dontFinish||r.clip,_=this.getStyle(),d=_.hasFill(),m=_.hasStroke(),y=_.getDashArray(),v=!At.support.nativeDash&&m&&y&&y.length;c||i.beginPath(),(d||m&&!v||f)&&(e(i,this,h),this._closed&&i.closePath());function p(g){return y[(g%v+v)%v]}if(!f&&(d||m)&&(this._setStyles(i,r,s),d&&(i.fill(_.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),m)){if(v){c||i.beginPath();for(var O=new oi(this,.25,32,!1,h),x=O.length,k=-_.getDashOffset(),w,C=0;k>0;)k-=p(C--)+p(C--);for(;k<x;)w=k+p(C++),(k>0||w>0)&&O.drawPart(i,Math.max(k,0),Math.max(w,0)),k=w+p(C++)}i.stroke()}},_drawSelected:function(i,r){i.beginPath(),e(i,this,r),i.stroke(),t(i,this._segments,r,At.settings.handleSize)}}},new function(){function t(e){var i=e._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new yt(M.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new yt(M.read(arguments))])},cubicCurveTo:function(){var e=arguments,i=M.read(e),r=M.read(e),s=M.read(e),h=t(this);h.setHandleOut(i.subtract(h._point)),this._add([new yt(s,r.subtract(s))])},quadraticCurveTo:function(){var e=arguments,i=M.read(e),r=M.read(e),s=t(this)._point;this.cubicCurveTo(i.add(s.subtract(i).multiply(1/3)),i.add(r.subtract(i).multiply(1/3)),r)},curveTo:function(){var e=arguments,i=M.read(e),r=M.read(e),s=l.pick(l.read(e),.5),h=1-s,c=t(this)._point,f=i.subtract(c.multiply(h*h)).subtract(r.multiply(s*s)).divide(2*s*h);if(f.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(f,r)},arcTo:function(){var e=arguments,i=Math.abs,r=Math.sqrt,s=t(this),h=s._point,c=M.read(e),f,_=l.peek(e),d=l.pick(_,!0),m,y,v,p;if(typeof d=="boolean")var O=h.add(c).divide(2),f=O.add(O.subtract(h).rotate(d?-90:90));else if(l.remain(e)<=2)f=c,c=M.read(e);else if(!h.equals(c)){var x=N.read(e),k=G.isZero;if(k(x.width)||k(x.height))return this.lineTo(c);var w=l.read(e),d=!!l.read(e),C=!!l.read(e),O=h.add(c).divide(2),g=h.subtract(O).rotate(-w),S=g.x,I=g.y,A=i(x.width),P=i(x.height),L=A*A,F=P*P,q=S*S,H=I*I,D=r(q/L+H/F);if(D>1&&(A*=D,P*=D,L=A*A,F=P*P),D=(L*F-L*H-F*q)/(L*H+F*q),i(D)<1e-12&&(D=0),D<0)throw new Error("Cannot create an arc with the given arguments");m=new M(A*I/P,-P*S/A).multiply((C===d?-1:1)*r(D)).rotate(w).add(O),p=new st().translate(m).rotate(w).scale(A,P),v=p._inverseTransform(h),y=v.getDirectedAngle(p._inverseTransform(c)),!d&&y>0?y-=360:d&&y<0&&(y+=360)}if(f){var U=new ht(h.add(f).divide(2),f.subtract(h).rotate(90),!0),W=new ht(f.add(c).divide(2),c.subtract(f).rotate(90),!0),Y=new ht(h,c),j=Y.getSide(f);if(m=U.intersect(W,!0),!m){if(!j)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments")}v=h.subtract(m),y=v.getDirectedAngle(c.subtract(m));var K=Y.getSide(m,!0);K===0?y=j*i(y):j===K&&(y+=y<0?360:-360)}if(y){for(var at=1e-5,ct=i(y),_t=ct>=360?4:Math.ceil((ct-at)/90),vt=y/_t,et=vt*Math.PI/360,it=4/3*Math.sin(et)/(1+Math.cos(et)),dt=[],wt=0;wt<=_t;wt++){var g=c,mt=null;if(wt<_t&&(mt=v.rotate(90).multiply(it),p?(g=p._transformPoint(v),mt=p._transformPoint(v.add(mt)).subtract(g)):g=m.add(v)),!wt)s.setHandleOut(mt);else{var xt=v.rotate(-90).multiply(it);p&&(xt=p._transformPoint(v.add(xt)).subtract(g)),dt.push(new yt(g,xt,mt))}v=v.rotate(vt)}this._add(dt)}},lineBy:function(){var e=M.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=arguments,i=M.read(e),r=M.read(e),s=l.read(e),h=t(this)._point;this.curveTo(h.add(i),h.add(r),s)},cubicCurveBy:function(){var e=arguments,i=M.read(e),r=M.read(e),s=M.read(e),h=t(this)._point;this.cubicCurveTo(h.add(i),h.add(r),h.add(s))},quadraticCurveBy:function(){var e=arguments,i=M.read(e),r=M.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(i),s.add(r))},arcBy:function(){var e=arguments,i=t(this)._point,r=i.add(M.read(e)),s=l.pick(l.peek(e),!0);typeof s=="boolean"?this.arcTo(r,s):this.arcTo(r,i.add(M.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return zt[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,r,s,h){var c=t[0];if(!c)return new Q;var f=new Array(6),_=c._transformCoordinates(r,new Array(6)),d=_.slice(0,2),m=d.slice(),y=new Array(2);function v(x){x._transformCoordinates(r,f);for(var k=0;k<2;k++)ot._addBounds(_[k],_[k+4],f[k+2],f[k],k,h?h[k]:0,d,m,y);var w=_;_=f,f=w}for(var p=1,O=t.length;p<O;p++)v(t[p]);return e&&v(c),new Q(d[0],d[1],m[0]-d[0],m[1]-d[1])},getStrokeBounds:function(t,e,i,r,s){var h=i.getStyle(),c=h.hasStroke(),f=h.getStrokeWidth(),_=c&&i._getStrokeMatrix(r,s),d=c&&zt._getStrokePadding(f,_),m=zt.getBounds(t,e,i,r,s,d);if(!c)return m;var y=f/2,v=h.getStrokeJoin(),p=h.getStrokeCap(),O=h.getMiterLimit(),x=new Q(new N(d));function k(A){m=m.include(A)}function w(A){m=m.unite(x.setCenter(A._point.transform(r)))}function C(A,P){P==="round"||A.isSmooth()?w(A):zt._addBevelJoin(A,P,y,O,r,_,k)}function g(A,P){P==="round"?w(A):zt._addSquareCap(A,P,y,r,_,k)}var S=t.length-(e?0:1);if(S>0){for(var I=1;I<S;I++)C(t[I],v);e?C(t[0],v):(g(t[0],p),g(t[t.length-1],p))}return m},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new M(t,0).transform(e),r=new M(0,t).transform(e),s=i.getAngleInRadians(),h=i.getLength(),c=r.getLength(),f=Math.sin(s),_=Math.cos(s),d=Math.tan(s),m=Math.atan2(c*d,h),y=Math.atan2(c,d*h);return[Math.abs(h*Math.cos(m)*_+c*Math.sin(m)*f),Math.abs(c*Math.sin(y)*_+h*Math.cos(y)*f)]},_addBevelJoin:function(t,e,i,r,s,h,c,f){var _=t.getCurve(),d=_.getPrevious(),m=_.getPoint1().transform(s),y=d.getNormalAtTime(1).multiply(i).transform(h),v=_.getNormalAtTime(0).multiply(i).transform(h),p=y.getDirectedAngle(v);if((p<0||p>=180)&&(y=y.negate(),v=v.negate()),f&&c(m),c(m.add(y)),e==="miter"){var O=new ht(m.add(y),new M(-y.y,y.x),!0).intersect(new ht(m.add(v),new M(-v.y,v.x),!0),!0);O&&m.getDistance(O)<=r*i&&c(O)}c(m.add(v))},_addSquareCap:function(t,e,i,r,s,h,c){var f=t._point.transform(r),_=t.getLocation(),d=_.getNormal().multiply(_.getTime()===0?i:-i).transform(s);e==="square"&&(c&&(h(f.subtract(d)),h(f.add(d))),f=f.add(d.rotate(-90))),h(f.add(d)),h(f.subtract(d))},getHandleBounds:function(t,e,i,r,s){var h=i.getStyle(),c=s.stroke&&h.hasStroke(),f,_;if(c){var d=i._getStrokeMatrix(r,s),m=h.getStrokeWidth()/2,y=m;h.getStrokeJoin()==="miter"&&(y=m*h.getMiterLimit()),h.getStrokeCap()==="square"&&(y=Math.max(y,m*Math.SQRT2)),f=zt._getStrokePadding(m,d),_=zt._getStrokePadding(y,d)}for(var v=new Array(6),p=1/0,O=-p,x=p,k=O,w=0,C=t.length;w<C;w++){var g=t[w];g._transformCoordinates(r,v);for(var S=0;S<6;S+=2){var I=S?f:_,A=I?I[0]:0,P=I?I[1]:0,L=v[S],F=v[S+1],q=L-A,H=L+A,D=F-P,U=F+P;q<p&&(p=q),H>O&&(O=H),D<x&&(x=D),U>k&&(k=U)}}return new Q(p,x,O-p,k-x)}}});zt.inject({statics:new function(){var t=.5522847498307936,e=[new yt([-1,0],[0,t],[0,-t]),new yt([0,-1],[-t,0],[t,0]),new yt([1,0],[0,-t],[0,t]),new yt([0,1],[t,0],[-t,0])];function i(s,h,c){var f=l.getNamed(c),_=new zt(f&&(f.insert==!0?rt.INSERT:f.insert==!1?rt.NO_INSERT:null));return _._add(s),_._closed=h,_.set(f,rt.INSERT)}function r(s,h,c){for(var f=new Array(4),_=0;_<4;_++){var d=e[_];f[_]=new yt(d._point.multiply(h).add(s),d._handleIn.multiply(h),d._handleOut.multiply(h))}return i(f,!0,c)}return{Line:function(){var s=arguments;return i([new yt(M.readNamed(s,"from")),new yt(M.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,h=M.readNamed(s,"center"),c=l.readNamed(s,"radius");return r(h,new N(c),s)},Rectangle:function(){var s=arguments,h=Q.readNamed(s,"rectangle"),c=N.readNamed(s,"radius",0,{readNull:!0}),f=h.getBottomLeft(!0),_=h.getTopLeft(!0),d=h.getTopRight(!0),m=h.getBottomRight(!0),y;if(!c||c.isZero())y=[new yt(f),new yt(_),new yt(d),new yt(m)];else{c=N.min(c,h.getSize(!0).divide(2));var v=c.width,p=c.height,O=v*t,x=p*t;y=[new yt(f.add(v,0),null,[-O,0]),new yt(f.subtract(0,p),[0,x]),new yt(_.add(0,p),null,[0,-x]),new yt(_.add(v,0),[-O,0],null),new yt(d.subtract(v,0),null,[O,0]),new yt(d.add(0,p),[0,-x],null),new yt(m.subtract(0,p),null,[0,x]),new yt(m.subtract(v,0),[O,0])]}return i(y,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,h=ft._readEllipse(s);return r(h.center,h.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,h=M.readNamed(s,"from"),c=M.readNamed(s,"through"),f=M.readNamed(s,"to"),_=l.getNamed(s),d=new zt(_&&_.insert==!1&&rt.NO_INSERT);return d.moveTo(h),d.arcTo(c,f),d.set(_)},RegularPolygon:function(){for(var s=arguments,h=M.readNamed(s,"center"),c=l.readNamed(s,"sides"),f=l.readNamed(s,"radius"),_=360/c,d=c%3===0,m=new M(0,d?-f:f),y=d?-1:.5,v=new Array(c),p=0;p<c;p++)v[p]=new yt(h.add(m.rotate((p+y)*_)));return i(v,!0,s)},Star:function(){for(var s=arguments,h=M.readNamed(s,"center"),c=l.readNamed(s,"points")*2,f=l.readNamed(s,"radius1"),_=l.readNamed(s,"radius2"),d=360/c,m=new M(0,-1),y=new Array(c),v=0;v<c;v++)y[v]=new yt(h.add(m.rotate(d*v).multiply(v%2?_:f)));return i(y,!0,s)}}}});var ve=le.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,i){var r=i,s=r[0];s&&typeof s[0]=="number"&&(r=[r]);for(var h=i.length-1;h>=0;h--){var c=r[h];r===i&&!(c instanceof zt)&&(r=l.slice(r)),Array.isArray(c)?r[h]=new zt({segments:c,insert:!1}):c instanceof ve&&(r.splice.apply(r,[h,1].concat(c.removeChildren())),c.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var i=this._children,r=i.length-1;r>=0;r--){var s=i[r].reduce(e);s.isEmpty()&&s.remove()}if(!i.length){var s=new zt(rt.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,r=t.length;i<r;i++)l.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,r=[],s=0,h=i.length;s<h;s++){var c=i[s],f=c._matrix;r.push(c.getPathData(t&&!f.isIdentity()?t.appended(f):t,e))}return r.join("")},_hitTestChildren:function t(e,i,r){return t.base.call(this,e,i.class===zt||i.type==="path"?i:l.set({},i,{fill:!1}),r)},_draw:function(t,e,i,r){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var h=0,c=s.length;h<c;h++)s[h].draw(t,e,r);if(!e.clip){this._setStyles(t,e,i);var f=this._style;f.hasFill()&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),f.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var r=this._children,s=0,h=r.length;s<h;s++){var c=r[s],f=c._matrix;i[c._id]||c._drawSelected(t,f.isIdentity()?e:e.appended(f))}}},new function(){function t(e,i){var r=e._children;if(i&&!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return l.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new zt(rt.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),r=M.read(arguments);this.moveTo(i?r.add(i._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},l.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i=this._children,r,s=0,h=i.length;s<h;s++)r=i[s][t](e)||r;return r}},{}));le.inject(new function(){var t=Math.min,e=Math.max,i=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(w){return w._children||[w]}function h(w,C){var g=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(C){for(var S=s(g),I=0,A=S.length;I<A;I++){var w=S[I];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}g=g.resolveCrossings().reorient(g.getFillRule()==="nonzero",!0)}return g}function c(w,C,g,S,I){var A=new ve(rt.NO_INSERT);return A.addChildren(w,!0),A=A.reduce({simplify:C}),I&&I.insert==!1||A.insertAbove(S&&g.isSibling(S)&&g.getIndex()<S.getIndex()?S:g),A.copyAttributes(g,!0),A}function f(w){return w.hasOverlap()||w.isCrossing()}function _(w,C,g,S){if(S&&(S.trace==!1||S.stroke)&&/^(subtract|intersect)$/.test(g))return d(w,C,g);var I=h(w,!0),A=C&&w!==C&&h(C,!0),P=r[g];P[g]=!0,A&&(P.subtract||P.exclude)^(A.isClockwise()^I.isClockwise())&&A.reverse();var L=p(Ft.expand(I.getIntersections(A,f))),F=s(I),q=A&&s(A),H=[],D=[],U;function W(mt){for(var xt=0,bt=mt.length;xt<bt;xt++){var Pt=mt[xt];l.push(H,Pt._segments),l.push(D,Pt.getCurves()),Pt._overlapsOnly=!0}}function Y(mt){for(var xt=[],bt=0,Pt=mt&&mt.length;bt<Pt;bt++)xt.push(D[mt[bt]]);return xt}if(L.length){W(F),q&&W(q);for(var j=new Array(D.length),K=0,at=D.length;K<at;K++)j[K]=D[K].getValues();for(var ct=R.findCurveBoundsCollisions(j,j,0,!0),_t={},K=0;K<D.length;K++){var vt=D[K],et=vt._path._id,it=_t[et]=_t[et]||{};it[vt.getIndex()]={hor:Y(ct[K].hor),ver:Y(ct[K].ver)}}for(var K=0,at=L.length;K<at;K++)x(L[K]._segment,I,A,_t,P);for(var K=0,at=H.length;K<at;K++){var dt=H[K],wt=dt._intersection;dt._winding||x(dt,I,A,_t,P),wt&&wt._overlap||(dt._path._overlapsOnly=!1)}U=k(H,P)}else U=v(q?F.concat(q):F.slice(),function(mt){return!!P[mt]});return c(U,!0,w,C,S)}function d(w,C,g){var S=h(w),I=h(C),A=S.getIntersections(I,f),P=g==="subtract",L=g==="divide",F={},q=[];function H(W){if(!F[W._id]&&(L||I.contains(W.getPointAt(W.getLength()/2))^P))return q.unshift(W),F[W._id]=!0}for(var D=A.length-1;D>=0;D--){var U=A[D].split();U&&(H(U)&&U.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return H(S),c(q,!1,w,C)}function m(w,C){for(var g=w;g;){if(g===C)return;g=g._previous}for(;w._next&&w._next!==C;)w=w._next;if(!w._next){for(;C._previous;)C=C._previous;w._next=C,C._previous=w}}function y(w){for(var C=w.length-1;C>=0;C--)w[C].clearHandles()}function v(w,C,g){var S=w&&w.length;if(S){var I=l.each(w,function(ct,_t){this[ct._id]={container:null,winding:ct.isClockwise()?1:-1,index:_t}},{}),A=w.slice().sort(function(ct,_t){return i(_t.getArea())-i(ct.getArea())}),P=A[0],L=R.findItemBoundsCollisions(A,null,G.GEOMETRIC_EPSILON);g==null&&(g=P.isClockwise());for(var F=0;F<S;F++){var q=A[F],H=I[q._id],D=0,U=L[F];if(U){for(var W=null,Y=U.length-1;Y>=0;Y--)if(U[Y]<F){W=W||q.getInteriorPoint();var j=A[U[Y]];if(j.contains(W)){var K=I[j._id];D=K.winding,H.winding+=D,H.container=K.exclude?K.container:j;break}}}if(C(H.winding)===C(D))H.exclude=!0,w[H.index]=null;else{var at=H.container;q.setClockwise(at?!at.isClockwise():g)}}}return w}function p(w,C,g){var S=C&&[],I=1e-8,A=1-I,P=!1,L=g||[],F=g&&{},q,H,D;function U(xt){return xt._path._id+"."+xt._segment1._index}for(var W=(g&&g.length)-1;W>=0;W--){var Y=g[W];Y._path&&(F[U(Y)]=!0)}for(var W=w.length-1;W>=0;W--){var j=w[W],K=j._time,at=K,ct=C&&!C(j),Y=j._curve,_t;if(Y&&(Y!==H?(P=!Y.hasHandles()||F&&F[U(Y)],q=[],D=null,H=Y):D>=I&&(K/=D)),ct){q&&q.push(j);continue}else C&&S.unshift(j);if(D=at,K<I)_t=Y._segment1;else if(K>A)_t=Y._segment2;else{var vt=Y.divideAtTime(K,!0);P&&L.push(Y,vt),_t=vt._segment1;for(var et=q.length-1;et>=0;et--){var it=q[et];it._time=(it._time-K)/(1-K)}}j._setSegment(_t);var dt=_t._intersection,wt=j._intersection;if(dt){m(dt,wt);for(var mt=dt;mt;)m(mt._intersection,dt),mt=mt._next}else _t._intersection=wt}return g||y(L),S||w}function O(w,C,g,S,I){var A=Array.isArray(C)?C:C[g?"hor":"ver"],P=g?1:0,L=P^1,F=[w.x,w.y],q=F[P],H=F[L],D=1e-9,U=1e-6,W=q-D,Y=q+D,j=0,K=0,at=0,ct=0,_t=!1,vt=!1,et=1,it=[],dt,wt;function mt(Nt){var te=Nt[L+0],xe=Nt[L+6];if(!(H<t(te,xe)||H>e(te,xe))){var he=Nt[P+0],De=Nt[P+2],hi=Nt[P+4],Ve=Nt[P+6];if(te===xe){(he<Y&&Ve>W||Ve<Y&&he>W)&&(_t=!0);return}var Ue=H===te?0:H===xe||W>e(he,De,hi,Ve)||Y<t(he,De,hi,Ve)?1:ot.solveCubic(Nt,L,H,it,0,1)>0?it[0]:1,Se=Ue===0?he:Ue===1?Ve:ot.getPoint(Nt,Ue)[g?"y":"x"],Ie=te>xe?1:-1,li=dt[L]>dt[L+6]?1:-1,He=dt[P+6];return H!==te?(Se<W?at+=Ie:Se>Y?ct+=Ie:_t=!0,Se>q-U&&Se<q+U&&(et/=2)):(Ie!==li?he<W?at+=Ie:he>Y&&(ct+=Ie):he!=He&&(He<Y&&Se>Y?(ct+=Ie,_t=!0):He>W&&Se<W&&(at+=Ie,_t=!0)),et/=4),dt=Nt,!I&&Se>W&&Se<Y&&ot.getTangent(Nt,Ue)[g?"x":"y"]===0&&O(w,C,!g,S,!0)}}function xt(Nt){var te=Nt[L+0],xe=Nt[L+2],he=Nt[L+4],De=Nt[L+6];if(H<=e(te,xe,he,De)&&H>=t(te,xe,he,De)){for(var hi=Nt[P+0],Ve=Nt[P+2],Ue=Nt[P+4],Se=Nt[P+6],Ie=W>e(hi,Ve,Ue,Se)||Y<t(hi,Ve,Ue,Se)?[Nt]:ot.getMonoCurves(Nt,g),li,He=0,Sn=Ie.length;He<Sn;He++)if(li=mt(Ie[He]))return li}}for(var bt=0,Pt=A.length;bt<Pt;bt++){var kt=A[bt],Tt=kt._path,ue=kt.getValues(),oe;if((!bt||A[bt-1]._path!==Tt)&&(dt=null,Tt._closed||(wt=ot.getValues(Tt.getLastCurve().getSegment2(),kt.getSegment1(),null,!S),wt[L]!==wt[L+6]&&(dt=wt)),!dt)){dt=ue;for(var de=Tt.getLastCurve();de&&de!==kt;){var $t=de.getValues();if($t[L]!==$t[L+6]){dt=$t;break}de=de.getPrevious()}}if(oe=xt(ue))return oe;if(bt+1===Pt||A[bt+1]._path!==Tt){if(wt&&(oe=xt(wt)))return oe;_t&&!at&&!ct&&(at=ct=Tt.isClockwise(S)^g?1:-1),j+=at,K+=ct,at=ct=0,_t&&(vt=!0,_t=!1),wt=null}}return j=i(j),K=i(K),{winding:e(j,K),windingL:j,windingR:K,quality:et,onPath:vt}}function x(w,C,g,S,I){var A=[],P=w,L=0,D;do{var F=w.getCurve();if(F){var q=F.getLength();A.push({segment:w,curve:F,length:q}),L+=q}w=w.getNext()}while(w&&!w._intersection&&w!==P);for(var H=[.5,.25,.75],D={winding:0,quality:-1},U=.001,W=1-U,Y=0;Y<H.length&&D.quality<.5;Y++)for(var q=L*H[Y],j=0,K=A.length;j<K;j++){var at=A[j],ct=at.length;if(q<=ct){var F=at.curve,_t=F._path,vt=_t._parent,et=vt instanceof ve?vt:_t,it=G.clamp(F.getTimeAt(q),U,W),dt=F.getPointAtTime(it),wt=i(F.getTangentAtTime(it).y)<Math.SQRT1_2,mt=null;if(I.subtract&&g){var xt=et===C?g:C,bt=xt._getWinding(dt,wt,!0);if(et===C&&bt.winding||et===g&&!bt.winding){if(bt.quality<1)continue;mt={winding:0,quality:1}}}mt=mt||O(dt,S[_t._id][F.getIndex()],wt,!0),mt.quality>D.quality&&(D=mt);break}q-=ct}for(var j=A.length-1;j>=0;j--)A[j].segment._winding=D}function k(w,C){var g=[],S;function I(Pt){var kt;return!!(Pt&&!Pt._visited&&(!C||C[(kt=Pt._winding||{}).winding]&&!(C.unite&&kt.winding===2&&kt.windingL&&kt.windingR)))}function A(Pt){if(Pt){for(var kt=0,Tt=S.length;kt<Tt;kt++)if(Pt===S[kt])return!0}return!1}function P(Pt){for(var kt=Pt._segments,Tt=0,ue=kt.length;Tt<ue;Tt++)kt[Tt]._visited=!0}function L(Pt,kt){var Tt=Pt._intersection,ue=Tt,oe=[];kt&&(S=[Pt]);function de($t,Nt){for(;$t&&$t!==Nt;){var te=$t._segment,xe=te&&te._path;if(xe){var he=te.getNext()||xe.getFirstSegment(),De=he._intersection;te!==Pt&&(A(te)||A(he)||he&&I(te)&&(I(he)||De&&I(De._segment)))&&oe.push(te),kt&&S.push(te)}$t=$t._next}}if(Tt){for(de(Tt);Tt&&Tt._previous;)Tt=Tt._previous;de(Tt,ue)}return oe}w.sort(function(Pt,kt){var Tt=Pt._intersection,ue=kt._intersection,oe=!!(Tt&&Tt._overlap),de=!!(ue&&ue._overlap),$t=Pt._path,Nt=kt._path;return oe^de?oe?1:-1:!Tt^!ue?Tt?1:-1:$t!==Nt?$t._id-Nt._id:Pt._index-kt._index});for(var F=0,q=w.length;F<q;F++){var H=w[F],D=I(H),U=null,W=!1,Y=!0,j=[],K,at,ct;if(D&&H._path._overlapsOnly){var _t=H._path,vt=H._intersection._segment._path;_t.compare(vt)&&(_t.getArea()&&g.push(_t.clone(!1)),P(_t),P(vt),D=!1)}for(;D;){var et=!U,it=L(H,et),dt=it.shift(),W=!et&&(A(H)||A(dt)),wt=!W&&dt;if(et&&(U=new zt(rt.NO_INSERT),K=null),W){(H.isFirst()||H.isLast())&&(Y=H._path._closed),H._visited=!0;break}if(wt&&K&&(j.push(K),K=null),K||(wt&&it.push(H),K={start:U._segments.length,crossings:it,visited:at=[],handleIn:ct}),wt&&(H=dt),!I(H)){U.removeSegments(K.start);for(var mt=0,xt=at.length;mt<xt;mt++)at[mt]._visited=!1;at.length=0;do H=K&&K.crossings.shift(),(!H||!H._path)&&(H=null,K=j.pop(),K&&(at=K.visited,ct=K.handleIn));while(K&&!I(H));if(!H)break}var bt=H.getNext();U.add(new yt(H._point,ct,bt&&H._handleOut)),H._visited=!0,at.push(H),H=bt||H._path.getFirstSegment(),ct=bt&&bt._handleIn}W&&(Y&&(U.getFirstSegment().setHandleIn(ct),U.setClosed(Y)),U.getArea()!==0&&g.push(U))}return g}return{_getWinding:function(w,C,g){return O(w,this.getCurves(),C,g)},unite:function(w,C){return _(this,w,"unite",C)},intersect:function(w,C){return _(this,w,"intersect",C)},subtract:function(w,C){return _(this,w,"subtract",C)},exclude:function(w,C){return _(this,w,"exclude",C)},divide:function(w,C){return C&&(C.trace==!1||C.stroke)?d(this,w,"divide"):c([this.subtract(w,C),this.intersect(w,C)],!0,this,w,C)},resolveCrossings:function(){var w=this._children,C=w||[this];function g(K,at){var ct=K&&K._intersection;return ct&&ct._overlap&&ct._path===at}var S=!1,I=!1,A=this.getIntersections(null,function(K){return K.hasOverlap()&&(S=!0)||K.isCrossing()&&(I=!0)}),P=S&&I&&[];if(A=Ft.expand(A),S)for(var L=p(A,function(K){return K.hasOverlap()},P),F=L.length-1;F>=0;F--){var q=L[F],H=q._path,D=q._segment,U=D.getPrevious(),W=D.getNext();g(U,H)&&g(W,H)&&(D.remove(),U._handleOut._set(0,0),W._handleIn._set(0,0),U!==D&&!U.getCurve().hasLength()&&(W._handleIn.set(U._handleIn),U.remove()))}I&&(p(A,S&&function(K){var at=K.getCurve(),ct=K.getSegment(),_t=K._intersection,vt=_t._curve,et=_t._segment;if(at&&vt&&at._path&&vt._path)return!0;ct&&(ct._intersection=null),et&&(et._intersection=null)},P),P&&y(P),C=k(l.each(C,function(K){l.push(this,K._segments)},[])));var Y=C.length,j;return Y>1&&w?(C!==w&&this.setChildren(C),j=this):Y===1&&!w&&(C[0]!==this&&this.setSegments(C[0].removeSegments()),j=this),j||(j=new ve(rt.NO_INSERT),j.addChildren(C),j=j.reduce(),j.copyAttributes(this),this.replaceWith(j)),j},reorient:function(w,C){var g=this._children;return g&&g.length?this.setChildren(v(this.removeChildren(),function(S){return!!(w?S:S&1)},C)):C!==a&&this.setClockwise(C),this},getInteriorPoint:function(){var w=this.getBounds(),C=w.getCenter(!0);if(!this.contains(C)){for(var g=this.getCurves(),S=C.y,I=[],A=[],P=0,L=g.length;P<L;P++){var F=g[P].getValues(),q=F[1],H=F[3],D=F[5],U=F[7];if(S>=t(q,H,D,U)&&S<=e(q,H,D,U))for(var W=ot.getMonoCurves(F),Y=0,j=W.length;Y<j;Y++){var K=W[Y],at=K[1],ct=K[7];if(at!==ct&&(S>=at&&S<=ct||S>=ct&&S<=at)){var _t=S===at?K[0]:S===ct?K[6]:ot.solveCubic(K,1,S,A,0,1)===1?ot.getPoint(K,A[0]).x:(K[0]+K[6])/2;I.push(_t)}}}I.length>1&&(I.sort(function(vt,et){return vt-et}),C.x=(I[0]+I[1])/2)}return C}}});var oi=l.extend({_class:"PathFlattener",initialize:function(t,e,i,r,s){var h=[],c=[],f=0,_=1/(i||32),d=t._segments,m=d[0],y;function v(k,w){var C=ot.getValues(k,w,s);h.push(C),p(C,k._index,0,1)}function p(k,w,C,g){if(g-C>_&&!(r&&ot.isStraight(k))&&!ot.isFlatEnough(k,e||.25)){var S=ot.subdivide(k,.5),I=(C+g)/2;p(S[0],w,C,I),p(S[1],w,I,g)}else{var A=k[6]-k[0],P=k[7]-k[1],L=Math.sqrt(A*A+P*P);L>0&&(f+=L,c.push({offset:f,curve:k,index:w,time:g}))}}for(var O=1,x=d.length;O<x;O++)y=d[O],v(m,y),m=y;t._closed&&v(y||m,d[0]),this.curves=h,this.parts=c,this.length=f,this.index=0},_get:function(t){for(var e=this.parts,i=e.length,r,s=this.index;r=s,!(!s||e[--s].offset<t););for(;r<i;r++){var h=e[r];if(h.offset>=t){this.index=r;var c=e[r-1],f=c&&c.index===h.index?c.time:0,_=c?c.offset:0;return{index:h.index,time:f+(h.time-f)*(t-_)/(h.offset-_)}}}return{index:e[i-1].index,time:1}},drawPart:function(t,e,i){for(var r=this._get(e),s=this._get(i),h=r.index,c=s.index;h<=c;h++){var f=ot.getPart(this.curves[h],h===r.index?r.time:0,h===s.index?s.time:1);h===r.index&&t.moveTo(f[0],f[1]),t.bezierCurveTo.apply(t,f.slice(2))}}},l.each(ot._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return ot[t](this.curves[i.index],i.time)}},{})),ei=l.extend({initialize:function(t){for(var e=this.points=[],i=t._segments,r=t._closed,s=0,h,c=i.length;s<c;s++){var f=i[s].point;(!h||!h.equals(f))&&e.push(h=f.clone())}r&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,r=null;return i>0&&(r=[new yt(e[0])],i>1&&(this.fitCubic(r,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,i,r,s,h){var c=this.points;if(r-i===1){var f=c[i],_=c[r],d=f.getDistance(_)/3;this.addCurve(t,[f,f.add(s.normalize(d)),_.add(h.normalize(d)),_]);return}for(var m=this.chordLengthParameterize(i,r),y=Math.max(e,e*e),v,p=!0,O=0;O<=4;O++){var x=this.generateBezier(i,r,m,s,h),k=this.findMaxError(i,r,x,m);if(k.error<e&&p){this.addCurve(t,x);return}if(v=k.index,k.error>=y)break;p=this.reparameterize(i,r,m,x),y=k.error}var w=c[v-1].subtract(c[v+1]);this.fitCubic(t,e,i,v,s,w),this.fitCubic(t,e,v,r,w.negate(),h)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new yt(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,r,s){for(var h=1e-12,c=Math.abs,f=this.points,_=f[t],d=f[e],m=[[0,0],[0,0]],y=[0,0],v=0,p=e-t+1;v<p;v++){var O=i[v],x=1-O,k=3*O*x,w=x*x*x,C=k*x,g=k*O,S=O*O*O,I=r.normalize(C),A=s.normalize(g),P=f[t+v].subtract(_.multiply(w+C)).subtract(d.multiply(g+S));m[0][0]+=I.dot(I),m[0][1]+=I.dot(A),m[1][0]=m[0][1],m[1][1]+=A.dot(A),y[0]+=I.dot(P),y[1]+=A.dot(P)}var L=m[0][0]*m[1][1]-m[1][0]*m[0][1],F,q;if(c(L)>h){var H=m[0][0]*y[1]-m[1][0]*y[0],D=y[0]*m[1][1]-y[1]*m[0][1];F=D/L,q=H/L}else{var U=m[0][0]+m[0][1],W=m[1][0]+m[1][1];F=q=c(U)>h?y[0]/U:c(W)>h?y[1]/W:0}var Y=d.getDistance(_),j=h*Y,K,at;if(F<j||q<j)F=q=Y/3;else{var ct=d.subtract(_);K=r.normalize(F),at=s.normalize(q),K.dot(ct)-at.dot(ct)>Y*Y&&(F=q=Y/3,K=at=null)}return[_,_.add(K||r.normalize(F)),d.add(at||s.normalize(q)),d]},reparameterize:function(t,e,i,r){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(r,this.points[s],i[s-t]);for(var s=1,h=i.length;s<h;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var r=[],s=[],h=0;h<=2;h++)r[h]=t[h+1].subtract(t[h]).multiply(3);for(var h=0;h<=1;h++)s[h]=r[h+1].subtract(r[h]).multiply(2);var c=this.evaluate(3,t,i),f=this.evaluate(2,r,i),_=this.evaluate(1,s,i),d=c.subtract(e),m=f.dot(f)+d.dot(_);return G.isMachineZero(m)?i:i-d.dot(f)/m},evaluate:function(t,e,i){for(var r=e.slice(),s=1;s<=t;s++)for(var h=0;h<=t-s;h++)r[h]=r[h].multiply(1-i).add(r[h+1].multiply(i));return r[0]},chordLengthParameterize:function(t,e){for(var i=[0],r=t+1;r<=e;r++)i[r-t]=i[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,s=e-t;r<=s;r++)i[r]/=i[s];return i},findMaxError:function(t,e,i,r){for(var s=Math.floor((e-t+1)/2),h=0,c=t+1;c<e;c++){var f=this.evaluate(3,i,r[c-t]),_=f.subtract(this.points[c]),d=_.x*_.x+_.y*_.y;d>=h&&(h=d,s=c)}return{error:h,index:s}}}),bi=rt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var i=e&&l.isPlainObject(e)&&e.x===a&&e.y===a;this._initialize(i&&e,!i&&M.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),qe=bi.extend({_class:"PointText",initialize:function(){bi.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new J(t.x,t.y,this,"setPoint")},setPoint:function(){var t=M.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var r=this._lines,s=this._style,h=s.hasFill(),c=s.hasStroke(),f=s.getLeading(),_=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var d=0,m=r.length;d<m;d++){t.shadowColor=_;var y=r[d];h&&(t.fillText(y,0,0),t.shadowColor="rgba(0,0,0,0)"),c&&t.strokeText(y,0,0),t.translate(0,f)}}},_getBounds:function(t,e){var i=this._style,r=this._lines,s=r.length,h=i.getJustification(),c=i.getLeading(),f=this.getView().getTextWidth(i.getFontStyle(),r),_=0;h!=="left"&&(_-=f/(h==="center"?2:1));var d=new Q(_,s?-.75*c:0,f,s*c);return t?t._transformBounds(d,d):d}}),Vt=l.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},i={transparent:[0,0,0,0]},r;function s(f){var _=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||f.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),d="rgb",m;if(_){var y=_[4]?4:3;m=new Array(y);for(var v=0;v<y;v++){var p=_[v+1];m[v]=parseInt(p.length==1?p+p:p,16)/255}}else if(_=f.match(/^(rgb|hsl)a?\((.*)\)$/)){d=_[1],m=_[2].trim().split(/[,\s]+/g);for(var O=d==="hsl",v=0,x=Math.min(m.length,4);v<x;v++){var k=m[v],p=parseFloat(k);if(O)if(v===0){var w=k.match(/([a-z]*)$/)[1];p*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else v<3&&(p/=100);else v<3&&(p/=/%$/.test(k)?100:255);m[v]=p}}else{var C=i[f];if(!C)if(u){r||(r=ae.getContext(1,1,{willReadFrequently:!0}),r.globalCompositeOperation="copy"),r.fillStyle="rgba(0,0,0,0)",r.fillStyle=f,r.fillRect(0,0,1,1);var g=r.getImageData(0,0,1,1).data;C=i[f]=[g[0]/255,g[1]/255,g[2]/255]}else C=[0,0,0];m=C.slice()}return[d,m]}var h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(f,_,d){var m=Math.max(f,_,d),y=Math.min(f,_,d),v=m-y,p=v===0?0:(m==f?(_-d)/v+(_<d?6:0):m==_?(d-f)/v+2:(f-_)/v+4)*60;return[p,m===0?0:v/m,m]},"hsb-rgb":function(f,_,d){f=(f/60%6+6)%6;var y=Math.floor(f),m=f-y,y=h[y],v=[d,d*(1-_),d*(1-_*m),d*(1-_*(1-m))];return[v[y[0]],v[y[1]],v[y[2]]]},"rgb-hsl":function(f,_,d){var m=Math.max(f,_,d),y=Math.min(f,_,d),v=m-y,p=v===0,O=p?0:(m==f?(_-d)/v+(_<d?6:0):m==_?(d-f)/v+2:(f-_)/v+4)*60,x=(m+y)/2,k=p?0:x<.5?v/(m+y):v/(2-m-y);return[O,k,x]},"hsl-rgb":function(f,_,d){if(f=(f/360%1+1)%1,_===0)return[d,d,d];for(var m=[f+1/3,f,f-1/3],y=d<.5?d*(1+_):d+_-d*_,v=2*d-y,p=[],O=0;O<3;O++){var x=m[O];x<0&&(x+=1),x>1&&(x-=1),p[O]=6*x<1?v+(y-v)*6*x:2*x<1?y:3*x<2?v+(y-v)*(2/3-x)*6:v}return p},"rgb-gray":function(f,_,d){return[f*.2989+_*.587+d*.114]},"gray-rgb":function(f){return[f,f,f]},"gray-hsb":function(f){return[0,0,f]},"gray-hsl":function(f){return[0,0,f]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return l.each(t,function(f,_){e[_]=[],l.each(f,function(d,m){var y=l.capitalize(d),v=/^(hue|saturation)$/.test(d),p=e[_][m]=_==="gradient"?d==="gradient"?function(O){var x=this._components[0];return O=bn.read(Array.isArray(O)?O:arguments,0,{readNull:!0}),x!==O&&(x&&x._removeOwner(this),O&&O._addOwner(this)),O}:function(){return M.read(arguments,0,{readNull:d==="highlight",clone:!0})}:function(O){return O==null||isNaN(O)?0:+O};this["get"+y]=function(){return this._type===_||v&&/^hs[bl]$/.test(this._type)?this._components[m]:this._convert(_)[m]},this["set"+y]=function(O){this._type!==_&&!(v&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(_),this._properties=t[_],this._type=_),this._components[m]=p.call(this,O),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function f(_){var d=arguments,m=this.__read,y=0,v,p,O,x;Array.isArray(_)&&(d=_,_=d[0]);var k=_!=null&&typeof _;if(k==="string"&&_ in t&&(v=_,_=d[1],Array.isArray(_)?(p=_,O=d[2]):(m&&(y=1),d=l.slice(d,1),k=typeof _)),!p){if(x=k==="number"?d:k==="object"&&_.length!=null?_:null,x){v||(v=x.length>=3?"rgb":"gray");var w=t[v].length;O=x[w],m&&(y+=x===arguments?w+(O!=null?1:0):1),x.length>w&&(x=l.slice(x,0,w))}else if(k==="string"){var C=s(_);v=C[0],p=C[1],p.length===4&&(O=p[3],p.length--)}else if(k==="object")if(_.constructor===f){if(v=_._type,p=_._components.slice(),O=_._alpha,v==="gradient")for(var g=1,S=p.length;g<S;g++){var I=p[g];I&&(p[g]=I.clone())}}else if(_.constructor===bn)v="gradient",x=d;else{v="hue"in _?"lightness"in _?"hsl":"hsb":"gradient"in _||"stops"in _||"radial"in _?"gradient":"gray"in _?"gray":"rgb";var A=t[v],P=e[v];this._components=p=[];for(var g=0,S=A.length;g<S;g++){var L=_[A[g]];L==null&&!g&&v==="gradient"&&"stops"in _&&(L={stops:_.stops,radial:_.radial}),L=P[g].call(this,L),L!=null&&(p[g]=L)}O=_.alpha}m&&v&&(y=1)}if(this._type=v||"rgb",!p){this._components=p=[];for(var P=e[this._type],g=0,S=P.length;g<S;g++){var L=P[g].call(this,x&&x[g]);L!=null&&(p[g]=L)}}return this._components=p,this._properties=t[this._type],this._alpha=O,m&&(this.__read=y),this},set:"#initialize",_serialize:function(f,_){var d=this.getComponents();return l.serialize(/^(gray|rgb)$/.test(this._type)?d:[this._type].concat(d),f,!0,_)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(f){var _;return this._type===f?this._components.slice():(_=c[this._type+"-"+f])?_.apply(this,this._components):c["rgb-"+f].apply(this,c[this._type+"-rgb"].apply(this,this._components))},convert:function(f){return new Vt(f,this._convert(f),this._alpha)},getType:function(){return this._type},setType:function(f){this._components=this._convert(f),this._properties=t[f],this._type=f},getComponents:function(){var f=this._components.slice();return this._alpha!=null&&f.push(this._alpha),f},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(f){this._alpha=f==null?null:Math.min(Math.max(f,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(f){var _=l.isPlainValue(f,!0)?Vt.read(arguments):f;return _===this||_&&this._class===_._class&&this._type===_._type&&this.getAlpha()===_.getAlpha()&&l.equals(this._components,_._components)||!1},toString:function(){for(var f=this._properties,_=[],d=this._type==="gradient",m=B.instance,y=0,v=f.length;y<v;y++){var p=this._components[y];p!=null&&_.push(f[y]+": "+(d?p:m.number(p)))}return this._alpha!=null&&_.push("alpha: "+m.number(this._alpha)),"{ "+_.join(", ")+" }"},toCSS:function(f){var _=this._convert("rgb"),d=f||this._alpha==null?1:this._alpha;function m(y){return Math.round((y<0?0:y>1?1:y)*255)}return _=[m(_[0]),m(_[1]),m(_[2])],d<1&&_.push(d<0?0:d),f?"#"+((1<<24)+(_[0]<<16)+(_[1]<<8)+_[2]).toString(16).slice(1):(_.length==4?"rgba(":"rgb(")+_.join(",")+")"},toCanvasStyle:function(f,_){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var d=this._components,m=d[0],y=m._stops,v=d[1],p=d[2],O=d[3],x=_&&_.inverted(),k;if(x&&(v=x._transformPoint(v),p=x._transformPoint(p),O&&(O=x._transformPoint(O))),m._radial){var w=p.getDistance(v);if(O){var C=O.subtract(v);C.getLength()>w&&(O=v.add(C.normalize(w-.1)))}var g=O||v;k=f.createRadialGradient(g.x,g.y,0,v.x,v.y,w)}else k=f.createLinearGradient(v.x,v.y,p.x,p.y);for(var S=0,I=y.length;S<I;S++){var A=y[S],P=A._offset;k.addColorStop(P??S/(I-1),A._color.toCanvasStyle())}return this._canvasStyle=k},transform:function(f){if(this._type==="gradient"){for(var _=this._components,d=1,m=_.length;d<m;d++){var y=_[d];f._transformPoint(y,y,!0)}this._changed()}},statics:{_types:t,random:function(){var f=Math.random;return new Vt(f(),f(),f())},_setOwner:function(f,_,d){return f&&(f._owner&&_&&f._owner!==_&&(f=f.clone()),!f._owner^!_&&(f._owner=_||null,f._setter=d||null)),f}}})},new function(){var t={add:function(e,i){return e+i},subtract:function(e,i){return e-i},multiply:function(e,i){return e*i},divide:function(e,i){return e/i}};return l.each(t,function(e,i){this[i]=function(r){r=Vt.read(arguments);for(var s=this._type,h=this._components,c=r._convert(s),f=0,_=h.length;f<_;f++)c[f]=e(h[f],c[f]);return new Vt(s,c,this._alpha!=null?e(this._alpha,r.getAlpha()):null)}},{})}),bn=l.extend({_class:"Gradient",initialize:function(e,i){this._id=X.get(),e&&l.isPlainObject(e)&&(this.set(e),e=i=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(t,e){return e.add(this,function(){return l.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=a))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new bn(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,r=e.length;i<r;i++)e[i]._owner=a;e=this._stops=Yn.readList(t,0,{clone:!0});for(var i=0,r=e.length;i<r;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,r=e.length;if(r===i.length){for(var s=0;s<r;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),Yn=l.extend({_class:"GradientStop",initialize:function(e,i){var r=e,s=i;typeof e=="object"&&i===a&&(Array.isArray(e)&&typeof e[0]!="number"?(r=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(r=e.color,s=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(s)},clone:function(){return new Yn(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,r=this._offset;return l.serialize(r==null?[i]:[i,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Vt._setOwner(this._color,null),this._color=Vt._setOwner(Vt.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),jn=l.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new M,selectedColor:null},e=l.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=l.set({},e,{fillColor:new Vt}),r={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},h={_class:"Style",beans:!0,initialize:function(f,_,d){this._values={},this._owner=_,this._project=_&&_._project||d||At.project,this._defaults=!_||_ instanceof gt?e:_ instanceof bi?i:t,f&&this.set(f)}};return l.each(e,function(c,f){var _=/Color$/.test(f),d=f==="shadowOffset",m=l.capitalize(f),y=r[f],v="set"+m,p="get"+m;h[v]=function(O){var x=this._owner,k=x&&x._children,w=k&&k.length>0&&!(x instanceof ve);if(w)for(var C=0,g=k.length;C<g;C++)k[C]._style[v](O);if((f==="selectedColor"||!w)&&f in this._defaults){var S=this._values[f];S!==O&&(_&&(S&&(Vt._setOwner(S,null),S._canvasStyle=null),O&&O.constructor===Vt&&(O=Vt._setOwner(O,x,w&&v))),this._values[f]=O,x&&x._changed(y||129))}},h[p]=function(O){var x=this._owner,k=x&&x._children,w=k&&k.length>0&&!(x instanceof ve),C;if(w&&!O)for(var g=0,S=k.length;g<S;g++){var I=k[g]._style[p]();if(!g)C=I;else if(!l.equals(C,I))return a}else if(f in this._defaults){var C=this._values[f];if(C===a)C=this._defaults[f],C&&C.clone&&(C=C.clone());else{var A=_?Vt:d?M:null;A&&!(C&&C.constructor===A)&&(this._values[f]=C=A.read([C],0,{readNull:!0,clone:!0}))}}return C&&_&&(C=Vt._setOwner(C,x,w&&v)),C},s[p]=function(O){return this._style[p](O)},s[v]=function(O){this._style[v](O)}}),l.each({Font:"FontFamily",WindingRule:"FillRule"},function(c,f){var _="get"+f,d="set"+f;h[_]=s[_]="#get"+c,h[d]=s[d]="#set"+c}),rt.inject(s),h},{set:function(t){var e=t instanceof jn,i=e?t._values:t;if(i){for(var r in i)if(r in this._defaults){var s=i[r];this[r]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(i,r,s){var h=i._values,c=r._values,f=r._defaults;for(var _ in h){var d=h[_],m=c[_];if(!(s&&_ in c)&&!l.equals(d,m===a?f[_]:m))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),e??i*1.2}}),Jt=new function(){function t(e,i,r,s){for(var h=["","webkit","moz","Moz","ms","o"],c=i[0].toUpperCase()+i.substring(1),f=0;f<6;f++){var _=h[f],d=_?_+c:i;if(d in e){if(r)e[d]=s;else return e[d];break}}}return{getStyles:function(e){var i=e&&e.nodeType!==9?e.ownerDocument:e,r=i&&i.defaultView;return r&&r.getComputedStyle(e,"")},getBounds:function(e,i){var r=e.ownerDocument,s=r.body,h=r.documentElement,c;try{c=e.getBoundingClientRect()}catch{c={left:0,top:0,width:0,height:0}}var f=c.left-(h.clientLeft||s.clientLeft||0),_=c.top-(h.clientTop||s.clientTop||0);if(!i){var d=r.defaultView;f+=d.pageXOffset||h.scrollLeft||s.scrollLeft,_+=d.pageYOffset||h.scrollTop||s.scrollTop}return new Q(f,_,c.width,c.height)},getViewportBounds:function(e){var i=e.ownerDocument,r=i.defaultView,s=i.documentElement;return new Q(0,0,r.innerWidth||s.clientWidth,r.innerHeight||s.clientHeight)},getOffset:function(e,i){return Jt.getBounds(e,i).getPoint()},getSize:function(e){return Jt.getBounds(e,!0).getSize()},isInvisible:function(e){return Jt.getSize(e).equals(new N(0,0))},isInView:function(e){return!Jt.isInvisible(e)&&Jt.getViewportBounds(e).intersects(Jt.getBounds(e,!0))},isInserted:function(e){return o.body.contains(e)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,r){if(typeof i=="object")for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,r)}}},se={add:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),h=0,c=s.length;h<c;h++){var f=s[h],_=t===o&&(f==="touchstart"||f==="touchmove")?{passive:!1}:!1;t.addEventListener(f,r,_)}},remove:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),h=0,c=s.length;h<c;h++)t.removeEventListener(s[h],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new M(e.pageX||e.clientX+o.documentElement.scrollLeft,e.pageY||e.clientY+o.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return se.getPoint(t).subtract(Jt.getOffset(e||se.getTarget(t)))}};se.requestAnimationFrame=new function(){var t=Jt.getPrefixed(u,"requestAnimationFrame"),e=!1,i=[],r;function s(){var h=i;i=[];for(var c=0,f=h.length;c<f;c++)h[c]();e=t&&i.length,e&&t(s)}return function(h){i.push(h),t?e||(t(s),e=!0):r||(r=setInterval(s,1e3/60))}};var jt=l.extend(b,{_class:"View",initialize:function t(e,i){function r(y){return i[y]||parseInt(i.getAttribute(y),10)}function s(){var y=Jt.getSize(i);return y.isNaN()||y.isZero()?new N(r("width"),r("height")):y}var h;if(u&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+t._id++),se.add(i,this._viewEvents);var c="none";if(Jt.setPrefixed(i.style,{userDrag:c,userSelect:c,touchCallout:c,contentZooming:c,tapHighlightColor:"rgba(0,0,0,0)"}),T.hasAttribute(i,"resize")){var f=this;se.add(u,this._windowEvents={resize:function(){f.setViewSize(s())}})}if(h=s(),T.hasAttribute(i,"stats")&&typeof Stats<"u"){this._stats=new Stats;var _=this._stats.domElement,d=_.style,m=Jt.getOffset(i);d.position="absolute",d.left=m.x+"px",d.top=m.y+"px",o.body.appendChild(_)}}else h=new N(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=u&&u.devicePixelRatio||1),this._setElementSize(h.width,h.height),this._viewSize=h,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new st)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!At.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;jt._focused===this&&(jt._focused=null),jt._views.splice(jt._views.indexOf(this),1),delete jt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),se.remove(this._element,this._viewEvents),se.remove(u,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:l.each(rt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;se.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!Jt.getPrefixed(o,"hidden")||T.getAttribute(e,"keepalive")==="true")&&Jt.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){At=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new l({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new l(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new tt(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=N.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Q(new M,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Jt.isInView(this._element)},isInserted:function(){return Jt.isInserted(this._element)},getPixelSize:function(t){var e=this._element,i;if(e){var r=e.parentNode,s=o.createElement("div");s.style.fontSize=t,r.appendChild(s),i=parseFloat(Jt.getStyles(s).fontSize),r.removeChild(s)}else i=parseFloat(i);return i},getTextWidth:function(t,e){return 0}},l.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?l:M).read(i),s=M.read(i,0,{readNull:!0});return this.transform(new st()[t](r,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new st;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=M.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new st().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new J(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=M.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(M.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(M.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(M.read(arguments))},getEventPoint:function(t){return this.viewToProject(se.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){o&&typeof e=="string"&&(e=o.getElementById(e));var i=u?Wa:jt;return new i(t,e)}}},new function(){if(!u)return;var t,e,i=!1,r=!1;function s(D){var U=se.getTarget(D);return U.getAttribute&&jt._viewsById[U.getAttribute("id")]}function h(){var D=jt._focused;if(!D||!D.isVisible()){for(var U=0,W=jt._views.length;U<W;U++)if((D=jt._views[U]).isVisible()){jt._focused=e=D;break}}}function c(D,U,W){D._handleMouseEvent("mousemove",U,W)}var f=u.navigator,_,d,m;f.pointerEnabled||f.msPointerEnabled?(_="pointerdown MSPointerDown",d="pointermove MSPointerMove",m="pointerup pointercancel MSPointerUp MSPointerCancel"):(_="touchstart",d="touchmove",m="touchend touchcancel","ontouchstart"in u&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(_+=" mousedown",d+=" mousemove",m+=" mouseup"));var y={},v={mouseout:function(D){var U=jt._focused,W=se.getRelatedTarget(D);if(U&&(!W||W.nodeName==="HTML")){var Y=se.getOffset(D,U._element),j=Y.x,K=Math.abs,at=K(j),ct=1<<25,_t=at-ct;Y.x=K(_t)<at?_t*(j<0?-1:1):j,c(U,D,U.viewToProject(Y))}},scroll:h};y[_]=function(D){var U=jt._focused=s(D);i||(i=!0,U._handleMouseEvent("mousedown",D))},v[d]=function(D){var U=jt._focused;if(!r){var W=s(D);W?U!==W&&(U&&c(U,D),t||(t=U),U=jt._focused=e=W):e&&e===U&&(t&&!t.isInserted()&&(t=null),U=jt._focused=t,t=null,h())}U&&c(U,D)},v[_]=function(){r=!0},v[m]=function(D){var U=jt._focused;U&&i&&U._handleMouseEvent("mouseup",D),r=i=!1},se.add(o,v),se.add(u,{load:h});var p=!1,O=!1,x={doubleclick:"click",mousedrag:"mousemove"},k=!1,w,C,g,S,I,A,P,L;function F(D,U,W,Y,j,K,at){var ct=!1,_t;function vt(et,it){if(et.responds(it)){if(_t||(_t=new Za(it,Y,j,U||et,K?j.subtract(K):null)),et.emit(it,_t)&&(p=!0,_t.prevented&&(O=!0),_t.stopped))return ct=!0}else{var dt=x[it];if(dt)return vt(et,dt)}}for(;D&&D!==at&&!vt(D,W);)D=D._parent;return ct}function q(D,U,W,Y,j,K){return D._project.removeOn(W),O=p=!1,I&&F(I,null,W,Y,j,K)||U&&U!==I&&!U.isDescendant(I)&&F(U,null,W==="mousedrag"?"mousemove":W,Y,j,K,I)||F(D,I||U||D,W,Y,j,K)}var H={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:y,_handleMouseEvent:function(D,U,W){var Y=this._itemEvents,j=Y.native[D],K=D==="mousemove",at=this._scope.tool,ct=this;function _t(xt){return Y.virtual[xt]||ct.responds(xt)||at&&at.responds(xt)}K&&i&&_t("mousedrag")&&(D="mousedrag"),W||(W=this.getEventPoint(U));var vt=this.getBounds().contains(W),et=j&&vt&&ct._project.hitTest(W,{tolerance:0,fill:!0,stroke:!0}),it=et&&et.item||null,dt=!1,wt={};if(wt[D.substr(5)]=!0,j&&it!==S&&(S&&F(S,null,"mouseleave",U,W),it&&F(it,null,"mouseenter",U,W),S=it),k^vt&&(F(this,null,vt?"mouseenter":"mouseleave",U,W),dt=!0),(vt||wt.drag)&&!W.equals(C)&&(q(this,it,K?D:"mousemove",U,W,C),dt=!0),k=vt,wt.down&&vt||wt.up&&w){if(q(this,it,D,U,W,w),wt.down){if(L=it===A&&Date.now()-P<300,g=A=it,!O&&it){for(var mt=it;mt&&!mt.responds("mousedrag");)mt=mt._parent;mt&&(I=it)}w=W}else wt.up&&(!O&&it===g&&(P=Date.now(),q(this,it,L?"doubleclick":"click",U,W,w),L=!1),g=I=null);k=!1,dt=!0}C=W,dt&&at&&(p=at._handleMouseEvent(D,U,W,wt)||p),U.cancelable!==!1&&(p&&!wt.move||wt.down&&_t("mouseup"))&&U.preventDefault()},_handleKeyEvent:function(D,U,W,Y){var j=this._scope,K=j.tool,at;function ct(_t){_t.responds(D)&&(At=j,_t.emit(D,at=at||new Ga(D,U,W,Y)))}this.isVisible()&&(ct(this),K&&K.responds(D)&&ct(K))},_countItemEvent:function(D,U){var W=this._itemEvents,Y=W.native,j=W.virtual;for(var K in H)Y[K]=(Y[K]||0)+(H[K][D]||0)*U;j[D]=(j[D]||0)+U},statics:{updateFocus:h,_resetState:function(){i=r=p=k=!1,t=e=w=C=g=S=I=A=P=L=null}}}}),Wa=jt.extend({_class:"CanvasView",initialize:function(e,i){if(!(i instanceof u.HTMLCanvasElement)){var r=N.read(arguments,1);if(r.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+l.slice(arguments,1));i=ae.getCanvas(r)}var s=this._context=i.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(T.getAttribute(i,"hidpi"))){var h=u.devicePixelRatio||1,c=Jt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=h/c}jt.call(this,e,i),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var r=this._pixelRatio;if(t.base.call(this,e*r,i*r),r!==1){var s=this._element,h=this._context;if(!T.hasAttribute(s,"resize")){var c=s.style;c.width=e+"px",c.height=i+"px"}h.restore(),h.save(),h.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function t(e){var i=At.agent,r;if(i&&i.firefox)r=t.base.call(this,e);else{var s=this._context,h=s.font;s.font=e+" serif",r=parseFloat(s.font),s.font=h}return r},getTextWidth:function(t,e){var i=this._context,r=i.font,s=0;i.font=t;for(var h=0,c=e.length;h<c;h++)s=Math.max(s,i.measureText(e[h]).width);return i.font=r,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),xn=l.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ts.modifiers}}),Ga=xn.extend({_class:"KeyEvent",initialize:function(e,i,r,s){this.type=e,this.event=i,this.key=r,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ts=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},i={},r={},s,h,c=new l({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var d=At&&At.agent;return d&&d.mac?this.meta:this.control}}});function f(d){var m=d.key||d.keyIdentifier;return m=/^U\+/.test(m)?String.fromCharCode(parseInt(m.substr(2),16)):/^Arrow[A-Z]/.test(m)?m.substr(5):m==="Unidentified"||m===a?String.fromCharCode(d.keyCode):m,t[m]||(m.length>1?l.hyphenate(m):m.toLowerCase())}function _(d,m,y,v){var p=jt._focused,O;if(i[m]=d,d?r[m]=y:delete r[m],m.length>1&&(O=l.camelize(m))in c){c[O]=d;var x=At&&At.agent;if(O==="meta"&&x&&x.mac)if(d)s={};else{for(var k in s)k in r&&_(!1,k,s[k],v);s=null}}else d&&s&&(s[m]=y);p&&p._handleKeyEvent(d?"keydown":"keyup",v,m,y)}return se.add(o,{keydown:function(d){var m=f(d),y=At&&At.agent;m.length>1||y&&y.chrome&&(d.altKey||y.mac&&d.metaKey||!y.mac&&d.ctrlKey)?_(!0,m,e[m]||(m.length>1?"":m),d):h=m},keypress:function(d){if(h){var m=f(d),y=d.charCode,v=y>=32?String.fromCharCode(y):m.length>1?"":m;m!==h&&(m=v.toLowerCase()),_(!0,m,v,d),h=null}},keyup:function(d){var m=f(d);m in r&&_(!1,m,r[m],d)}}),se.add(u,{blur:function(d){for(var m in r)_(!1,m,r[m],d)}}),{modifiers:c,isDown:function(d){return!!i[d]}}},Za=xn.extend({_class:"MouseEvent",initialize:function(e,i,r,s,h){this.type=e,this.event=i,this.point=r,this.target=s,this.delta=h},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Xa=xn.extend({_class:"ToolEvent",_item:null,initialize:function(e,i,r){this.tool=e,this.type=i,this.event=r},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ya=E.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){E.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,r){At=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var s=r.move||r.drag,h=this.responds(t),c=!1,f=this;function _(m,y){var v=i,p=s?f._point:f._downPoint||v;if(s){if(f._moveCount>=0&&v.equals(p))return!1;if(p&&(m!=null||y!=null)){var O=v.subtract(p),x=O.getLength();if(x<(m||0))return!1;y&&(v=p.add(O.normalize(Math.min(x,y))))}f._moveCount++}return f._point=v,f._lastPoint=p||v,r.down&&(f._moveCount=-1,f._downPoint=v,f._downCount++),!0}function d(){h&&(c=f.emit(t,new Xa(f,t,e))||c)}if(r.down)_(),d();else if(r.up)_(null,this._maxDistance),d();else if(h)for(;_(this._minDistance,this._maxDistance);)d();return c}}),ja=l.extend(b,{_class:"Tween",statics:{easings:new l({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,r,s,h,c){this.object=e;var f=typeof h,_=f==="function";this.type=_?f:f==="string"?h:"linear",this.easing=_?h:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var d=i||r;this._keys=d?Object.keys(d):[],this._parsedKeys=this._parseKeys(this._keys),this._from=d&&this._getState(i),this._to=d&&this._getState(r),c!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),i=this._keys,r=function(m){return typeof m=="function"?m(e,t):m},s=0,h=i&&i.length;s<h;s++){var c=i[s],f=r(this._from[c]),_=r(this._to[c]),d=f&&_&&f.__add&&_.__add?_.__subtract(f).__multiply(e).__add(f):(_-f)*e+f;this._setProperty(this._parsedKeys[c],d)}this.responds("update")&&this.emit("update",new l({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},r=0,s=e.length;r<s;r++){var h=e[r],c=this._parsedKeys[h],f=this._getProperty(c),_;if(t){var d=this._resolveValue(f,t[h]);this._setProperty(c,d),_=this._getProperty(c),_=_&&_.clone?_.clone():_,this._setProperty(c,f)}else _=f&&f.clone?f.clone():f;i[h]=_}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}else if(typeof e=="string"){var r=e.match(/^[+\-*/]=(.*)/);if(r){var s=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,i){return At.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,r=t.length;i<r;i++){var s=t[i],h=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=h.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,r=0,s=t.length-(e||0);r<s&&i;r++)i=i[t[r]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),es={request:function(t){var e=new n.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,l.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;i===0||i===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,r='Could not load "'+t.url+'" (Status: '+i+")";if(t.onError)t.onError(r,i);else throw new Error(r)},e.send(null)}},ae=l.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,i){if(!u)return null;var r,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?r=this.canvases.pop():(r=o.createElement("canvas"),s=!1);var h=r.getContext("2d",i||{});if(!h)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===t&&r.height===e?s&&h.clearRect(0,0,t+1,e+1):(r.width=t,r.height=e),h.save(),r},getContext:function(t,e,i){var r=this.getCanvas(t,e,i);return r?r.getContext("2d",i||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},Kn=new function(){var t=Math.min,e=Math.max,i=Math.abs,r,s,h,c,f,_,d,m,y,v,p;function O(I,A,P){return .2989*I+.587*A+.114*P}function x(I,A,P,q){var F=q-O(I,A,P);y=I+F,v=A+F,p=P+F;var q=O(y,v,p),H=t(y,v,p),D=e(y,v,p);if(H<0){var U=q-H;y=q+(y-q)*q/U,v=q+(v-q)*q/U,p=q+(p-q)*q/U}if(D>255){var W=255-q,Y=D-q;y=q+(y-q)*W/Y,v=q+(v-q)*W/Y,p=q+(p-q)*W/Y}}function k(I,A,P){return e(I,A,P)-t(I,A,P)}function w(I,A,P,L){var F=[I,A,P],q=e(I,A,P),H=t(I,A,P),D;H=H===I?0:H===A?1:2,q=q===I?0:q===A?1:2,D=t(H,q)===0?e(H,q)===1?2:1:0,F[q]>F[H]?(F[D]=(F[D]-F[H])*L/(F[q]-F[H]),F[q]=L):F[D]=F[q]=0,F[H]=0,y=F[0],v=F[1],p=F[2]}var C={multiply:function(){y=f*r/255,v=_*s/255,p=d*h/255},screen:function(){y=f+r-f*r/255,v=_+s-_*s/255,p=d+h-d*h/255},overlay:function(){y=f<128?2*f*r/255:255-2*(255-f)*(255-r)/255,v=_<128?2*_*s/255:255-2*(255-_)*(255-s)/255,p=d<128?2*d*h/255:255-2*(255-d)*(255-h)/255},"soft-light":function(){var I=r*f/255;y=I+f*(255-(255-f)*(255-r)/255-I)/255,I=s*_/255,v=I+_*(255-(255-_)*(255-s)/255-I)/255,I=h*d/255,p=I+d*(255-(255-d)*(255-h)/255-I)/255},"hard-light":function(){y=r<128?2*r*f/255:255-2*(255-r)*(255-f)/255,v=s<128?2*s*_/255:255-2*(255-s)*(255-_)/255,p=h<128?2*h*d/255:255-2*(255-h)*(255-d)/255},"color-dodge":function(){y=f===0?0:r===255?255:t(255,255*f/(255-r)),v=_===0?0:s===255?255:t(255,255*_/(255-s)),p=d===0?0:h===255?255:t(255,255*d/(255-h))},"color-burn":function(){y=f===255?255:r===0?0:e(0,255-(255-f)*255/r),v=_===255?255:s===0?0:e(0,255-(255-_)*255/s),p=d===255?255:h===0?0:e(0,255-(255-d)*255/h)},darken:function(){y=f<r?f:r,v=_<s?_:s,p=d<h?d:h},lighten:function(){y=f>r?f:r,v=_>s?_:s,p=d>h?d:h},difference:function(){y=f-r,y<0&&(y=-y),v=_-s,v<0&&(v=-v),p=d-h,p<0&&(p=-p)},exclusion:function(){y=f+r*(255-f-f)/255,v=_+s*(255-_-_)/255,p=d+h*(255-d-d)/255},hue:function(){w(r,s,h,k(f,_,d)),x(y,v,p,O(f,_,d))},saturation:function(){w(f,_,d,k(r,s,h)),x(y,v,p,O(f,_,d))},luminosity:function(){x(f,_,d,O(r,s,h))},color:function(){x(r,s,h,O(f,_,d))},add:function(){y=t(f+r,255),v=t(_+s,255),p=t(d+h,255)},subtract:function(){y=e(f-r,0),v=e(_-s,0),p=e(d-h,0)},average:function(){y=(f+r)/2,v=(_+s)/2,p=(d+h)/2},negation:function(){y=255-i(255-r-f),v=255-i(255-s-_),p=255-i(255-h-d)}},g=this.nativeModes=l.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(I){this[I]=!0},{}),S=ae.getContext(1,1,{willReadFrequently:!0});S&&(l.each(C,function(I,A){var P=A==="darken",L=!1;S.save();try{S.fillStyle=P?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=A,S.globalCompositeOperation===A&&(S.fillStyle=P?"#a00":"#300",S.fillRect(0,0,1,1),L=S.getImageData(0,0,1,1).data[0]!==P?170:51)}catch{}S.restore(),g[A]=L}),ae.release(S)),this.process=function(I,A,P,L,F){var q=A.canvas,H=I==="normal";if(H||g[I])P.save(),P.setTransform(1,0,0,1,0,0),P.globalAlpha=L,H||(P.globalCompositeOperation=I),P.drawImage(q,F.x,F.y),P.restore();else{var D=C[I];if(!D)return;for(var U=P.getImageData(F.x,F.y,q.width,q.height),W=U.data,Y=A.getImageData(0,0,q.width,q.height).data,j=0,K=W.length;j<K;j+=4){r=Y[j],f=W[j],s=Y[j+1],_=W[j+1],h=Y[j+2],d=W[j+2],c=Y[j+3],m=W[j+3],D();var at=c*L/255,ct=1-at;W[j]=at*y+ct*f,W[j+1]=at*v+ct*_,W[j+2]=at*p+ct*d,W[j+3]=c*L+ct*m}P.putImageData(U,F.x,F.y)}}},Qt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",r={href:i,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(f,_,d){return c(o.createElementNS(t,f),_,d)}function h(f,_){var d=r[_],m=d?f.getAttributeNS(d,_):f.getAttribute(_);return m==="null"?null:m}function c(f,_,d){for(var m in _){var y=_[m],v=r[m];typeof y=="number"&&d&&(y=d.number(y)),v?f.setAttributeNS(v,m,y):f.setAttribute(m,y)}return f}return{svg:t,xmlns:e,xlink:i,create:s,get:h,set:c}},is=l.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof le||t instanceof ft||t instanceof bi)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=l.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&l.each(r,function(s,h){this[s]=h},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var t;function e(C,g,S){var I=new l,A=C.getTranslation();if(g){var P;C.isInvertible()?(C=C._shiftless(),P=C._inverseTransform(A),A=null):P=new M,I[S?"cx":"x"]=P.x,I[S?"cy":"y"]=P.y}if(!C.isIdentity()){var L=C.decompose();if(L){var F=[],q=L.rotation,H=L.scaling,D=L.skewing;A&&!A.isZero()&&F.push("translate("+t.point(A)+")"),q&&F.push("rotate("+t.number(q)+")"),(!G.isZero(H.x-1)||!G.isZero(H.y-1))&&F.push("scale("+t.point(H)+")"),D.x&&F.push("skewX("+t.number(D.x)+")"),D.y&&F.push("skewY("+t.number(D.y)+")"),I.transform=F.join(" ")}else I.transform="matrix("+C.getValues().join(",")+")"}return I}function i(C,g){for(var S=e(C._matrix),I=C._children,A=Qt.create("g",S,t),P=0,L=I.length;P<L;P++){var F=I[P],q=k(F,g);if(q)if(F.isClipMask()){var H=Qt.create("clipPath");H.appendChild(q),O(F,H,"clip"),Qt.set(A,{"clip-path":"url(#"+H.id+")"})}else A.appendChild(q)}return A}function r(C,g){var S=e(C._matrix,!0),I=C.getSize(),A=C.getImage();return S.x-=I.width/2,S.y-=I.height/2,S.width=I.width,S.height=I.height,S.href=g.embedImages==!1&&A&&A.src||C.toDataURL(),Qt.create("image",S,t)}function s(C,g){var S=g.matchShapes;if(S){var I=C.toShape(!1);if(I)return h(I)}var A=C._segments,P=A.length,L,F=e(C._matrix);if(S&&P>=2&&!C.hasHandles())if(P>2){L=C._closed?"polygon":"polyline";for(var q=[],H=0;H<P;H++)q.push(t.point(A[H]._point));F.points=q.join(" ")}else{L="line";var D=A[0]._point,U=A[1]._point;F.set({x1:D.x,y1:D.y,x2:U.x,y2:U.y})}else L="path",F.d=C.getPathData(null,g.precision);return Qt.create(L,F,t)}function h(C){var g=C._type,S=C._radius,I=e(C._matrix,!0,g!=="rectangle");if(g==="rectangle"){g="rect";var A=C._size,P=A.width,L=A.height;I.x-=P/2,I.y-=L/2,I.width=P,I.height=L,S.isZero()&&(S=null)}return S&&(g==="circle"?I.r=S:(I.rx=S.width,I.ry=S.height)),Qt.create(g,I,t)}function c(C,g){var S=e(C._matrix),I=C.getPathData(null,g.precision);return I&&(S.d=I),Qt.create("path",S,t)}function f(C,g){var S=e(C._matrix,!0),I=C._definition,A=p(I,"symbol"),P=I._item,L=P.getStrokeBounds();return A||(A=Qt.create("symbol",{viewBox:t.rectangle(L)}),A.appendChild(k(P,g)),O(I,A,"symbol")),S.href="#"+A.id,S.x+=L.x,S.y+=L.y,S.width=L.width,S.height=L.height,S.overflow="visible",Qt.create("use",S,t)}function _(C){var g=p(C,"color");if(!g){var S=C.getGradient(),I=S._radial,A=C.getOrigin(),P=C.getDestination(),L;if(I){L={cx:A.x,cy:A.y,r:A.getDistance(P)};var F=C.getHighlight();F&&(L.fx=F.x,L.fy=F.y)}else L={x1:A.x,y1:A.y,x2:P.x,y2:P.y};L.gradientUnits="userSpaceOnUse",g=Qt.create((I?"radial":"linear")+"Gradient",L,t);for(var q=S._stops,H=0,D=q.length;H<D;H++){var U=q[H],W=U._color,Y=W.getAlpha(),j=U._offset;L={offset:j??H/(D-1)},W&&(L["stop-color"]=W.toCSS(!0)),Y<1&&(L["stop-opacity"]=Y),g.appendChild(Qt.create("stop",L,t))}O(C,g,"color")}return"url(#"+g.id+")"}function d(C){var g=Qt.create("text",e(C._matrix,!0),t);return g.textContent=C._content,g}var m={Group:i,Layer:i,Raster:r,Path:s,Shape:h,CompoundPath:c,SymbolItem:f,PointText:d};function y(C,g,S,I){var A={},P=!I&&C.getParent(),L=[];return C._name!=null&&(A.id=C._name),l.each(is,function(F){var q=F.get,H=F.type,D=C[q]();if(F.exportFilter?F.exportFilter(C,D):S.reduceAttributes==!1||!P||!l.equals(P[q](),D)){if(H==="color"&&D!=null){var U=D.getAlpha();U<1&&(A[F.attribute+"-opacity"]=U)}H==="style"?L.push(F.attribute+": "+D):A[F.attribute]=D==null?"none":H==="color"?D.gradient?_(D):D.toCSS(!0):H==="array"?D.join(","):H==="lookup"?F.toSVG[D]:D}}),L.length&&(A.style=L.join(";")),A.opacity===1&&delete A.opacity,C._visible||(A.visibility="hidden"),Qt.set(g,A,t)}var v;function p(C,g){return v||(v={ids:{},svgs:{}}),C&&v.svgs[g+"-"+(C._id||C.__id||(C.__id=X.get("svg")))]}function O(C,g,S){v||p();var I=v.ids[S]=(v.ids[S]||0)+1;g.id=S+"-"+I,v.svgs[S+"-"+(C._id||C.__id)]=g}function x(C,g){var S=C,I=null;if(v){S=C.nodeName.toLowerCase()==="svg"&&C;for(var A in v.svgs)I||(S||(S=Qt.create("svg"),S.appendChild(C)),I=S.insertBefore(Qt.create("defs"),S.firstChild)),I.appendChild(v.svgs[A]);v=null}return g.asString?new n.XMLSerializer().serializeToString(S):S}function k(C,g,S){var I=m[C._class],A=I&&I(C,g);if(A){var P=g.onExport;P&&(A=P(C,A,g)||A);var L=JSON.stringify(C._data);L&&L!=="{}"&&L!=="null"&&A.setAttribute("data-paper-data",L)}return A&&y(C,A,g,S)}function w(C){return C||(C={}),t=new B(C.precision),C}rt.inject({exportSVG:function(C){return C=w(C),x(k(this,C,!0),C)}}),ut.inject({exportSVG:function(C){C=w(C);var g=this._children,S=this.getView(),I=l.pick(C.bounds,"view"),A=C.matrix||I==="view"&&S._matrix,P=A&&st.read([A]),L=I==="view"?new Q([0,0],S.getViewSize()):I==="content"?rt._getBounds(g,P,{stroke:!0}).rect:Q.read([I],0,{readNull:!0}),F={version:"1.1",xmlns:Qt.svg,"xmlns:xlink":Qt.xlink};L&&(F.width=L.width,F.height=L.height,(L.x||L.x===0||L.y||L.y===0)&&(F.viewBox=t.rectangle(L)));var q=Qt.create("svg",F,t),H=q;P&&!P.isIdentity()&&(H=q.appendChild(Qt.create("g",e(P),t)));for(var D=0,U=g.length;D<U;D++)H.appendChild(k(g[D],C,!0));return x(q,C)}})},new function(){var t={},e;function i(g,S,I,A,P,L){var F=Qt.get(g,S)||L,q=F==null?A?null:I?"":0:I?F:parseFloat(F);return/%\s*$/.test(F)?q/100*(P?1:e[/x|^width/.test(S)?"width":"height"]):q}function r(g,S,I,A,P,L,F){return S=i(g,S||"x",!1,A,P,L),I=i(g,I||"y",!1,A,P,F),A&&(S==null||I==null)?null:new M(S,I)}function s(g,S,I,A,P){return S=i(g,S||"width",!1,A,P),I=i(g,I||"height",!1,A,P),A&&(S==null||I==null)?null:new N(S,I)}function h(g,S,I){return g==="none"?null:S==="number"?parseFloat(g):S==="array"?g?g.split(/[\s,]+/g).map(parseFloat):[]:S==="color"?k(g)||g:S==="lookup"?I[g]:g}function c(g,S,I,A){var P=g.childNodes,L=S==="clippath",F=S==="defs",q=new gt,H=q._project,D=H._currentStyle,U=[];if(!L&&!F&&(q=x(q,g,A),H._currentStyle=q._style.clone()),A)for(var W=g.querySelectorAll("defs"),Y=0,j=W.length;Y<j;Y++)w(W[Y],I,!1);for(var Y=0,j=P.length;Y<j;Y++){var K=P[Y],at;K.nodeType===1&&!/^defs$/i.test(K.nodeName)&&(at=w(K,I,!1))&&!(at instanceof Lt)&&U.push(at)}return q.addChildren(U),L&&(q=x(q.reduce(),g,A)),H._currentStyle=D,(L||F)&&(q.remove(),q=null),q}function f(g,S){for(var I=g.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),A=[],P=0,L=I.length;P<L;P+=2)A.push(new M(parseFloat(I[P]),parseFloat(I[P+1])));var F=new zt(A);return S==="polygon"&&F.closePath(),F}function _(g){return le.create(g.getAttribute("d"))}function d(g,S){var I=(i(g,"href",!0)||"").substring(1),A=S==="radialgradient",P;if(I)P=t[I].getGradient(),P._radial^A&&(P=P.clone(),P._radial=A);else{for(var L=g.childNodes,F=[],q=0,H=L.length;q<H;q++){var D=L[q];D.nodeType===1&&F.push(x(new Yn,D))}P=new bn(F,A)}var U,W,Y,j=i(g,"gradientUnits",!0)!=="userSpaceOnUse";A?(U=r(g,"cx","cy",!1,j,"50%","50%"),W=U.add(i(g,"r",!1,!1,j,"50%"),0),Y=r(g,"fx","fy",!0,j)):(U=r(g,"x1","y1",!1,j,"0%","0%"),W=r(g,"x2","y2",!1,j,"100%","0%"));var K=x(new Vt(P,U,W,Y),g);return K._scaleToBounds=j,null}var m={"#document":function(g,S,I,A){for(var P=g.childNodes,L=0,F=P.length;L<F;L++){var q=P[L];if(q.nodeType===1)return w(q,I,A)}},g:c,svg:c,clippath:c,polygon:f,polyline:f,path:_,lineargradient:d,radialgradient:d,image:function(g){var S=new Mt(i(g,"href",!0));return S.on("load",function(){var I=s(g);this.setSize(I);var A=r(g).add(I.divide(2));this._matrix.append(new st().translate(A))}),S},symbol:function(g,S,I,A){return new Lt(c(g,S,I,A),!0)},defs:c,use:function(g){var S=(i(g,"href",!0)||"").substring(1),I=t[S],A=r(g);return I?I instanceof Lt?I.place(A):I.clone().translate(A):null},circle:function(g){return new ft.Circle(r(g,"cx","cy"),i(g,"r"))},ellipse:function(g){return new ft.Ellipse({center:r(g,"cx","cy"),radius:s(g,"rx","ry")})},rect:function(g){return new ft.Rectangle(new Q(r(g),s(g)),s(g,"rx","ry"))},line:function(g){return new zt.Line(r(g,"x1","y1"),r(g,"x2","y2"))},text:function(g){var S=new qe(r(g).add(r(g,"dx","dy")));return S.setContent(g.textContent.trim()||""),S},switch:c};function y(g,S,I,A){if(g.transform){for(var P=(A.getAttribute(I)||"").split(/\)\s*/g),L=new st,F=0,q=P.length;F<q;F++){var H=P[F];if(!H)break;for(var D=H.split(/\(\s*/),U=D[0].trim(),W=D[1].split(/[\s,]+/g),Y=0,j=W.length;Y<j;Y++)W[Y]=parseFloat(W[Y]);switch(U){case"matrix":L.append(new st(W[0],W[1],W[2],W[3],W[4],W[5]));break;case"rotate":L.rotate(W[0],W[1]||0,W[2]||0);break;case"translate":L.translate(W[0],W[1]||0);break;case"scale":L.scale(W);break;case"skewX":L.skew(W[0],0);break;case"skewY":L.skew(0,W[0]);break}}g.transform(L)}}function v(g,S,I){var A=I==="fill-opacity"?"getFillColor":"getStrokeColor",P=g[A]&&g[A]();P&&P.setAlpha(parseFloat(S))}var p=l.set(l.each(is,function(g){this[g.attribute]=function(S,I){if(S[g.set]&&(S[g.set](h(I,g.type,g.fromSVG)),g.type==="color")){var A=S[g.get]();if(A&&A._scaleToBounds){var P=S.getBounds();A.transform(new st().translate(P.getPoint()).scale(P.getSize()))}}}},{}),{id:function(g,S){t[S]=g,g.setName&&g.setName(S)},"clip-path":function(g,S){var I=k(S);if(I)if(I=I.clone(),I.setClipMask(!0),g instanceof gt)g.insertChild(0,I);else return new gt(I,g)},gradientTransform:y,transform:y,"fill-opacity":v,"stroke-opacity":v,visibility:function(g,S){g.setVisible&&g.setVisible(S==="visible")},display:function(g,S){g.setVisible&&g.setVisible(S!==null)},"stop-color":function(g,S){g.setColor&&g.setColor(S)},"stop-opacity":function(g,S){g._color&&g._color.setAlpha(parseFloat(S))},offset:function(g,S){if(g.setOffset){var I=S.match(/(.*)%$/);g.setOffset(I?I[1]/100:parseFloat(S))}},viewBox:function(g,S,I,A,P){var L=new Q(h(S,"array")),F=s(A,null,null,!0),q,H;if(g instanceof gt){var D=F?F.divide(L.getSize()):1,H=new st().scale(D).translate(L.getPoint().negate());q=g}else g instanceof Lt&&(F&&L.setSize(F),q=g._item);if(q){if(O(A,"overflow",P)!=="visible"){var U=new ft.Rectangle(L);U.setClipMask(!0),q.addChild(U)}H&&q.transform(H)}}});function O(g,S,I){var A=g.attributes[S],P=A&&A.value;if(!P&&g.style){var L=l.camelize(S);P=g.style[L],!P&&I.node[L]!==I.parent[L]&&(P=I.node[L])}return P?P==="none"?null:P:a}function x(g,S,I){var A=S.parentNode,P={node:Jt.getStyles(S)||{},parent:!I&&!/^defs$/i.test(A.tagName)&&Jt.getStyles(A)||{}};return l.each(p,function(L,F){var q=O(S,F,P);g=q!==a&&L(g,q,F,S,P)||g}),g}function k(g){var S=g&&g.match(/\((?:["'#]*)([^"')]+)/),I=S&&S[1],A=I&&t[u?I.replace(u.location.href.split("#")[0]+"#",""):I];return A&&A._scaleToBounds&&(A=A.clone(),A._scaleToBounds=!0),A}function w(g,S,I){var A=g.nodeName.toLowerCase(),P=A!=="#document",L=o.body,F,q,H;I&&P&&(e=At.getView().getSize(),e=s(g,null,null,!0)||e,F=Qt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),q=g.parentNode,H=g.nextSibling,F.appendChild(g),L.appendChild(F));var D=At.settings,U=D.applyMatrix,W=D.insertItems;D.applyMatrix=!1,D.insertItems=!1;var Y=m[A],j=Y&&Y(g,A,S,I)||null;if(D.insertItems=W,D.applyMatrix=U,j){P&&!(j instanceof gt)&&(j=x(j,g,I));var K=S.onImport,at=P&&g.getAttribute("data-paper-data");K&&(j=K(g,j,S)||j),S.expandShapes&&j instanceof ft&&(j.remove(),j=j.toPath()),at&&(j._data=JSON.parse(at))}return F&&(L.removeChild(F),q&&(H?q.insertBefore(g,H):q.appendChild(g))),I&&(t={},j&&l.pick(S.applyMatrix,U)&&j.matrix.apply(!0,!0)),j}function C(g,S,I){if(!g)return null;S=typeof S=="function"?{onLoad:S}:S||{};var A=At,P=null;function L(D){try{var U=typeof D=="object"?D:new n.DOMParser().parseFromString(D.trim(),"image/svg+xml");if(!U.nodeName)throw U=null,new Error("Unsupported SVG source: "+g);At=A,P=w(U,S,!0),(!S||S.insert!==!1)&&I._insertItem(a,P);var W=S.onLoad;W&&W(P,D)}catch(Y){F(Y)}}function F(D,U){var W=S.onError;if(W)W(D,U);else throw new Error(D)}if(typeof g=="string"&&!/^[\s\S]*</.test(g)){var q=o.getElementById(g);q?L(q):es.request({url:g,async:!0,onLoad:L,onError:F})}else if(typeof File<"u"&&g instanceof File){var H=new FileReader;return H.onload=function(){L(H.result)},H.onerror=function(){F(H.error)},H.readAsText(g)}else L(g);return P}rt.inject({importSVG:function(g,S){return C(g,S,this)}}),ut.inject({importSVG:function(g,S){return this.activate(),C(g,S,this)}})},l.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof jo<"u")try{e=require("acorn")}catch{}if(!e){var i,r;e=i=r={},function(x,k){if(typeof i=="object"&&typeof r=="object")return k(i);if(typeof a=="function"&&a.amd)return a(["exports"],k);k(x.acorn||(x.acorn={}))}(this,function(x){x.version="0.5.0";var k,w,C,g;x.parse=function(V,Z){return w=String(V),C=w.length,I(Z),ps(),Su(k.program)};var S=x.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function I(V){k=V||{};for(var Z in S)Object.prototype.hasOwnProperty.call(k,Z)||(k[Z]=S[Z]);g=k.sourceFile||null}var A=x.getLineInfo=function(V,Z){for(var $=1,nt=0;;){qi.lastIndex=nt;var St=qi.exec(V);if(St&&St.index<Z)++$,nt=St.index+St[0].length;else break}return{line:$,column:Z-nt}};x.tokenize=function(V,Z){w=String(V),C=w.length,I(Z),ps();var $={};function nt(St){return at=F,Ti(St),$.start=L,$.end=F,$.startLoc=q,$.endLoc=H,$.type=D,$.value=U,$}return nt.jumpTo=function(St,Ct){if(P=St,k.locations){Y=1,j=qi.lastIndex=0;for(var Ot;(Ot=qi.exec(w))&&Ot.index<St;)++Y,j=Ot.index+Ot[0].length}W=Ct,Vi()},nt};var P,L,F,q,H,D,U,W,Y,j,K,at,ct,_t,vt,et;function it(V,Z){var $=A(w,V);Z+=" ("+$.line+":"+$.column+")";var nt=new SyntaxError(Z);throw nt.pos=V,nt.loc=$,nt.raisedAt=P,nt}var dt=[],wt={type:"num"},mt={type:"regexp"},xt={type:"string"},bt={type:"name"},Pt={type:"eof"},kt={keyword:"break"},Tt={keyword:"case",beforeExpr:!0},ue={keyword:"catch"},oe={keyword:"continue"},de={keyword:"debugger"},$t={keyword:"default"},Nt={keyword:"do",isLoop:!0},te={keyword:"else",beforeExpr:!0},xe={keyword:"finally"},he={keyword:"for",isLoop:!0},De={keyword:"function"},hi={keyword:"if"},Ve={keyword:"return",beforeExpr:!0},Ue={keyword:"switch"},Se={keyword:"throw",beforeExpr:!0},Ie={keyword:"try"},li={keyword:"var"},He={keyword:"while",isLoop:!0},Sn={keyword:"with"},ns={keyword:"new",beforeExpr:!0},rs={keyword:"this"},ss={keyword:"null",atomValue:null},as={keyword:"true",atomValue:!0},us={keyword:"false",atomValue:!1},Cn={keyword:"in",binop:7,beforeExpr:!0},Jn={break:kt,case:Tt,catch:ue,continue:oe,debugger:de,default:$t,do:Nt,else:te,finally:xe,for:he,function:De,if:hi,return:Ve,switch:Ue,throw:Se,try:Ie,var:li,while:He,with:Sn,null:ss,true:as,false:us,new:ns,in:Cn,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:rs,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Tn={type:"[",beforeExpr:!0},Pn={type:"]"},Fi={type:"{",beforeExpr:!0},xi={type:"}"},Ye={type:"(",beforeExpr:!0},We={type:")"},ii={type:",",beforeExpr:!0},je={type:";",beforeExpr:!0},Ni={type:":",beforeExpr:!0},Qn={type:"."},$n={type:"?",beforeExpr:!0},tr={binop:10,beforeExpr:!0},er={isAssign:!0,beforeExpr:!0},Si={isAssign:!0,beforeExpr:!0},Ka={postfix:!0,prefix:!0,isUpdate:!0},os={prefix:!0,beforeExpr:!0},hs={binop:1,beforeExpr:!0},ls={binop:2,beforeExpr:!0},Ja={binop:3,beforeExpr:!0},Qa={binop:4,beforeExpr:!0},$a={binop:5,beforeExpr:!0},tu={binop:6,beforeExpr:!0},eu={binop:7,beforeExpr:!0},iu={binop:8,beforeExpr:!0},nu={binop:9,prefix:!0,beforeExpr:!0},ru={binop:10,beforeExpr:!0};x.tokTypes={bracketL:Tn,bracketR:Pn,braceL:Fi,braceR:xi,parenL:Ye,parenR:We,comma:ii,semi:je,colon:Ni,dot:Qn,question:$n,slash:tr,eq:er,name:bt,eof:Pt,num:wt,regexp:mt,string:xt};for(var fs in Jn)x.tokTypes["_"+fs]=Jn[fs];function en(V){V=V.split(" ");var Z="",$=[];t:for(var nt=0;nt<V.length;++nt){for(var St=0;St<$.length;++St)if($[St][0].length==V[nt].length){$[St].push(V[nt]);continue t}$.push([V[nt]])}function Ct(Bt){if(Bt.length==1)return Z+="return str === "+JSON.stringify(Bt[0])+";";Z+="switch(str){";for(var Ze=0;Ze<Bt.length;++Ze)Z+="case "+JSON.stringify(Bt[Ze])+":";Z+="return true}return false;"}if($.length>3){$.sort(function(Bt,Ze){return Ze.length-Bt.length}),Z+="switch(str.length){";for(var nt=0;nt<$.length;++nt){var Ot=$[nt];Z+="case "+Ot[0].length+":",Ct(Ot)}Z+="}"}else Ct(V);return new Function("str",Z)}var su=en("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),au=en("class enum extends super const export import"),cs=en("implements interface let package private protected public static yield"),On=en("eval arguments"),uu=en("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),ou=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_s="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",hu="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",ds=new RegExp("["+_s+"]"),lu=new RegExp("["+_s+hu+"]"),kn=/[\n\r\u2028\u2029]/,qi=/\r\n|[\n\r\u2028\u2029]/g,In=x.isIdentifierStart=function(V){return V<65?V===36:V<91?!0:V<97?V===95:V<123?!0:V>=170&&ds.test(String.fromCharCode(V))},gs=x.isIdentifierChar=function(V){return V<48?V===36:V<58?!0:V<65?!1:V<91?!0:V<97?V===95:V<123?!0:V>=170&&lu.test(String.fromCharCode(V))};function Ci(){this.line=Y,this.column=P-j}function ps(){Y=1,P=j=0,W=!0,Vi()}function fe(V,Z){F=P,k.locations&&(H=new Ci),D=V,Vi(),U=Z,W=V.beforeExpr}function fu(){var V=k.onComment&&k.locations&&new Ci,Z=P,$=w.indexOf("*/",P+=2);if($===-1&&it(P-2,"Unterminated comment"),P=$+2,k.locations){qi.lastIndex=Z;for(var nt;(nt=qi.exec(w))&&nt.index<P;)++Y,j=nt.index+nt[0].length}k.onComment&&k.onComment(!0,w.slice(Z+2,$),Z,P,V,k.locations&&new Ci)}function ir(){for(var V=P,Z=k.onComment&&k.locations&&new Ci,$=w.charCodeAt(P+=2);P<C&&$!==10&&$!==13&&$!==8232&&$!==8233;)++P,$=w.charCodeAt(P);k.onComment&&k.onComment(!1,w.slice(V+2,P),V,P,Z,k.locations&&new Ci)}function Vi(){for(;P<C;){var V=w.charCodeAt(P);if(V===32)++P;else if(V===13){++P;var Z=w.charCodeAt(P);Z===10&&++P,k.locations&&(++Y,j=P)}else if(V===10||V===8232||V===8233)++P,k.locations&&(++Y,j=P);else if(V>8&&V<14)++P;else if(V===47){var Z=w.charCodeAt(P+1);if(Z===42)fu();else if(Z===47)ir();else break}else if(V===160)++P;else if(V>=5760&&ou.test(String.fromCharCode(V)))++P;else break}}function cu(){var V=w.charCodeAt(P+1);return V>=48&&V<=57?ms(!0):(++P,fe(Qn))}function _u(){var V=w.charCodeAt(P+1);return W?(++P,vs()):V===61?ce(Si,2):ce(tr,1)}function du(){var V=w.charCodeAt(P+1);return V===61?ce(Si,2):ce(ru,1)}function gu(V){var Z=w.charCodeAt(P+1);return Z===V?ce(V===124?hs:ls,2):Z===61?ce(Si,2):ce(V===124?Ja:$a,1)}function pu(){var V=w.charCodeAt(P+1);return V===61?ce(Si,2):ce(Qa,1)}function vu(V){var Z=w.charCodeAt(P+1);return Z===V?Z==45&&w.charCodeAt(P+2)==62&&kn.test(w.slice(at,P))?(P+=3,ir(),Vi(),Ti()):ce(Ka,2):Z===61?ce(Si,2):ce(nu,1)}function mu(V){var Z=w.charCodeAt(P+1),$=1;return Z===V?($=V===62&&w.charCodeAt(P+2)===62?3:2,w.charCodeAt(P+$)===61?ce(Si,$+1):ce(iu,$)):Z==33&&V==60&&w.charCodeAt(P+2)==45&&w.charCodeAt(P+3)==45?(P+=4,ir(),Vi(),Ti()):(Z===61&&($=w.charCodeAt(P+2)===61?3:2),ce(eu,$))}function wu(V){var Z=w.charCodeAt(P+1);return Z===61?ce(tu,w.charCodeAt(P+2)===61?3:2):ce(V===61?er:os,1)}function yu(V){switch(V){case 46:return cu();case 40:return++P,fe(Ye);case 41:return++P,fe(We);case 59:return++P,fe(je);case 44:return++P,fe(ii);case 91:return++P,fe(Tn);case 93:return++P,fe(Pn);case 123:return++P,fe(Fi);case 125:return++P,fe(xi);case 58:return++P,fe(Ni);case 63:return++P,fe($n);case 48:var Z=w.charCodeAt(P+1);if(Z===120||Z===88)return bu();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ms(!1);case 34:case 39:return xu(V);case 47:return _u();case 37:case 42:return du();case 124:case 38:return gu(V);case 94:return pu();case 43:case 45:return vu(V);case 60:case 62:return mu(V);case 61:case 33:return wu(V);case 126:return ce(os,1)}return!1}function Ti(V){if(V?P=L+1:L=P,k.locations&&(q=new Ci),V)return vs();if(P>=C)return fe(Pt);var Z=w.charCodeAt(P);if(In(Z)||Z===92)return ys();var $=yu(Z);if($===!1){var nt=String.fromCharCode(Z);if(nt==="\\"||ds.test(nt))return ys();it(P,"Unexpected character '"+nt+"'")}return $}function ce(V,Z){var $=w.slice(P,P+Z);P+=Z,fe(V,$)}function vs(){for(var St="",V,Z,$=P;;){P>=C&&it($,"Unterminated regular expression");var nt=w.charAt(P);if(kn.test(nt)&&it($,"Unterminated regular expression"),V)V=!1;else{if(nt==="[")Z=!0;else if(nt==="]"&&Z)Z=!1;else if(nt==="/"&&!Z)break;V=nt==="\\"}++P}var St=w.slice($,P);++P;var Ct=ws();Ct&&!/^[gmsiy]*$/.test(Ct)&&it($,"Invalid regexp flag");try{var Ot=new RegExp(St,Ct)}catch(Bt){Bt instanceof SyntaxError&&it($,Bt.message),it(Bt)}return fe(mt,Ot)}function nn(V,Z){for(var $=P,nt=0,St=0,Ct=Z??1/0;St<Ct;++St){var Ot=w.charCodeAt(P),Bt;if(Ot>=97?Bt=Ot-97+10:Ot>=65?Bt=Ot-65+10:Ot>=48&&Ot<=57?Bt=Ot-48:Bt=1/0,Bt>=V)break;++P,nt=nt*V+Bt}return P===$||Z!=null&&P-$!==Z?null:nt}function bu(){P+=2;var V=nn(16);return V==null&&it(L+2,"Expected hexadecimal number"),In(w.charCodeAt(P))&&it(P,"Identifier directly after number"),fe(wt,V)}function ms(V){var Z=P,$=!1,nt=w.charCodeAt(P)===48;!V&&nn(10)===null&&it(Z,"Invalid number"),w.charCodeAt(P)===46&&(++P,nn(10),$=!0);var St=w.charCodeAt(P);(St===69||St===101)&&(St=w.charCodeAt(++P),(St===43||St===45)&&++P,nn(10)===null&&it(Z,"Invalid number"),$=!0),In(w.charCodeAt(P))&&it(P,"Identifier directly after number");var Ct=w.slice(Z,P),Ot;return $?Ot=parseFloat(Ct):!nt||Ct.length===1?Ot=parseInt(Ct,10):/[89]/.test(Ct)||et?it(Z,"Invalid number"):Ot=parseInt(Ct,8),fe(wt,Ot)}function xu(V){P++;for(var Z="";;){P>=C&&it(L,"Unterminated string constant");var $=w.charCodeAt(P);if($===V)return++P,fe(xt,Z);if($===92){$=w.charCodeAt(++P);var nt=/^[0-7]+/.exec(w.slice(P,P+3));for(nt&&(nt=nt[0]);nt&&parseInt(nt,8)>255;)nt=nt.slice(0,-1);if(nt==="0"&&(nt=null),++P,nt)et&&it(P-2,"Octal literal in strict mode"),Z+=String.fromCharCode(parseInt(nt,8)),P+=nt.length-1;else switch($){case 110:Z+=`
`;break;case 114:Z+="\r";break;case 120:Z+=String.fromCharCode(An(2));break;case 117:Z+=String.fromCharCode(An(4));break;case 85:Z+=String.fromCharCode(An(8));break;case 116:Z+="	";break;case 98:Z+="\b";break;case 118:Z+="\v";break;case 102:Z+="\f";break;case 48:Z+="\0";break;case 13:w.charCodeAt(P)===10&&++P;case 10:k.locations&&(j=P,++Y);break;default:Z+=String.fromCharCode($);break}}else($===13||$===10||$===8232||$===8233)&&it(L,"Unterminated string constant"),Z+=String.fromCharCode($),++P}}function An(V){var Z=nn(16,V);return Z===null&&it(L,"Bad character escape sequence"),Z}var Ui;function ws(){Ui=!1;for(var V,Z=!0,$=P;;){var nt=w.charCodeAt(P);if(gs(nt))Ui&&(V+=w.charAt(P)),++P;else if(nt===92){Ui||(V=w.slice($,P)),Ui=!0,w.charCodeAt(++P)!=117&&it(P,"Expecting Unicode escape sequence \\uXXXX"),++P;var St=An(4),Ct=String.fromCharCode(St);Ct||it(P-1,"Invalid Unicode escape"),(Z?In(St):gs(St))||it(P-4,"Invalid Unicode escape"),V+=Ct}else break;Z=!1}return Ui?V:w.slice($,P)}function ys(){var V=ws(),Z=bt;return!Ui&&uu(V)&&(Z=Jn[V]),fe(Z,V)}function Dt(){K=L,at=F,ct=H,Ti()}function nr(V){if(et=V,P=L,k.locations)for(;P<j;)j=w.lastIndexOf(`
`,j-2)+1,--Y;Vi(),Ti()}function bs(){this.type=null,this.start=L,this.end=null}function xs(){this.start=q,this.end=null,g!==null&&(this.source=g)}function ge(){var V=new bs;return k.locations&&(V.loc=new xs),k.directSourceFile&&(V.sourceFile=k.directSourceFile),k.ranges&&(V.range=[L,0]),V}function fi(V){var Z=new bs;return Z.start=V.start,k.locations&&(Z.loc=new xs,Z.loc.start=V.loc.start),k.ranges&&(Z.range=[V.range[0],0]),Z}function It(V,Z){return V.type=Z,V.end=at,k.locations&&(V.loc.end=ct),k.ranges&&(V.range[1]=at),V}function rr(V){return k.ecmaVersion>=5&&V.type==="ExpressionStatement"&&V.expression.type==="Literal"&&V.expression.value==="use strict"}function Gt(V){if(D===V)return Dt(),!0}function Mn(){return!k.strictSemicolons&&(D===Pt||D===xi||kn.test(w.slice(at,L)))}function Pi(){!Gt(je)&&!Mn()&&ni()}function ie(V){D===V?Dt():ni()}function ni(){it(L,"Unexpected token")}function zn(V){V.type!=="Identifier"&&V.type!=="MemberExpression"&&it(V.start,"Assigning to rvalue"),et&&V.type==="Identifier"&&On(V.name)&&it(V.start,"Assigning to "+V.name+" in strict mode")}function Su(V){K=at=P,k.locations&&(ct=new Ci),_t=et=null,vt=[],Ti();var Z=V||ge(),$=!0;for(V||(Z.body=[]);D!==Pt;){var nt=Ge();Z.body.push(nt),$&&rr(nt)&&nr(!0),$=!1}return It(Z,"Program")}var sr={kind:"loop"},Cu={kind:"switch"};function Ge(){(D===tr||D===Si&&U=="/=")&&Ti(!0);var V=D,Z=ge();switch(V){case kt:case oe:Dt();var $=V===kt;Gt(je)||Mn()?Z.label=null:D!==bt?ni():(Z.label=ci(),Pi());for(var nt=0;nt<vt.length;++nt){var St=vt[nt];if((Z.label==null||St.name===Z.label.name)&&(St.kind!=null&&($||St.kind==="loop")||Z.label&&$))break}return nt===vt.length&&it(Z.start,"Unsyntactic "+V.keyword),It(Z,$?"BreakStatement":"ContinueStatement");case de:return Dt(),Pi(),It(Z,"DebuggerStatement");case Nt:return Dt(),vt.push(sr),Z.body=Ge(),vt.pop(),ie(He),Z.test=rn(),Pi(),It(Z,"DoWhileStatement");case he:if(Dt(),vt.push(sr),ie(Ye),D===je)return ar(Z,null);if(D===li){var Ct=ge();return Dt(),Cs(Ct,!0),It(Ct,"VariableDeclaration"),Ct.declarations.length===1&&Gt(Cn)?Ss(Z,Ct):ar(Z,Ct)}var Ct=me(!1,!0);return Gt(Cn)?(zn(Ct),Ss(Z,Ct)):ar(Z,Ct);case De:return Dt(),fr(Z,!0);case hi:return Dt(),Z.test=rn(),Z.consequent=Ge(),Z.alternate=Gt(te)?Ge():null,It(Z,"IfStatement");case Ve:return!_t&&!k.allowReturnOutsideFunction&&it(L,"'return' outside of function"),Dt(),Gt(je)||Mn()?Z.argument=null:(Z.argument=me(),Pi()),It(Z,"ReturnStatement");case Ue:Dt(),Z.discriminant=rn(),Z.cases=[],ie(Fi),vt.push(Cu);for(var Ot,Bt;D!=xi;)if(D===Tt||D===$t){var Ze=D===Tt;Ot&&It(Ot,"SwitchCase"),Z.cases.push(Ot=ge()),Ot.consequent=[],Dt(),Ze?Ot.test=me():(Bt&&it(K,"Multiple default clauses"),Bt=!0,Ot.test=null),ie(Ni)}else Ot||ni(),Ot.consequent.push(Ge());return Ot&&It(Ot,"SwitchCase"),Dt(),vt.pop(),It(Z,"SwitchStatement");case Se:return Dt(),kn.test(w.slice(at,L))&&it(at,"Illegal newline after throw"),Z.argument=me(),Pi(),It(Z,"ThrowStatement");case Ie:if(Dt(),Z.block=sn(),Z.handler=null,D===ue){var Oi=ge();Dt(),ie(Ye),Oi.param=ci(),et&&On(Oi.param.name)&&it(Oi.param.start,"Binding "+Oi.param.name+" in strict mode"),ie(We),Oi.guard=null,Oi.body=sn(),Z.handler=It(Oi,"CatchClause")}return Z.guardedHandlers=dt,Z.finalizer=Gt(xe)?sn():null,!Z.handler&&!Z.finalizer&&it(Z.start,"Missing catch or finally clause"),It(Z,"TryStatement");case li:return Dt(),Cs(Z),Pi(),It(Z,"VariableDeclaration");case He:return Dt(),Z.test=rn(),vt.push(sr),Z.body=Ge(),vt.pop(),It(Z,"WhileStatement");case Sn:return et&&it(L,"'with' in strict mode"),Dt(),Z.object=rn(),Z.body=Ge(),It(Z,"WithStatement");case Fi:return sn();case je:return Dt(),It(Z,"EmptyStatement");default:var _r=U,En=me();if(V===bt&&En.type==="Identifier"&&Gt(Ni)){for(var nt=0;nt<vt.length;++nt)vt[nt].name===_r&&it(En.start,"Label '"+_r+"' is already declared");var Au=D.isLoop?"loop":D===Ue?"switch":null;return vt.push({name:_r,kind:Au}),Z.body=Ge(),vt.pop(),Z.label=En,It(Z,"LabeledStatement")}else return Z.expression=En,Pi(),It(Z,"ExpressionStatement")}}function rn(){ie(Ye);var V=me();return ie(We),V}function sn(V){var Z=ge(),$=!0,nt=!1,St;for(Z.body=[],ie(Fi);!Gt(xi);){var Ct=Ge();Z.body.push(Ct),$&&V&&rr(Ct)&&(St=nt,nr(nt=!0)),$=!1}return nt&&!St&&nr(!1),It(Z,"BlockStatement")}function ar(V,Z){return V.init=Z,ie(je),V.test=D===je?null:me(),ie(je),V.update=D===We?null:me(),ie(We),V.body=Ge(),vt.pop(),It(V,"ForStatement")}function Ss(V,Z){return V.left=Z,V.right=me(),ie(We),V.body=Ge(),vt.pop(),It(V,"ForInStatement")}function Cs(V,Z){for(V.declarations=[],V.kind="var";;){var $=ge();if($.id=ci(),et&&On($.id.name)&&it($.id.start,"Binding "+$.id.name+" in strict mode"),$.init=Gt(er)?me(!0,Z):null,V.declarations.push(It($,"VariableDeclarator")),!Gt(ii))break}return V}function me(V,Z){var $=ur(Z);if(!V&&D===ii){var nt=fi($);for(nt.expressions=[$];Gt(ii);)nt.expressions.push(ur(Z));return It(nt,"SequenceExpression")}return $}function ur(V){var Z=Tu(V);if(D.isAssign){var $=fi(Z);return $.operator=U,$.left=Z,Dt(),$.right=ur(V),zn(Z),It($,"AssignmentExpression")}return Z}function Tu(V){var Z=Pu(V);if(Gt($n)){var $=fi(Z);return $.test=Z,$.consequent=me(!0),ie(Ni),$.alternate=me(!0,V),It($,"ConditionalExpression")}return Z}function Pu(V){return or(hr(),-1,V)}function or(V,Z,$){var nt=D.binop;if(nt!=null&&(!$||D!==Cn)&&nt>Z){var St=fi(V);St.left=V,St.operator=U;var Ct=D;Dt(),St.right=or(hr(),nt,$);var Ot=It(St,Ct===hs||Ct===ls?"LogicalExpression":"BinaryExpression");return or(Ot,Z,$)}return V}function hr(){if(D.prefix){var V=ge(),Z=D.isUpdate;return V.operator=U,V.prefix=!0,W=!0,Dt(),V.argument=hr(),Z?zn(V.argument):et&&V.operator==="delete"&&V.argument.type==="Identifier"&&it(V.start,"Deleting local variable in strict mode"),It(V,Z?"UpdateExpression":"UnaryExpression")}for(var $=Ou();D.postfix&&!Mn();){var V=fi($);V.operator=U,V.prefix=!1,V.argument=$,zn($),Dt(),$=It(V,"UpdateExpression")}return $}function Ou(){return an(lr())}function an(V,Z){if(Gt(Qn)){var $=fi(V);return $.object=V,$.property=ci(!0),$.computed=!1,an(It($,"MemberExpression"),Z)}else if(Gt(Tn)){var $=fi(V);return $.object=V,$.property=me(),$.computed=!0,ie(Pn),an(It($,"MemberExpression"),Z)}else if(!Z&&Gt(Ye)){var $=fi(V);return $.callee=V,$.arguments=cr(We,!1),an(It($,"CallExpression"),Z)}else return V}function lr(){switch(D){case rs:var nt=ge();return Dt(),It(nt,"ThisExpression");case bt:return ci();case wt:case xt:case mt:var nt=ge();return nt.value=U,nt.raw=w.slice(L,F),Dt(),It(nt,"Literal");case ss:case as:case us:var nt=ge();return nt.value=D.atomValue,nt.raw=D.keyword,Dt(),It(nt,"Literal");case Ye:var V=q,Z=L;Dt();var $=me();return $.start=Z,$.end=F,k.locations&&($.loc.start=V,$.loc.end=H),k.ranges&&($.range=[Z,F]),ie(We),$;case Tn:var nt=ge();return Dt(),nt.elements=cr(Pn,!0,!0),It(nt,"ArrayExpression");case Fi:return Iu();case De:var nt=ge();return Dt(),fr(nt,!1);case ns:return ku();default:ni()}}function ku(){var V=ge();return Dt(),V.callee=an(lr(),!0),Gt(Ye)?V.arguments=cr(We,!1):V.arguments=dt,It(V,"NewExpression")}function Iu(){var V=ge(),Z=!0,$=!1;for(V.properties=[],Dt();!Gt(xi);){if(Z)Z=!1;else if(ie(ii),k.allowTrailingCommas&&Gt(xi))break;var nt={key:Ts()},St=!1,Ct;if(Gt(Ni)?(nt.value=me(!0),Ct=nt.kind="init"):k.ecmaVersion>=5&&nt.key.type==="Identifier"&&(nt.key.name==="get"||nt.key.name==="set")?(St=$=!0,Ct=nt.kind=nt.key.name,nt.key=Ts(),D!==Ye&&ni(),nt.value=fr(ge(),!1)):ni(),nt.key.type==="Identifier"&&(et||$))for(var Ot=0;Ot<V.properties.length;++Ot){var Bt=V.properties[Ot];if(Bt.key.name===nt.key.name){var Ze=Ct==Bt.kind||St&&Bt.kind==="init"||Ct==="init"&&(Bt.kind==="get"||Bt.kind==="set");Ze&&!et&&Ct==="init"&&Bt.kind==="init"&&(Ze=!1),Ze&&it(nt.key.start,"Redefinition of property")}}V.properties.push(nt)}return It(V,"ObjectExpression")}function Ts(){return D===wt||D===xt?lr():ci(!0)}function fr(V,Z){D===bt?V.id=ci():Z?ni():V.id=null,V.params=[];var $=!0;for(ie(Ye);!Gt(We);)$?$=!1:ie(ii),V.params.push(ci());var nt=_t,St=vt;if(_t=!0,vt=[],V.body=sn(!0),_t=nt,vt=St,et||V.body.body.length&&rr(V.body.body[0]))for(var Ct=V.id?-1:0;Ct<V.params.length;++Ct){var Ot=Ct<0?V.id:V.params[Ct];if((cs(Ot.name)||On(Ot.name))&&it(Ot.start,"Defining '"+Ot.name+"' in strict mode"),Ct>=0)for(var Bt=0;Bt<Ct;++Bt)Ot.name===V.params[Bt].name&&it(Ot.start,"Argument name clash in strict mode")}return It(V,Z?"FunctionDeclaration":"FunctionExpression")}function cr(V,Z,$){for(var nt=[],St=!0;!Gt(V);){if(St)St=!1;else if(ie(ii),Z&&k.allowTrailingCommas&&Gt(V))break;$&&D===ii?nt.push(null):nt.push(me(!0))}return nt}function ci(V){var Z=ge();return V&&k.forbidReserved=="everywhere"&&(V=!1),D===bt?(!V&&(k.forbidReserved&&(k.ecmaVersion===3?su:au)(U)||et&&cs(U))&&w.slice(L,F).indexOf("\\")==-1&&it(L,"The keyword '"+U+"' is reserved"),Z.name=U):V&&D.keyword?Z.name=D.keyword:ni(),W=!1,Dt(),It(Z,"Identifier")}}),e.version||(e=null)}function s(x,k){return(t.acorn||e).parse(x,k)}var h={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},c={"-":"__negate","+":"__self"},f=l.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(x){this["__"+x]="#"+x},{__self:function(){return this}});M.inject(f),N.inject(f),Vt.inject(f);function _(x,k,w){var C=h[k];if(x&&x[C]){var g=x[C](w);return k==="!="?!g:g}switch(k){case"+":return x+w;case"-":return x-w;case"*":return x*w;case"/":return x/w;case"%":return x%w;case"==":return x==w;case"!=":return x!=w}}function d(x,k){var w=c[x];if(k&&k[w])return k[w]();switch(x){case"+":return+k;case"-":return-k}}function m(x,k){if(!x)return"";k=k||{};var w=[];function C(et){for(var it=0,dt=w.length;it<dt;it++){var wt=w[it];if(wt[0]>=et)break;et+=wt[1]}return et}function g(et){return x.substring(C(et.range[0]),C(et.range[1]))}function S(et,it){return x.substring(C(et.range[1]),C(it.range[0]))}function I(et,it){for(var dt=C(et.range[0]),wt=C(et.range[1]),mt=0,xt=w.length-1;xt>=0;xt--)if(dt>w[xt][0]){mt=xt+1;break}w.splice(mt,0,[dt,it.length-wt+dt]),x=x.substring(0,dt)+it+x.substring(wt)}function A(et,it){switch(et.type){case"UnaryExpression":if(et.operator in c&&et.argument.type!=="Literal"){var dt=g(et.argument);I(et,'$__("'+et.operator+'", '+dt+")")}break;case"BinaryExpression":if(et.operator in h&&et.left.type!=="Literal"){var wt=g(et.left),mt=g(et.right),xt=S(et.left,et.right),bt=et.operator;I(et,"__$__("+wt+","+xt.replace(new RegExp("\\"+bt),'"'+bt+'"')+", "+mt+")")}break;case"UpdateExpression":case"AssignmentExpression":var Pt=it&&it.type;if(!(Pt==="ForStatement"||Pt==="BinaryExpression"&&/^[=!<>]/.test(it.operator)||Pt==="MemberExpression"&&it.computed)){if(et.type==="UpdateExpression"){var dt=g(et.argument),kt="__$__("+dt+', "'+et.operator[0]+'", 1)',Tt=dt+" = "+kt;et.prefix?Tt="("+Tt+")":(Pt==="AssignmentExpression"||Pt==="VariableDeclarator"||Pt==="BinaryExpression")&&(g(it.left||it.id)===dt&&(Tt=kt),Tt=dt+"; "+Tt),I(et,Tt)}else if(/^.=$/.test(et.operator)&&et.left.type!=="Literal"){var wt=g(et.left),mt=g(et.right),kt=wt+" = __$__("+wt+', "'+et.operator[0]+'", '+mt+")";I(et,/^\(.*\)$/.test(g(et))?"("+kt+")":kt)}}break}}function P(et){switch(et.type){case"ExportDefaultDeclaration":I({range:[et.start,et.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var it=et.declaration,dt=et.specifiers;if(it){var wt=it.declarations;wt&&(wt.forEach(function(xt){I(xt,"module.exports."+g(xt))}),I({range:[et.start,it.start+it.kind.length]},""))}else if(dt){var mt=dt.map(function(xt){var bt=g(xt);return"module.exports."+bt+" = "+bt+"; "}).join("");mt&&I(et,mt)}break}}function L(et,it,dt){if(et){for(var wt in et)if(wt!=="range"&&wt!=="loc"){var mt=et[wt];if(Array.isArray(mt))for(var xt=0,bt=mt.length;xt<bt;xt++)L(mt[xt],et,dt);else mt&&typeof mt=="object"&&L(mt,et,dt)}dt.operatorOverloading!==!1&&A(et,it),dt.moduleExports!==!1&&P(et)}}function F(et){var it="",dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(et=(Math.abs(et)<<1)+(et<0?1:0);et||!it;){var wt=et&31;et>>=5,et&&(wt|=32),it+=dt[wt]}return it}var q=k.url||"",H=k.sourceMaps,D=k.paperFeatures||{},U=k.source||x,W=k.offset||0,Y=At.agent,j=Y.versionNumber,K=!1,at=/\r\n|\n|\r/mg,ct;if(H&&(Y.chrome&&j>=30||Y.webkit&&j>=537.76||Y.firefox&&j>=23||Y.node)){if(Y.node)W-=2;else if(u&&q&&!u.location.href.indexOf(q)){var _t=o.getElementsByTagName("html")[0].innerHTML;W=_t.substr(0,_t.indexOf(x)+1).match(at).length+1}K=W>0&&!(Y.chrome&&j>=36||Y.safari&&j>=600||Y.firefox&&j>=40||Y.node);var vt=["AA"+F(K?0:W)+"A"];vt.length=(x.match(at)||[]).length+1+(K?W:0),ct={version:3,file:q,names:[],mappings:vt.join(";AACA"),sourceRoot:"",sources:[q],sourcesContent:[U]}}return(D.operatorOverloading!==!1||D.moduleExports!==!1)&&L(s(x,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,D),ct&&(K&&(x=new Array(W+1).join(`
`)+x),/^(inline|both)$/.test(H)&&(x+=`
//# sourceMappingURL=data:application/json;base64,`+n.btoa(unescape(encodeURIComponent(JSON.stringify(ct))))),x+=`
//# sourceURL=`+(q||"paperscript")),{url:q,source:U,code:x,map:ct}}function y(x,k,w){At=k;var C=k.getView(),g=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(x)&&!/\bnew\s+Tool\b/.test(x)?new Ya:null,S=g?g._events:[],I=["onFrame","onResize"].concat(S),A=[],P=[],L,F=typeof x=="object"?x:m(x,w);x=F.code;function q(j,K){for(var at in j)(K||!/^_/.test(at))&&new RegExp("([\\b\\s\\W]|^)"+at.replace(/\$/g,"\\$")+"\\b").test(x)&&(A.push(at),P.push(j[at]))}q({__$__:_,$__:d,paper:k,tool:g},!0),q(k),x="var module = { exports: {} }; "+x;var W=l.each(I,function(j){new RegExp("\\s+"+j+"\\b").test(x)&&(A.push(j),this.push("module.exports."+j+" = "+j+";"))},[]).join(`
`);W&&(x+=`
`+W),x+=`
return module.exports;`;var H=At.agent;if(o&&(H.chrome||H.firefox&&H.versionNumber<40)){var D=o.createElement("script"),U=o.head||o.getElementsByTagName("head")[0];H.firefox&&(x=`
`+x),D.appendChild(o.createTextNode("document.__paperscript__ = function("+A+") {"+x+`
}`)),U.appendChild(D),L=o.__paperscript__,delete o.__paperscript__,U.removeChild(D)}else L=Function(A,x);var W=L&&L.apply(k,P),Y=W||{};return l.each(S,function(j){var K=Y[j];K&&(g[j]=K)}),C&&(Y.onResize&&C.setOnResize(Y.onResize),C.emit("resize",{size:C.size,delta:new M}),Y.onFrame&&C.setOnFrame(Y.onFrame),C.requestUpdate()),W}function v(x){if(/^text\/(?:x-|)paperscript$/.test(x.type)&&T.getAttribute(x,"ignore")!=="true"){var k=T.getAttribute(x,"canvas"),w=o.getElementById(k),C=x.src||x.getAttribute("data-src"),g=T.hasAttribute(x,"async"),S="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+k+'"');var I=T.get(w.getAttribute(S))||new T().setup(w);return w.setAttribute(S,I._id),C?es.request({url:C,async:g,mimeType:"text/plain",onLoad:function(A){y(A,I,C)}}):y(x.innerHTML,I,x.baseURI),x.setAttribute("data-paper-ignore","true"),I}}function p(){l.each(o&&o.getElementsByTagName("script"),v)}function O(x){return x?v(x):p()}return u&&(o.readyState==="complete"?setTimeout(p):se.add(u,{load:p})),{compile:m,execute:y,load:O,parse:s,calculateBinary:_,calculateUnary:d}}).call(this);var At=new(T.inject(l.exports,{Base:l,Numerical:G,Key:ts,DomEvent:se,DomElement:Jt,document:o,window:u,Symbol:Lt,PlacedSymbol:qt}));return At.agent.node&&Hs(At),typeof a=="function"&&a.amd?a("paper",At):z&&(z.exports=At),At}).call(Zo,typeof self=="object"?self:null)})(Ha);var Qo=Ha.exports;const $o=Xo(Qo);document.addEventListener("DOMContentLoaded",function(){const z=document.querySelector(".button"),n=document.getElementById("myCanvas"),a=document.querySelector(".popup"),u=document.querySelector(".popup-button"),o=$o;let l,b;o.setup(n),(()=>{if(navigator.userAgentData.platform==="Windows"){l=46.9,b=45;return}l=36.9,b=37.5})();const T="M457.4,515.3l-144.9,83.9c-18.5,10.7-41.3,10.8-59.8,0.2L50.7,483.9c-18.7-10.7-30.2-30.6-30.2-52.1V200.3c0-21.3,11.3-41,29.7-51.8L252.4,30.4c18.7-10.9,41.8-10.9,60.5,0l201.6,117.5c18.4,10.7,29.8,30.5,29.8,51.8v231.8c0,21.7-11.7,41.7-30.6,52.3L457.4,515.3",E="M59.2,82.7L4.7,50.9c-6.3-3.7-6.3-12.8,0-16.5L59.1,2.3c5.1-3,11.5-3,16.6,0l53.8,32.2c6.2,3.7,6.2,12.7,0,16.4L75.7,82.7C70.6,85.7,64.3,85.7,59.2,82.7";Xe.delayedCall(1,()=>{Xe.to(a,{duration:.4,x:"0%"})}),u.addEventListener("click",()=>Xe.to(a,{duration:.4,x:"-110%"}));class R{constructor(){this.check=!0,this.layerMain=o.project.activeLayer,this.box=new o.Path.Rectangle({position:o.view.center,size:[1e3]}),this.sizeCanvas(),this.hexagonBGC(),this.lines(),this.draw(),this.layerMain.fitBounds(o.view.bounds,!1),o.view.onResize=()=>{this.sizeCanvas(),this.layerMain.fitBounds(o.view.bounds,!1),this.layer.fitBounds(o.view.bounds,!1),this.hexagon.strokeWidth=this.viewHeight*.032,[this.lineLeft,this.lineRight,this.cloneSmall,this.cloneBig].map(X=>{X.strokeWidth=this.viewHeight*.012}),[this.cloneSmallDark,this.cloneBigDark].map(X=>{X.strokeWidth=this.viewHeight*.014})},z.addEventListener("click",()=>{this.check&&(this.check=!1,this.sceneSix(),window.setTimeout(()=>{this.layer.remove(),[this.layerMain,this.layer].map(X=>{X.opacity=1}),this.draw(),this.move()},500))})}sizeCanvas(){this.viewHeight=o.view.bounds.height,this.w=this.box.bounds.left,this.h=this.box.bounds.top}hexagonBGC(){this.bgcLeft=new o.Path.RegularPolygon({sides:6,radius:220}),this.bgcRight=this.bgcLeft.clone(),this.bgcLeft.removeSegment(2),this.bgcLeft.removeSegment(2),this.bgcLeft.fillColor={gradient:{stops:[["rgba(26, 46, 119,1)",0],["rgba(30, 17, 70,1)",.5]]},origin:this.bgcLeft.bounds.top,destination:this.bgcLeft.bounds.bottom},this.bgcRight.removeSegment(5),this.bgcRight.removeSegment(0),this.bgcRight.fillColor="rgba(30, 17, 70,1)",this.groupBgc=new o.Group([this.bgcLeft,this.bgcRight]),this.groupBgc.position=o.view.center,this.groupBgc.opacity=0}lines(){this.lineStyle={strokeWidth:this.viewHeight*.012,strokeColor:"#322537",strokeCap:"round"},this.lineLeft=new o.Path(this.lineStyle),this.lineLeft.moveTo(this.w+500,this.h),this.lineLeft.lineTo(this.w+500,this.h+94),this.lineLeft.quadraticCurveTo([this.w+500,this.h+163],[this.w+438,this.h+198]),this.lineLeft.lineTo(this.w+215,this.h+329),this.lineLeft.quadraticCurveTo([this.w+155,this.h+365],[this.w+155,this.h+435]),this.lineLeft.lineTo(this.w+155,this.h+630),this.lineLeft.quadraticCurveTo([this.w+155,this.h+700],[this.w+215,this.h+739]),this.lineLeft.lineTo(this.w+438,this.h+865),this.lineLeft.quadraticCurveTo([this.w+500,this.h+900],[this.w+500,this.h+970]),this.lineLeft.lineTo(this.w+500,this.h+1e3),this.lineLeft.opacity=0,this.lineRight=new o.Path(this.lineStyle),this.lineRight.moveTo(this.w+500,this.h+1e3),this.lineRight.lineTo(this.w+500,this.h+890),this.lineRight.quadraticCurveTo([this.w+500,this.h+838],[this.w+542,this.h+814]),this.lineRight.lineTo(this.w+755,this.h+692),this.lineRight.quadraticCurveTo([this.w+794,this.h+669],[this.w+794,this.h+625]),this.lineRight.lineTo(this.w+794,this.h+377),this.lineRight.quadraticCurveTo([this.w+794,this.h+333],[this.w+758,this.h+311]),this.lineRight.lineTo(this.w+539,this.h+184),this.lineRight.quadraticCurveTo([this.w+500,this.h+161],[this.w+500,this.h+117]),this.lineRight.lineTo(this.w+500,this.h),this.lineRight.opacity=0,this.cloneSmall=new o.Path(T),this.cloneSmall.position=o.view.center,this.cloneSmall.opacity=0,this.cloneSmallDark=this.cloneSmall.clone(),this.cloneSmall.style=this.lineStyle,this.cloneSmallDark.style={strokeWidth:this.viewHeight*.014,strokeColor:"#000000"},this.cloneSmallDark.blendMode="destination-out",[this.cloneSmall,this.cloneSmallDark].map(X=>{X.scale(1.12)}),this.cloneBigDark=this.cloneSmallDark.clone(),this.cloneBig=this.cloneSmall.clone(),[this.cloneBig,this.cloneBigDark].map(X=>{X.scale(1.19)})}draw(){this.layer=new o.Layer({position:o.view.center}),new o.Path.Rectangle({position:o.view.center,size:[1e3]}),this.hexagon=new o.Path(T),this.hexagon.position=o.view.center,this.hexagon.opacity=0,this.hexagon.style={strokeColor:{gradient:{stops:["#21C2FF","#8255FF","#BE23FF"]},origin:this.hexagon.bounds.topLeft,destination:this.hexagon.bounds.bottomRight},strokeWidth:this.viewHeight*.012,strokeCap:"round",shadowColor:"rgba(140, 76, 255,0)",shadowBlur:40},this.hexagon.scale(.48),this.quadrangle=new o.Path(E),this.cloneOne=this.quadrangle.clone(),this.cloneOne1=this.quadrangle.clone(),this.cloneOne2=this.quadrangle.clone(),this.cloneOne3=this.quadrangle.clone(),this.cloneTwo=this.quadrangle.clone(),this.cloneTwo1=this.quadrangle.clone(),this.cloneTwo2=this.quadrangle.clone(),this.cloneThree=this.quadrangle.clone(),this.cloneThree1=this.quadrangle.clone(),this.cloneThree2=this.quadrangle.clone();function X(M,J){M.style={strokeColor:"#645B6C",strokeCap:"round",dashOffset:0},J.scale(.95)}this.groupInTop=new o.Group([this.cloneOne1,this.cloneOne,this.cloneOne2,this.cloneOne3]),X(this.groupInTop,this.groupInTop),this.groupTop=new o.Group([this.quadrangle,this.groupInTop]),this.groupInCenter=new o.Group([this.cloneTwo1,this.cloneTwo2]),X(this.cloneTwo1,this.groupInCenter),this.groupCenter=new o.Group([this.cloneTwo,this.groupInCenter]),this.groupInBottom=new o.Group([this.cloneThree1,this.cloneThree2]),X(this.cloneThree1,this.groupInBottom),this.groupBottom=new o.Group([this.cloneThree,this.groupInBottom]),this.cloneWidth=this.quadrangle.bounds.width/2,this.groupCenter.position=[this.cloneWidth,80],this.groupBottom.position=[this.cloneWidth,115],[this.groupTop,this.groupCenter,this.groupBottom].map(M=>{M.clipped=!0}),this.group=new o.Group([this.groupBottom,this.groupCenter,this.groupTop]),this.group.position=o.view.center,this.group.strokeWidth=this.viewHeight*.008,[this.cloneOne1,this.cloneOne,this.cloneOne2,this.cloneOne3,this.cloneTwo1,this.cloneThree1].map(M=>{M.opacity=0}),this.cloneOne.style={strokeColor:"#ffffff",strokeWidth:this.viewHeight*.006},this.cloneOne3.style={fillColor:"#ffffff",strokeColor:"#ffffff"},this.cloneOne3.translate(0,-this.groupTop.strokeBounds.height),this.cloneTwo2.style={fillColor:{gradient:{stops:[[new o.Color(1,1,1,[.9]),.2],"rgba(255, 255, 255,0)"]},origin:new o.Point(this.w+465,this.h+550),destination:new o.Point(this.w+540,this.h+455)}},this.cloneTwo2.scale(1.05),this.cloneTwo2.translate(75,48),this.cloneThree2.style={fillColor:{gradient:{stops:[[new o.Color(1,1,1,[.8]),.1],"rgba(255, 255, 255,0)"]},origin:new o.Point(this.w+540,this.h+595),destination:new o.Point(this.w+465,this.h+505)}},this.cloneThree2.scale(1.05),this.cloneThree2.translate(-75,48),this.group.scale(1.43),this.shadow(),this.layer.fitBounds(o.view.bounds,!1)}shadow(){this.shadowBlack=new o.Path(E),this.shadowBlack.fillColor="rgba(0, 0, 0,1)",this.shadowBlack.position=o.view.center,this.shadowBlack.position.y-=52,this.shadowBlack.scale(1.4),this.shadowBlack.opacity=0,this.shadowWhite=this.shadowBlack.clone(),this.shadowBlack.shadowColor="rgba(0, 0, 0,0.7)",this.shadowBlack.shadowBlur=60,this.shadowBlack.shadowOffset=new o.Point(0,30),this.shadowWhite.fillColor="rgba(255, 255, 255,0.9)",this.shadowWhite.shadowColor="rgba(255, 255, 255,0.7)",this.shadowWhite.shadowBlur=60}sceneOne(){let X=[0,this.groupTop.bounds.width*3.1],M=[this.groupTop.bounds.width*3.1,0],J=[...X],N=[...M],tt=[0,this.groupCenter.bounds.width*3],Q=[this.groupCenter.bounds.width*3,0],lt=[0,this.groupBottom.bounds.width*3],st=[this.groupBottom.bounds.width*3,0];[this.cloneOne1,this.cloneOne].map(ut=>{ut.dashArray=X}),this.cloneOne2.dashArray=J,this.cloneTwo1.dashArray=tt,this.cloneThree1.dashArray=lt;const ht=Xe.timeline();return ht.to([this.cloneOne1,this.cloneOne],{duration:.1,opacity:1,ease:"none"},"start").to(this.groupTop,{duration:.6,onUpdate:()=>{this.groupTop.scale(1.008)}},"start").to([this.cloneOne1,this.cloneOne],{duration:.8,dashOffset:-this.groupTop.bounds.width*1.7,ease:"none"},"start").to(X,{duration:.8,endArray:M,onUpdate:()=>{this.cloneOne1.dashArray=X,this.cloneOne.dashArray=X}},"start").to(this.cloneOne2,{duration:0,opacity:1,ease:"none"},"start+=0.1").to(this.cloneOne2,{duration:.8,dashOffset:-this.groupTop.bounds.width*1.7,ease:"none"},"start+=0.1").to(J,{duration:.8,endArray:N,onUpdate:()=>{this.cloneOne2.dashArray=J}},"start+=0.1").to(this.cloneTwo1,{duration:.6,opacity:1,ease:"none"},"start+=0.3").to(this.groupCenter,{duration:.6,onUpdate:()=>{this.groupCenter.scale(1.008)}},"start+=0.3").to(this.cloneTwo1,{duration:.8,dashOffset:-this.groupCenter.bounds.width*2.5,ease:"none"},"start+=0.3").to(tt,{duration:.8,endArray:Q,onUpdate:()=>{this.cloneTwo1.dashArray=tt}},"start+=0.3").to(this.cloneThree1,{duration:.6,opacity:1,ease:"none"},"start+=0.45").to(this.groupBottom,{duration:.6,onUpdate:()=>{this.groupBottom.scale(1.008)}},"start+=0.45").to(this.cloneThree1,{duration:.8,dashOffset:-this.groupCenter.bounds.width*.72,ease:"none"},"start+=0.45").to(lt,{duration:.8,endArray:st,onUpdate:()=>{this.cloneThree1.dashArray=lt}},"start+=0.45"),ht}sceneTwo(){let X=this.groupInCenter.strokeBounds.width*.41/b,M=this.groupInCenter.strokeBounds.height*.41/b,J=0,N=0;const tt=Xe.timeline();return tt.to(this.cloneOne3,{duration:.6,opacity:1,ease:"none"},"start").to(this.cloneOne3,{duration:.6,onUpdate:()=>{this.cloneOne3.translate(0,this.groupTop.strokeBounds.height/l)}},"start").to(this.groupTop,{duration:.6,onUpdate:()=>{this.groupTop.scale(.991)}},"start").to(this.groupCenter,{duration:.6,onUpdate:()=>{this.groupCenter.scale(.991)}},"start+=0.2").to(this.cloneTwo2,{duration:.6,onUpdate:()=>{this.cloneTwo2.translate(-X,-M)}},"start+=0.2").to(this.groupBottom,{duration:.6,onUpdate:()=>{this.groupBottom.scale(.991)}},"start+=0.4").to(this.cloneThree2,{duration:.6,onUpdate:()=>{this.cloneThree2.translate(X,-M)}},"start+=0.4").to([this.cloneOne1,this.cloneOne2],{duration:0,opacity:0},"start+=0.6").to(this.cloneTwo2,{duration:.6,onUpdate:()=>{J+=.0243,this.cloneTwo2.fillColor.gradient.stops=[[new o.Color(1,1,1,[.9]),.2],"rgba(255, 255, 255,"+J+")"]}},"start+=0.6").to(this.cloneTwo1,{duration:.2,opacity:0,ease:"none"},"start+=0.8").to(this.cloneThree2,{duration:.6,onUpdate:()=>{N+=.0216,this.cloneThree2.fillColor.gradient.stops=[[new o.Color(1,1,1,[.8]),.2],"rgba(255, 255, 255,"+N+")"]}},"start+=0.8"),tt}sceneThree(){const X=Xe.timeline();let M=[0,this.viewHeight*1.16];this.hexagon.dashArray=M;let J=[this.viewHeight*1.16,0];return X.to(this.hexagon,{duration:.4,opacity:1,ease:"none"},"one").to(this.hexagon,{duration:1,strokeWidth:this.viewHeight*.032,ease:"none"},"one").to(this.hexagon,{duration:1.2,onUpdate:()=>{this.hexagon.scale(1.0086)}},"one").to(this.hexagon,{duration:1.4,dashOffset:-this.viewHeight*1.13,ease:"none"},"one").to(M,{duration:1.4,endArray:J,onUpdate:()=>{this.hexagon.dashArray=M}},"one").to(this.hexagon,{duration:.4,onUpdate:()=>{this.hexagon.scale(.9932),this.hexagon.shadowColor="rgba(140, 76, 255, 1)"}},"two").to([this.shadowBlack,this.shadowWhite],{duration:.4,opacity:1,ease:"none"},"two").to(this.groupBgc,{duration:.4,opacity:1,ease:"none"},"two+=0.2"),X}sceneFour(){let X=[0,this.viewHeight*2];this.cloneSmall.dashArray=X;let M=[this.viewHeight*.35,this.viewHeight*1.65];this.cloneSmall.dashOffset=300,this.cloneSmallDark.dashArray=[this.viewHeight*.48,this.viewHeight*1.52],this.cloneSmallDark.dashOffset=this.viewHeight*.75;let J=[0,this.viewHeight*2.37];this.cloneBig.dashArray=J;let N=[this.viewHeight*2.37,0];this.cloneBig.dashOffset=this.viewHeight*-.52;let tt=[0,this.viewHeight*2.37];this.cloneBigDark.dashArray=tt;let Q=[this.viewHeight*2.37,0];this.cloneBigDark.dashOffset=this.viewHeight*-.48;const lt=Xe.timeline();return lt.to([this.cloneSmallDark,this.cloneBigDark],{duration:0,opacity:1},"one").to([this.cloneSmall,this.cloneBig],{duration:1,opacity:1,ease:"none"},"one").to(this.cloneSmall,{duration:2.2,dashOffset:-this.viewHeight*1.3,ease:"none"},"one").to(X,{duration:2.2,endArray:M,onUpdate:()=>{this.cloneSmall.dashArray=X}},"one").to(this.cloneBig,{duration:2,dashOffset:-this.viewHeight*.5,ease:"none"},"one").to(J,{duration:2,endArray:N,onUpdate:()=>{this.cloneBig.dashArray=J}},"one").to(this.cloneBigDark,{duration:2,dashOffset:-this.viewHeight*.5,ease:"none"},"one+=0.2").to(tt,{duration:2,endArray:Q,onUpdate:()=>{this.cloneBigDark.dashArray=tt}},"one+=0.2").to([this.cloneSmall,this.cloneBig],{duration:1,opacity:0,ease:"none"},"one+=1").to([this.cloneSmallDark,this.cloneBigDark],{duration:0,opacity:0},"one+=2.2"),lt}line(X,M,J,N){X.dashOffset=this.viewHeight*M,X.dashArray=[this.viewHeight*J,this.viewHeight*N]}sceneFive(){const X=Xe.timeline();return this.line(this.lineLeft,.6,.55,1.4),this.line(this.lineRight,.5,.45,1.5),X.to([this.lineLeft,this.lineRight],{duration:.6,opacity:1,ease:"none"},"one").to(this.lineLeft,{duration:.8,dashOffset:-this.viewHeight*1.4,ease:"none"},"one").to(this.lineRight,{duration:1,dashOffset:-this.viewHeight*1.35,ease:"none"},"one").to([this.lineLeft,this.lineRight],{duration:.6,opacity:0,ease:"none"},"one+=0.4").then(()=>this.check=!0),X}sceneSix(){const X=Xe.timeline();return X.to([this.layerMain,this.layer],{duration:.4,opacity:0}).to(this.groupBgc,{duration:0,opacity:0}),X}move(){Xe.timeline({ease:"none"}).add(this.sceneOne(),"one").add(this.sceneTwo(),"two-=0.3").add(this.sceneThree(),"two-=0.3").add(this.sceneFour(),"two-=0.3").add(this.sceneFive(),"two+=0.25")}}let B=new R;window.onload=()=>{window.setTimeout(()=>B.move(),600)}});
